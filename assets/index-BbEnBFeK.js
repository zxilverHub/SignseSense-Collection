function G0(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function K0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Em={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function M1(){if(U_)return nu;U_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var L_;function P1(){return L_||(L_=1,Em.exports=M1()),Em.exports}var T=P1(),Tm={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function V1(){if(j_)return Be;j_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function V(O,se,fe){this.props=O,this.context=se,this.refs=K,this.updater=fe||k}V.prototype.isReactComponent={},V.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=V.prototype;function W(O,se,fe){this.props=O,this.context=se,this.refs=K,this.updater=fe||k}var ne=W.prototype=new te;ne.constructor=W,B(ne,V.prototype),ne.isPureReactComponent=!0;var me=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function I(O,se,fe,ue,Te,Ve){return fe=Ve.ref,{$$typeof:i,type:O,key:se,ref:fe!==void 0?fe:null,props:Ve}}function R(O,se){return I(O.type,se,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return se[fe]})}var D=/\/+/g;function U(O,se){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):se.toString(36)}function N(){}function lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ie(O,se,fe,ue,Te){var Ve=typeof O;(Ve==="undefined"||Ve==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ve){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case v:return we=O._init,Ie(we(O._payload),se,fe,ue,Te)}}if(we)return Te=Te(O),we=ue===""?"."+U(O,0):ue,me(Te)?(fe="",we!=null&&(fe=we.replace(D,"$&/")+"/"),Ie(Te,se,fe,"",function(ii){return ii})):Te!=null&&(C(Te)&&(Te=R(Te,fe+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+we)),se.push(Te)),1;we=0;var xt=ue===""?".":ue+":";if(me(O))for(var ht=0;ht<O.length;ht++)ue=O[ht],Ve=xt+U(ue,ht),we+=Ie(ue,se,fe,Ve,Te);else if(ht=w(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(ue=O.next()).done;)ue=ue.value,Ve=xt+U(ue,ht++),we+=Ie(ue,se,fe,Ve,Te);else if(Ve==="object"){if(typeof O.then=="function")return Ie(lt(O),se,fe,ue,Te);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(O,se,fe){if(O==null)return O;var ue=[],Te=0;return Ie(O,ue,"","",function(Ve){return se.call(fe,Ve,Te++)}),ue}function ie(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var _e=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return Be.Children={map:X,forEach:function(O,se,fe){X(O,function(){se.apply(this,arguments)},fe)},count:function(O){var se=0;return X(O,function(){se++}),se},toArray:function(O){return X(O,function(se){return se})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Be.Component=V,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=W,Be.StrictMode=s,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},Be.cache=function(O){return function(){return O.apply(null,arguments)}},Be.cloneElement=function(O,se,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=B({},O.props),Te=O.key,Ve=void 0;if(se!=null)for(we in se.ref!==void 0&&(Ve=void 0),se.key!==void 0&&(Te=""+se.key),se)!F.call(se,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&se.ref===void 0||(ue[we]=se[we]);var we=arguments.length-2;if(we===1)ue.children=fe;else if(1<we){for(var xt=Array(we),ht=0;ht<we;ht++)xt[ht]=arguments[ht+2];ue.children=xt}return I(O.type,Te,void 0,void 0,Ve,ue)},Be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Be.createElement=function(O,se,fe){var ue,Te={},Ve=null;if(se!=null)for(ue in se.key!==void 0&&(Ve=""+se.key),se)F.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=se[ue]);var we=arguments.length-2;if(we===1)Te.children=fe;else if(1<we){for(var xt=Array(we),ht=0;ht<we;ht++)xt[ht]=arguments[ht+2];Te.children=xt}if(O&&O.defaultProps)for(ue in we=O.defaultProps,we)Te[ue]===void 0&&(Te[ue]=we[ue]);return I(O,Ve,void 0,void 0,null,Te)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(O){return{$$typeof:m,render:O}},Be.isValidElement=C,Be.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ie}},Be.memo=function(O,se){return{$$typeof:g,type:O,compare:se===void 0?null:se}},Be.startTransition=function(O){var se=de.T,fe={};de.T=fe;try{var ue=O(),Te=de.S;Te!==null&&Te(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(je,_e)}catch(Ve){_e(Ve)}finally{de.T=se}},Be.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Be.use=function(O){return de.H.use(O)},Be.useActionState=function(O,se,fe){return de.H.useActionState(O,se,fe)},Be.useCallback=function(O,se){return de.H.useCallback(O,se)},Be.useContext=function(O){return de.H.useContext(O)},Be.useDebugValue=function(){},Be.useDeferredValue=function(O,se){return de.H.useDeferredValue(O,se)},Be.useEffect=function(O,se,fe){var ue=de.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(O,se)},Be.useId=function(){return de.H.useId()},Be.useImperativeHandle=function(O,se,fe){return de.H.useImperativeHandle(O,se,fe)},Be.useInsertionEffect=function(O,se){return de.H.useInsertionEffect(O,se)},Be.useLayoutEffect=function(O,se){return de.H.useLayoutEffect(O,se)},Be.useMemo=function(O,se){return de.H.useMemo(O,se)},Be.useOptimistic=function(O,se){return de.H.useOptimistic(O,se)},Be.useReducer=function(O,se,fe){return de.H.useReducer(O,se,fe)},Be.useRef=function(O){return de.H.useRef(O)},Be.useState=function(O){return de.H.useState(O)},Be.useSyncExternalStore=function(O,se,fe){return de.H.useSyncExternalStore(O,se,fe)},Be.useTransition=function(){return de.H.useTransition()},Be.version="19.1.0",Be}var B_;function Sp(){return B_||(B_=1,Tm.exports=V1()),Tm.exports}var J=Sp();const k1=K0(J),U1=G0({__proto__:null,default:k1},[J]);var Sm={exports:{}},iu={},bm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function L1(){return z_||(z_=1,function(i){function e(X,ie){var _e=X.length;X.push(ie);e:for(;0<_e;){var je=_e-1>>>1,O=X[je];if(0<o(O,ie))X[je]=ie,X[_e]=O,_e=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ie=X[0],_e=X.pop();if(_e!==ie){X[0]=_e;e:for(var je=0,O=X.length,se=O>>>1;je<se;){var fe=2*(je+1)-1,ue=X[fe],Te=fe+1,Ve=X[Te];if(0>o(ue,_e))Te<O&&0>o(Ve,ue)?(X[je]=Ve,X[Te]=_e,je=Te):(X[je]=ue,X[fe]=_e,je=fe);else if(Te<O&&0>o(Ve,_e))X[je]=Ve,X[Te]=_e,je=Te;else break e}}return ie}function o(X,ie){var _e=X.sortIndex-ie.sortIndex;return _e!==0?_e:X.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,w=3,k=!1,B=!1,K=!1,V=!1,te=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=X)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function de(X){if(K=!1,me(X),!B)if(n(p)!==null)B=!0,F||(F=!0,U());else{var ie=n(g);ie!==null&&Ie(de,ie.startTime-X)}}var F=!1,I=-1,R=5,C=-1;function M(){return V?!0:!(i.unstable_now()-C<R)}function D(){if(V=!1,F){var X=i.unstable_now();C=X;var ie=!0;try{e:{B=!1,K&&(K=!1,W(I),I=-1),k=!0;var _e=w;try{t:{for(me(X),b=n(p);b!==null&&!(b.expirationTime>X&&M());){var je=b.callback;if(typeof je=="function"){b.callback=null,w=b.priorityLevel;var O=je(b.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){b.callback=O,me(X),ie=!0;break t}b===n(p)&&s(p),me(X)}else s(p);b=n(p)}if(b!==null)ie=!0;else{var se=n(g);se!==null&&Ie(de,se.startTime-X),ie=!1}}break e}finally{b=null,w=_e,k=!1}ie=void 0}}finally{ie?U():F=!1}}}var U;if(typeof ne=="function")U=function(){ne(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,lt=N.port2;N.port1.onmessage=D,U=function(){lt.postMessage(null)}}else U=function(){te(D,0)};function Ie(X,ie){I=te(function(){X(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var _e=w;w=ie;try{return X()}finally{w=_e}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=w;w=X;try{return ie()}finally{w=_e}},i.unstable_scheduleCallback=function(X,ie,_e){var je=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?je+_e:je):_e=je,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=_e+O,X={id:v++,callback:ie,priorityLevel:X,startTime:_e,expirationTime:O,sortIndex:-1},_e>je?(X.sortIndex=_e,e(g,X),n(p)===null&&X===n(g)&&(K?(W(I),I=-1):K=!0,Ie(de,_e-je))):(X.sortIndex=O,e(p,X),B||k||(B=!0,F||(F=!0,U()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var ie=w;return function(){var _e=w;w=ie;try{return X.apply(this,arguments)}finally{w=_e}}}}(Am)),Am}var F_;function j1(){return F_||(F_=1,bm.exports=L1()),bm.exports}var wm={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function B1(){if(H_)return An;H_=1;var i=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},An.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},An.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},An.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},An.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},An.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},An.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},An.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},An.requestFormReset=function(p){s.d.r(p)},An.unstable_batchedUpdates=function(p,g){return p(g)},An.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},An.useFormStatus=function(){return h.H.useHostTransitionStatus()},An.version="19.1.0",An}var q_;function Y0(){if(q_)return wm.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=B1(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function z1(){if(G_)return iu;G_=1;var i=j1(),e=Sp(),n=Y0();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case V:return"Profiler";case K:return"StrictMode";case de:return"Suspense";case F:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:lt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return lt(t(r))}catch{}}return null}var Ie=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},je=[],O=-1;function se(t){return{current:t}}function fe(t){0>O||(t.current=je[O],je[O]=null,O--)}function ue(t,r){O++,je[O]=t.current,t.current=r}var Te=se(null),Ve=se(null),we=se(null),xt=se(null);function ht(t,r){switch(ue(we,r),ue(Ve,t),ue(Te,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?h_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=h_(r),t=f_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(Te),ue(Te,t)}function ii(){fe(Te),fe(Ve),fe(we)}function xi(t){t.memoizedState!==null&&ue(xt,t);var r=Te.current,a=f_(r,t.type);r!==a&&(ue(Ve,t),ue(Te,a))}function Rt(t){Ve.current===t&&(fe(Te),fe(Ve)),xt.current===t&&(fe(xt),Wl._currentValue=_e)}var Hn=Object.prototype.hasOwnProperty,Di=i.unstable_scheduleCallback,ur=i.unstable_cancelCallback,qn=i.unstable_shouldYield,Ua=i.unstable_requestPaint,Vn=i.unstable_now,il=i.unstable_getCurrentPriorityLevel,Fs=i.unstable_ImmediatePriority,qr=i.unstable_UserBlockingPriority,Gn=i.unstable_NormalPriority,La=i.unstable_LowPriority,Oi=i.unstable_IdlePriority,kn=i.log,Mi=i.unstable_setDisableYieldValue,Et=null,$e=null;function Nn(t){if(typeof kn=="function"&&Mi(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Et,t)}catch{}}var Tt=Math.clz32?Math.clz32:Pi,Hs=Math.log,ja=Math.LN2;function Pi(t){return t>>>=0,t===0?32:31-(Hs(t)/ja|0)|0}var cr=256,Vi=4194304;function Sn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Sn(l):(E&=S,E!==0?f=Sn(E):a||(a=S&~t,a!==0&&(f=Sn(a))))):(S=l&~d,S!==0?f=Sn(S):E!==0?f=Sn(E):a||(a=l&~t,a!==0&&(f=Sn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function _i(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function qs(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var t=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),t}function Gs(){var t=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),t}function ri(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ei(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function j(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Tt(a),ae=1<<Z;S[Z]=0,x[Z]=-1;var Y=q[Z];if(Y!==null)for(q[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}a&=~ae}l!==0&&G(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function G(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Tt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ee(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Tt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function ce(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ve(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pe(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Ce(t,r){var a=ie.p;try{return ie.p=t,r()}finally{ie.p=a}}var pe=Math.random().toString(36).slice(2),ge="__reactFiber$"+pe,Ae="__reactProps$"+pe,it="__reactContainer$"+pe,ke="__reactEvents$"+pe,st="__reactListeners$"+pe,yt="__reactHandles$"+pe,sn="__reactResources$"+pe,vt="__reactMarker$"+pe;function xn(t){delete t[ge],delete t[Ae],delete t[ke],delete t[st],delete t[yt]}function Kn(t){var r=t[ge];if(r)return r;for(var a=t.parentNode;a;){if(r=a[it]||a[ge]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[ge])return a;t=g_(t)}return r}t=a,a=t.parentNode}return null}function dn(t){if(t=t[ge]||t[it]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Xt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function It(t){var r=t[sn];return r||(r=t[sn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[vt]=!0}var Ti=new Set,ki={};function an(t,r){Un(t,r),Un(t+"Capture",r)}function Un(t,r){for(ki[t]=r,t=0;t<r.length;t++)Ti.add(r[t])}var Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},Dt={};function fr(t){return Hn.call(Dt,t)?!0:Hn.call(tt,t)?!1:Ke.test(t)?Dt[t]=!0:(tt[t]=!0,!1)}function Ui(t,r,a){if(fr(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Li(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function mn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ks,Xu;function dr(t){if(Ks===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ks=r&&r[1]||"",Xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+t+Xu}var Ba=!1;function za(t,r){if(!t||Ba)return"";Ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var Y=Q}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(Q){Y=Q}t.call(ae.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var x=E.split(`
`),q=S.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===q.length)for(l=x.length-1,f=q.length-1;1<=l&&0<=f&&x[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==q[f]){var Z=`
`+x[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?dr(a):""}function rl(t){switch(t.tag){case 26:case 27:case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return dr("Activity");default:return""}}function Fa(t){try{var r="";do r+=rl(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Af(t){var r=sl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ha(t){t._valueTracker||(t._valueTracker=Af(t))}function al(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=sl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wf=/[\n"\\]/g;function Ft(t){return t.replace(wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yn(t,r,a,l,f,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Dn(r)):t.value!==""+Dn(r)&&(t.value=""+Dn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Kr(t,E,Dn(r)):a!=null?Kr(t,E,Dn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Dn(S):t.removeAttribute("name")}function Qs(t,r,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Dn(a):"",r=r!=null?""+Dn(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Kr(t,r,a){r==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Dn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ft(t,r,a){if(r!=null&&(r=""+Dn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Dn(a):""}function Xs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Dn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function si(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||$s.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ol(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&$u(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&$u(t,d,r[d])}function ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(t){return If.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pr=null;function ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gr=null,yr=null;function ul(t){var r=dn(t);if(r&&(t=r.stateNode)){var a=t[Ae]||null;e:switch(t=r.stateNode,r.type){case"input":if(Yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ae]||null;if(!f)throw Error(s(90));Yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&al(l)}break e;case"textarea":ft(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&mr(t,!!a.multiple,r,!1)}}}var ji=!1;function Wu(t,r,a){if(ji)return t(r,a);ji=!0;try{var l=t(r);return l}finally{if(ji=!1,(gr!==null||yr!==null)&&(qc(),gr&&(r=gr,t=yr,yr=gr=null,ul(r),t)))for(r=0;r<t.length;r++)ul(t[r])}}function Ws(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=!1;if(Si)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){oi=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{oi=!1}var Bi=null,Yr=null,vr=null;function cl(){if(vr)return vr;var t,r=Yr,a=r.length,l,f="value"in Bi?Bi.value:Bi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return vr=f.slice(t,1<l?1-l:void 0)}function zi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function hl(){return!1}function on(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:hl,this.isPropagationStopped=hl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),r}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=on(at),Js=v({},at,{view:0,detail:0}),Zu=on(Js),Ka,Ya,Hi,ea=v({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(Ka=t.screenX-Hi.screenX,Ya=t.screenY-Hi.screenY):Ya=Ka=0,Hi=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),li=on(ea),Ju=v({},ea,{dataTransfer:0}),Cf=on(Ju),ta=v({},Js,{relatedTarget:0}),Qa=on(ta),fl=v({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=on(fl),ec=v({},at,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$a=on(ec),Nf=v({},at,{data:0}),dl=on(Nf),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nc[t])?!!r[t]:!1}function ia(){return ml}var ic=v({},Js,{key:function(t){if(t.key){var r=na[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wa=on(ic),rc=v({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=on(rc),_r=v({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),sc=on(_r),ac=v({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=on(ac),lc=v({},ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=on(lc),On=v({},at,{newState:0,oldState:0}),uc=on(On),cc=[9,13,27,32],qi=Si&&"CompositionEvent"in window,c=null;Si&&"documentMode"in document&&(c=document.documentMode);var y=Si&&"TextEvent"in window&&!c,_=Si&&(!qi||c&&8<c&&11>=c),A=" ",z=!1;function $(t,r){switch(t){case"keyup":return cc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var We=!1;function $t(t,r){switch(t){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function Ze(t,r){if(We)return t==="compositionend"||!qi&&$(t,r)?(t=cl(),vr=Yr=Bi=null,We=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ln[t.type]:r==="textarea"}function Er(t,r,a,l){gr?yr?yr.push(l):yr=[l]:gr=l,r=$c(r,"onChange"),0<r.length&&(a=new Ga("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var pn=null,Gi=null;function gl(t){a_(t,0)}function hc(t){var r=Xt(t);if(al(r))return t}function Ig(t,r){if(t==="change")return r}var Cg=!1;if(Si){var xf;if(Si){var Df="oninput"in document;if(!Df){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Df=typeof Ng.oninput=="function"}xf=Df}else xf=!1;Cg=xf&&(!document.documentMode||9<document.documentMode)}function xg(){pn&&(pn.detachEvent("onpropertychange",Dg),Gi=pn=null)}function Dg(t){if(t.propertyName==="value"&&hc(Gi)){var r=[];Er(r,Gi,t,ai(t)),Wu(gl,r)}}function uA(t,r,a){t==="focusin"?(xg(),pn=r,Gi=a,pn.attachEvent("onpropertychange",Dg)):t==="focusout"&&xg()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(Gi)}function hA(t,r){if(t==="click")return hc(r)}function fA(t,r){if(t==="input"||t==="change")return hc(r)}function dA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Qn=typeof Object.is=="function"?Object.is:dA;function yl(t,r){if(Qn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Hn.call(r,f)||!Qn(t[f],r[f]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,r){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ys(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ys(t.document)}return r}function Of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var mA=Si&&"documentMode"in document&&11>=document.documentMode,Ja=null,Mf=null,vl=null,Pf=!1;function kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||Ja==null||Ja!==Ys(l)||(l=Ja,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=$c(Mf,"onSelect"),0<l.length&&(r=new Ga("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ja)))}function ra(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var eo={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Vf={},Ug={};Si&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function sa(t){if(Vf[t])return Vf[t];if(!eo[t])return t;var r=eo[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ug)return Vf[t]=r[a];return t}var Lg=sa("animationend"),jg=sa("animationiteration"),Bg=sa("animationstart"),pA=sa("transitionrun"),gA=sa("transitionstart"),yA=sa("transitioncancel"),zg=sa("transitionend"),Fg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function bi(t,r){Fg.set(t,r),an(r,[t])}var Hg=new WeakMap;function ui(t,r){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Fa(r)},Hg.set(t,r),r)}return{value:t,source:r,stack:Fa(r)}}var ci=[],to=0,Uf=0;function fc(){for(var t=to,r=Uf=to=0;r<t;){var a=ci[r];ci[r++]=null;var l=ci[r];ci[r++]=null;var f=ci[r];ci[r++]=null;var d=ci[r];if(ci[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&qg(a,f,d)}}function dc(t,r,a,l){ci[to++]=t,ci[to++]=r,ci[to++]=a,ci[to++]=l,Uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lf(t,r,a,l){return dc(t,r,a,l),mc(t)}function no(t,r){return dc(t,null,null,r),mc(t)}function qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Tt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function mc(t){if(50<Hl)throw Hl=0,qd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var io={};function vA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,r,a,l){return new vA(t,r,a,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tr(t,r){var a=t.alternate;return a===null?(a=Xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function pc(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")jf(t)&&(E=1);else if(typeof t=="string")E=E1(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Xn(31,a,r,f),t.elementType=C,t.lanes=d,t;case B:return aa(a.children,f,d,r);case K:E=8,f|=24;break;case V:return t=Xn(12,a,r,f|2),t.elementType=V,t.lanes=d,t;case de:return t=Xn(13,a,r,f),t.elementType=de,t.lanes=d,t;case F:return t=Xn(19,a,r,f),t.elementType=F,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case ne:E=10;break e;case W:E=9;break e;case me:E=11;break e;case I:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Xn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function aa(t,r,a,l){return t=Xn(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=Xn(6,t,null,r),t.lanes=a,t}function zf(t,r,a){return r=Xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ro=[],so=0,gc=null,yc=0,hi=[],fi=0,oa=null,Sr=1,br="";function la(t,r){ro[so++]=yc,ro[so++]=gc,gc=t,yc=r}function Kg(t,r,a){hi[fi++]=Sr,hi[fi++]=br,hi[fi++]=oa,oa=t;var l=Sr;t=br;var f=32-Tt(l)-1;l&=~(1<<f),a+=1;var d=32-Tt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Sr=1<<32-Tt(r)+f|a<<f|l,br=d+t}else Sr=1<<d|a<<f|l,br=t}function Ff(t){t.return!==null&&(la(t,1),Kg(t,1,0))}function Hf(t){for(;t===gc;)gc=ro[--so],ro[so]=null,yc=ro[--so],ro[so]=null;for(;t===oa;)oa=hi[--fi],hi[fi]=null,br=hi[--fi],hi[fi]=null,Sr=hi[--fi],hi[fi]=null}var Mn=null,Ot=null,rt=!1,ua=null,Ki=!1,qf=Error(s(519));function ca(t){var r=Error(s(418,""));throw Tl(ui(r,t)),qf}function Yg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ge]=t,r[Ae]=l,a){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Ge(Gl[a],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ge("invalid",r),Qs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ha(r);break;case"select":Ge("invalid",r);break;case"textarea":Ge("invalid",r),Xs(r,l.value,l.defaultValue,l.children),Ha(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||c_(r.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",r),Ge("toggle",r)),l.onScroll!=null&&Ge("scroll",r),l.onScrollEnd!=null&&Ge("scrollend",r),l.onClick!=null&&(r.onclick=Wc),r=!0):r=!1,r||ca(t)}function Qg(t){for(Mn=t.return;Mn;)switch(Mn.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:Mn=Mn.return}}function _l(t){if(t!==Mn)return!1;if(!rt)return Qg(t),rt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||am(t.type,t.memoizedProps)),a=!a),a&&Ot&&ca(t),Qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Ot=wi(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Ot=null}}else r===27?(r=Ot,us(t.type)?(t=cm,cm=null,Ot=t):Ot=r):Ot=Mn?wi(t.stateNode.nextSibling):null;return!0}function El(){Ot=Mn=null,rt=!1}function Xg(){var t=ua;return t!==null&&(Bn===null?Bn=t:Bn.push.apply(Bn,t),ua=null),t}function Tl(t){ua===null?ua=[t]:ua.push(t)}var Gf=se(null),ha=null,Ar=null;function Qr(t,r,a){ue(Gf,r._currentValue),r._currentValue=a}function wr(t){t._currentValue=Gf.current,fe(Gf)}function Kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Yf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var x=0;x<r.length;x++)if(S.context===r[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Kf(d.return,a,t),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Kf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Sl(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;Qn(f.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(f===xt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}f=f.return}t!==null&&Yf(r,t,a,l),r.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fa(t){ha=t,Ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return $g(ha,t)}function _c(t,r){return ha===null&&fa(t),$g(t,r)}function $g(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ar===null){if(t===null)throw Error(s(308));Ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ar=Ar.next=r;return a}var _A=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},EA=i.unstable_scheduleCallback,TA=i.unstable_NormalPriority,Zt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new _A,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&EA(TA,function(){t.controller.abort()})}var Al=null,Xf=0,ao=0,oo=null;function SA(t,r){if(Al===null){var a=Al=[];Xf=0,ao=Wd(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,r.then(Wg,Wg),r}function Wg(){if(--Xf===0&&Al!==null){oo!==null&&(oo.status="fulfilled");var t=Al;Al=null,ao=0,oo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function bA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&SA(t,r),Zg!==null&&Zg(t,r)};var da=se(null);function $f(){var t=da.current;return t!==null?t:_t.pooledCache}function Ec(t,r){r===null?ue(da,da.current):ue(da,r.pool)}function Jg(){var t=$f();return t===null?null:{parent:Zt._currentValue,pool:t}}var wl=Error(s(460)),ey=Error(s(474)),Tc=Error(s(542)),Wf={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sc(){}function ny(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Sc,Sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ry(t),t;default:if(typeof r.status=="string")r.then(Sc,Sc);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ry(t),t}throw Rl=r,wl}}var Rl=null;function iy(){if(Rl===null)throw Error(s(459));var t=Rl;return Rl=null,t}function ry(t){if(t===wl||t===Tc)throw Error(s(483))}var Xr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=mc(t),qg(t,null,a),r}return dc(t,l,r,a),mc(t)}function Il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ee(t,a)}}function ed(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var td=!1;function Cl(){if(td){var t=oo;if(t!==null)throw t}}function Nl(t,r,a,l){td=!1;var f=t.updateQueue;Xr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,q=x.next;x.next=null,E===null?d=q:E.next=q,E=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=x))}if(d!==null){var ae=f.baseState;E=0,Z=q=x=null,S=d;do{var Y=S.lane&-536870913,Q=Y!==S.lane;if(Q?(Je&Y)===Y:(l&Y)===Y){Y!==0&&Y===ao&&(td=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,Ne=S;Y=r;var pt=a;switch(Ne.tag){case 1:if(Me=Ne.payload,typeof Me=="function"){ae=Me.call(pt,ae,Y);break e}ae=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ne.payload,Y=typeof Me=="function"?Me.call(pt,ae,Y):Me,Y==null)break e;ae=v({},ae,Y);break e;case 2:Xr=!0}}Y=S.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=Q,x=ae):Z=Z.next=Q,E|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(x=ae),f.baseState=x,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),ss|=E,t.lanes=E,t.memoizedState=ae}}function sy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ay(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],r)}var lo=se(null),bc=se(0);function oy(t,r){t=Or,ue(bc,t),ue(lo,r),Or=t|r.baseLanes}function nd(){ue(bc,Or),ue(lo,lo.current)}function id(){Or=bc.current,fe(lo),fe(bc)}var Zr=0,ze=null,dt=null,Ht=null,Ac=!1,uo=!1,ma=!1,wc=0,xl=0,co=null,AA=0;function jt(){throw Error(s(321))}function rd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Qn(t[a],r[a]))return!1;return!0}function sd(t,r,a,l,f,d){return Zr=d,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?qy:Gy,ma=!1,d=a(l,f),ma=!1,uo&&(d=uy(r,a,l,f)),ly(t),d}function ly(t){X.H=Dc;var r=dt!==null&&dt.next!==null;if(Zr=0,Ht=dt=ze=null,Ac=!1,xl=0,co=null,r)throw Error(s(300));t===null||un||(t=t.dependencies,t!==null&&vc(t)&&(un=!0))}function uy(t,r,a,l){ze=t;var f=0;do{if(uo&&(co=null),xl=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,Ht=dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=DA,d=r(a,l)}while(uo);return d}function wA(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Dl(r):r,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(ze.flags|=1024),r}function ad(){var t=wc!==0;return wc=0,t}function od(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ld(t){if(Ac){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ac=!1}Zr=0,Ht=dt=ze=null,uo=!1,xl=wc=0,co=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ze.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function qt(){if(dt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=Ht===null?ze.memoizedState:Ht.next;if(r!==null)Ht=r,dt=t;else{if(t===null)throw ze.alternate===null?Error(s(467)):Error(s(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?ze.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var r=xl;return xl+=1,co===null&&(co=[]),t=ny(co,t,r),r=ze,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?qy:Gy),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===ne)return bn(t)}throw Error(s(438,String(t)))}function cd(t){var r=null,a=ze.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ud(),ze.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Rr(t,r){return typeof r=="function"?r(t):r}function Ic(t){var r=qt();return hd(r,dt,t)}function hd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=E=null,x=null,q=r,Z=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(Je&ae)===ae:(Zr&ae)===ae){var Y=q.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===ao&&(Z=!0);else if((Zr&Y)===Y){q=q.next,Y===ao&&(Z=!0);continue}else ae={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=ae,E=d):x=x.next=ae,ze.lanes|=Y,ss|=Y;ae=q.action,ma&&a(d,ae),d=q.hasEagerState?q.eagerState:a(d,ae)}else Y={lane:ae,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=Y,E=d):x=x.next=Y,ze.lanes|=ae,ss|=ae;q=q.next}while(q!==null&&q!==r);if(x===null?E=d:x.next=S,!Qn(d,t.memoizedState)&&(un=!0,Z&&(a=oo,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var r=qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Qn(d,r.memoizedState)||(un=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(t,r,a){var l=ze,f=qt(),d=rt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Qn((dt||f).memoizedState,a);E&&(f.memoizedState=a,un=!0),f=f.queue;var S=dy.bind(null,l,f,t);if(Ol(2048,8,S,[t]),f.getSnapshot!==r||E||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,ho(9,Cc(),fy.bind(null,l,f,a,r),null),_t===null)throw Error(s(349));d||(Zr&124)!==0||hy(l,r,a)}return a}function hy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ze.updateQueue,r===null?(r=ud(),ze.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function fy(t,r,a,l){r.value=a,r.getSnapshot=l,my(r)&&py(t)}function dy(t,r,a){return a(function(){my(r)&&py(t)})}function my(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Qn(t,a)}catch{return!0}}function py(t){var r=no(t,2);r!==null&&ei(r,t,2)}function dd(t){var r=Ln();if(typeof t=="function"){var a=t;if(t=a(),ma){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},r}function gy(t,r,a,l){return t.baseState=a,hd(t,dt,typeof l=="function"?l:Rr)}function RA(t,r,a,l,f){if(xc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,yy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function yy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,E={};X.T=E;try{var S=a(f,l),x=X.S;x!==null&&x(E,S),vy(t,r,S)}catch(q){md(t,r,q)}finally{X.T=d}}else try{d=a(f,l),vy(t,r,d)}catch(q){md(t,r,q)}}function vy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,r,l)},function(l){return md(t,r,l)}):_y(t,r,a)}function _y(t,r,a){r.status="fulfilled",r.value=a,Ey(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,yy(t,a)))}function md(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ey(r),r=r.next;while(r!==l)}t.action=null}function Ey(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ty(t,r){return r}function Sy(t,r){if(rt){var a=_t.formState;if(a!==null){e:{var l=ze;if(rt){if(Ot){t:{for(var f=Ot,d=Ki;f.nodeType!==8;){if(!d){f=null;break t}if(f=wi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ot=wi(f.nextSibling),l=f.data==="F!";break e}}ca(l)}l=!1}l&&(r=a[0])}}return a=Ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:r},a.queue=l,a=zy.bind(null,ze,l),l.dispatch=a,l=dd(!1),d=_d.bind(null,ze,!1,l.queue),l=Ln(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=RA.bind(null,ze,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function by(t){var r=qt();return Ay(r,dt,t)}function Ay(t,r,a){if(r=hd(t,r,Ty)[0],t=Ic(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Dl(r)}catch(E){throw E===wl?Tc:E}else l=r;r=qt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(ze.flags|=2048,ho(9,Cc(),IA.bind(null,f,a),null)),[l,d,t]}function IA(t,r){t.action=r}function wy(t){var r=qt(),a=dt;if(a!==null)return Ay(r,a,t);qt(),r=r.memoizedState,a=qt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ho(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=ze.updateQueue,r===null&&(r=ud(),ze.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Cc(){return{destroy:void 0,resource:void 0}}function Ry(){return qt().memoizedState}function Nc(t,r,a,l){var f=Ln();l=l===void 0?null:l,ze.flags|=t,f.memoizedState=ho(1|r,Cc(),a,l)}function Ol(t,r,a,l){var f=qt();l=l===void 0?null:l;var d=f.memoizedState.inst;dt!==null&&l!==null&&rd(l,dt.memoizedState.deps)?f.memoizedState=ho(r,d,a,l):(ze.flags|=t,f.memoizedState=ho(1|r,d,a,l))}function Iy(t,r){Nc(8390656,8,t,r)}function Cy(t,r){Ol(2048,8,t,r)}function Ny(t,r){return Ol(4,2,t,r)}function xy(t,r){return Ol(4,4,t,r)}function Dy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Oy(t,r,a){a=a!=null?a.concat([t]):null,Ol(4,4,Dy.bind(null,r,t),a)}function pd(){}function My(t,r){var a=qt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&rd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Py(t,r){var a=qt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&rd(r,l[1]))return l[0];if(l=t(),ma){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function gd(t,r,a){return a===void 0||(Zr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Uv(),ze.lanes|=t,ss|=t,a)}function Vy(t,r,a,l){return Qn(a,r)?a:lo.current!==null?(t=gd(t,a,l),Qn(t,r)||(un=!0),t):(Zr&42)===0?(un=!0,t.memoizedState=a):(t=Uv(),ze.lanes|=t,ss|=t,r)}function ky(t,r,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var E=X.T,S={};X.T=S,_d(t,!1,r,a);try{var x=f(),q=X.S;if(q!==null&&q(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=bA(x,l);Ml(t,r,Z,Jn(t))}else Ml(t,r,l,Jn(t))}catch(ae){Ml(t,r,{then:function(){},status:"rejected",reason:ae},Jn())}finally{ie.p=d,X.T=E}}function CA(){}function yd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Uy(t).queue;ky(t,f,r,_e,a===null?CA:function(){return Ly(t),a(l)})}function Uy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:_e},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ly(t){var r=Uy(t).next.queue;Ml(t,r,{},Jn())}function vd(){return bn(Wl)}function jy(){return qt().memoizedState}function By(){return qt().memoizedState}function NA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Jn();t=$r(a);var l=Wr(r,t,a);l!==null&&(ei(l,r,a),Il(l,r,a)),r={cache:Qf()},t.payload=r;return}r=r.return}}function xA(t,r,a){var l=Jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xc(t)?Fy(r,a):(a=Lf(t,r,a,l),a!==null&&(ei(a,t,l),Hy(a,r,l)))}function zy(t,r,a){var l=Jn();Ml(t,r,a,l)}function Ml(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(t))Fy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,Qn(S,E))return dc(t,r,f,0),_t===null&&fc(),!1}catch{}finally{}if(a=Lf(t,r,f,l),a!==null)return ei(a,t,l),Hy(a,r,l),!0}return!1}function _d(t,r,a,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(r)throw Error(s(479))}else r=Lf(t,a,l,2),r!==null&&ei(r,t,2)}function xc(t){var r=t.alternate;return t===ze||r!==null&&r===ze}function Fy(t,r){uo=Ac=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Hy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ee(t,a)}}var Dc={readContext:bn,use:Rc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},qy={readContext:bn,use:Rc,useCallback:function(t,r){return Ln().memoizedState=[t,r===void 0?null:r],t},useContext:bn,useEffect:Iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,Dy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Nc(4194308,4,t,r)},useInsertionEffect:function(t,r){Nc(4,2,t,r)},useMemo:function(t,r){var a=Ln();r=r===void 0?null:r;var l=t();if(ma){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Ln();if(a!==void 0){var f=a(r);if(ma){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=xA.bind(null,ze,t),[l.memoizedState,t]},useRef:function(t){var r=Ln();return t={current:t},r.memoizedState=t},useState:function(t){t=dd(t);var r=t.queue,a=zy.bind(null,ze,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(t,r){var a=Ln();return gd(a,t,r)},useTransition:function(){var t=dd(!1);return t=ky.bind(null,ze,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=ze,f=Ln();if(rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),_t===null)throw Error(s(349));(Je&124)!==0||hy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iy(dy.bind(null,l,d,t),[t]),l.flags|=2048,ho(9,Cc(),fy.bind(null,l,d,a,r),null),a},useId:function(){var t=Ln(),r=_t.identifierPrefix;if(rt){var a=br,l=Sr;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=wc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=AA++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:vd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t){var r=Ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=_d.bind(null,ze,!0,a),a.dispatch=r,[t,r]},useMemoCache:cd,useCacheRefresh:function(){return Ln().memoizedState=NA.bind(null,ze)}},Gy={readContext:bn,use:Rc,useCallback:My,useContext:bn,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:xy,useMemo:Py,useReducer:Ic,useRef:Ry,useState:function(){return Ic(Rr)},useDebugValue:pd,useDeferredValue:function(t,r){var a=qt();return Vy(a,dt.memoizedState,t,r)},useTransition:function(){var t=Ic(Rr)[0],r=qt().memoizedState;return[typeof t=="boolean"?t:Dl(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:vd,useFormState:by,useActionState:by,useOptimistic:function(t,r){var a=qt();return gy(a,dt,t,r)},useMemoCache:cd,useCacheRefresh:By},DA={readContext:bn,use:Rc,useCallback:My,useContext:bn,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:xy,useMemo:Py,useReducer:fd,useRef:Ry,useState:function(){return fd(Rr)},useDebugValue:pd,useDeferredValue:function(t,r){var a=qt();return dt===null?gd(a,t,r):Vy(a,dt.memoizedState,t,r)},useTransition:function(){var t=fd(Rr)[0],r=qt().memoizedState;return[typeof t=="boolean"?t:Dl(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:vd,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=qt();return dt!==null?gy(a,dt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:By},fo=null,Pl=0;function Oc(t){var r=Pl;return Pl+=1,fo===null&&(fo=[]),ny(fo,t,r)}function Vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Mc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ky(t){var r=t._init;return r(t._payload)}function Yy(t){function r(L,P){if(t){var H=L.deletions;H===null?(L.deletions=[P],L.flags|=16):H.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function f(L,P){return L=Tr(L,P),L.index=0,L.sibling=null,L}function d(L,P,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<P?(L.flags|=67108866,P):H):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,P,H,re){return P===null||P.tag!==6?(P=Bf(H,L.mode,re),P.return=L,P):(P=f(P,H),P.return=L,P)}function x(L,P,H,re){var Ee=H.type;return Ee===B?Z(L,P,H.props.children,re,H.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ky(Ee)===P.type)?(P=f(P,H.props),Vl(P,H),P.return=L,P):(P=pc(H.type,H.key,H.props,null,L.mode,re),Vl(P,H),P.return=L,P)}function q(L,P,H,re){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=zf(H,L.mode,re),P.return=L,P):(P=f(P,H.children||[]),P.return=L,P)}function Z(L,P,H,re,Ee){return P===null||P.tag!==7?(P=aa(H,L.mode,re,Ee),P.return=L,P):(P=f(P,H),P.return=L,P)}function ae(L,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Bf(""+P,L.mode,H),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return H=pc(P.type,P.key,P.props,null,L.mode,H),Vl(H,P),H.return=L,H;case k:return P=zf(P,L.mode,H),P.return=L,P;case R:var re=P._init;return P=re(P._payload),ae(L,P,H)}if(Ie(P)||U(P))return P=aa(P,L.mode,H,null),P.return=L,P;if(typeof P.then=="function")return ae(L,Oc(P),H);if(P.$$typeof===ne)return ae(L,_c(L,P),H);Mc(L,P)}return null}function Y(L,P,H,re){var Ee=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:S(L,P,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===Ee?x(L,P,H,re):null;case k:return H.key===Ee?q(L,P,H,re):null;case R:return Ee=H._init,H=Ee(H._payload),Y(L,P,H,re)}if(Ie(H)||U(H))return Ee!==null?null:Z(L,P,H,re,null);if(typeof H.then=="function")return Y(L,P,Oc(H),re);if(H.$$typeof===ne)return Y(L,P,_c(L,H),re);Mc(L,H)}return null}function Q(L,P,H,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return L=L.get(H)||null,S(P,L,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return L=L.get(re.key===null?H:re.key)||null,x(P,L,re,Ee);case k:return L=L.get(re.key===null?H:re.key)||null,q(P,L,re,Ee);case R:var He=re._init;return re=He(re._payload),Q(L,P,H,re,Ee)}if(Ie(re)||U(re))return L=L.get(H)||null,Z(P,L,re,Ee,null);if(typeof re.then=="function")return Q(L,P,H,Oc(re),Ee);if(re.$$typeof===ne)return Q(L,P,H,_c(P,re),Ee);Mc(P,re)}return null}function Me(L,P,H,re){for(var Ee=null,He=null,be=P,xe=P=0,hn=null;be!==null&&xe<H.length;xe++){be.index>xe?(hn=be,be=null):hn=be.sibling;var nt=Y(L,be,H[xe],re);if(nt===null){be===null&&(be=hn);break}t&&be&&nt.alternate===null&&r(L,be),P=d(nt,P,xe),He===null?Ee=nt:He.sibling=nt,He=nt,be=hn}if(xe===H.length)return a(L,be),rt&&la(L,xe),Ee;if(be===null){for(;xe<H.length;xe++)be=ae(L,H[xe],re),be!==null&&(P=d(be,P,xe),He===null?Ee=be:He.sibling=be,He=be);return rt&&la(L,xe),Ee}for(be=l(be);xe<H.length;xe++)hn=Q(be,L,xe,H[xe],re),hn!==null&&(t&&hn.alternate!==null&&be.delete(hn.key===null?xe:hn.key),P=d(hn,P,xe),He===null?Ee=hn:He.sibling=hn,He=hn);return t&&be.forEach(function(ms){return r(L,ms)}),rt&&la(L,xe),Ee}function Ne(L,P,H,re){if(H==null)throw Error(s(151));for(var Ee=null,He=null,be=P,xe=P=0,hn=null,nt=H.next();be!==null&&!nt.done;xe++,nt=H.next()){be.index>xe?(hn=be,be=null):hn=be.sibling;var ms=Y(L,be,nt.value,re);if(ms===null){be===null&&(be=hn);break}t&&be&&ms.alternate===null&&r(L,be),P=d(ms,P,xe),He===null?Ee=ms:He.sibling=ms,He=ms,be=hn}if(nt.done)return a(L,be),rt&&la(L,xe),Ee;if(be===null){for(;!nt.done;xe++,nt=H.next())nt=ae(L,nt.value,re),nt!==null&&(P=d(nt,P,xe),He===null?Ee=nt:He.sibling=nt,He=nt);return rt&&la(L,xe),Ee}for(be=l(be);!nt.done;xe++,nt=H.next())nt=Q(be,L,xe,nt.value,re),nt!==null&&(t&&nt.alternate!==null&&be.delete(nt.key===null?xe:nt.key),P=d(nt,P,xe),He===null?Ee=nt:He.sibling=nt,He=nt);return t&&be.forEach(function(O1){return r(L,O1)}),rt&&la(L,xe),Ee}function pt(L,P,H,re){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var Ee=H.key;P!==null;){if(P.key===Ee){if(Ee=H.type,Ee===B){if(P.tag===7){a(L,P.sibling),re=f(P,H.props.children),re.return=L,L=re;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ky(Ee)===P.type){a(L,P.sibling),re=f(P,H.props),Vl(re,H),re.return=L,L=re;break e}a(L,P);break}else r(L,P);P=P.sibling}H.type===B?(re=aa(H.props.children,L.mode,re,H.key),re.return=L,L=re):(re=pc(H.type,H.key,H.props,null,L.mode,re),Vl(re,H),re.return=L,L=re)}return E(L);case k:e:{for(Ee=H.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(L,P.sibling),re=f(P,H.children||[]),re.return=L,L=re;break e}else{a(L,P);break}else r(L,P);P=P.sibling}re=zf(H,L.mode,re),re.return=L,L=re}return E(L);case R:return Ee=H._init,H=Ee(H._payload),pt(L,P,H,re)}if(Ie(H))return Me(L,P,H,re);if(U(H)){if(Ee=U(H),typeof Ee!="function")throw Error(s(150));return H=Ee.call(H),Ne(L,P,H,re)}if(typeof H.then=="function")return pt(L,P,Oc(H),re);if(H.$$typeof===ne)return pt(L,P,_c(L,H),re);Mc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(L,P.sibling),re=f(P,H),re.return=L,L=re):(a(L,P),re=Bf(H,L.mode,re),re.return=L,L=re),E(L)):a(L,P)}return function(L,P,H,re){try{Pl=0;var Ee=pt(L,P,H,re);return fo=null,Ee}catch(be){if(be===wl||be===Tc)throw be;var He=Xn(29,be,null,L.mode);return He.lanes=re,He.return=L,He}finally{}}}var mo=Yy(!0),Qy=Yy(!1),di=se(null),Yi=null;function Jr(t){var r=t.alternate;ue(Jt,Jt.current&1),ue(di,t),Yi===null&&(r===null||lo.current!==null||r.memoizedState!==null)&&(Yi=t)}function Xy(t){if(t.tag===22){if(ue(Jt,Jt.current),ue(di,t),Yi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Yi=t)}}else es()}function es(){ue(Jt,Jt.current),ue(di,di.current)}function Ir(t){fe(di),Yi===t&&(Yi=null),fe(Jt)}var Jt=se(0);function Pc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||um(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ed(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Jn(),f=$r(l);f.payload=r,a!=null&&(f.callback=a),r=Wr(t,f,l),r!==null&&(ei(r,t,l),Il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Jn(),f=$r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Wr(t,f,l),r!==null&&(ei(r,t,l),Il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Jn(),l=$r(a);l.tag=2,r!=null&&(l.callback=r),r=Wr(t,l,a),r!==null&&(ei(r,t,a),Il(r,t,a))}};function $y(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!yl(a,l)||!yl(f,d):!0}function Wy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Td.enqueueReplaceState(r,r.state,null)}function pa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zy(t){Vc(t)}function Jy(t){console.error(t)}function ev(t){Vc(t)}function kc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function tv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,r,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,r)},a}function nv(t){return t=$r(t),t.tag=3,t}function iv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){tv(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){tv(r,a,l),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function OA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Sl(r,a,f,!0),a=di.current,a!==null){switch(a.tag){case 13:return Yi===null?Kd():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(s(435,a.tag))}return Qd(t,l,f),Kd(),!1}if(rt)return r=di.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==qf&&(t=Error(s(422),{cause:l}),Tl(ui(t,a)))):(l!==qf&&(r=Error(s(423),{cause:l}),Tl(ui(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ui(l,a),f=Sd(t.stateNode,l,f),ed(t,f),Mt!==4&&(Mt=2)),!1;var d=Error(s(520),{cause:l});if(d=ui(d,a),Fl===null?Fl=[d]:Fl.push(d),Mt!==4&&(Mt=2),r===null)return!0;l=ui(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,l,t),ed(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(as===null||!as.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=nv(f),iv(f,t,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var rv=Error(s(461)),un=!1;function gn(t,r,a,l){r.child=t===null?Qy(r,null,a,l):mo(r,t.child,a,l)}function sv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return fa(r),l=sd(t,r,a,E,d,f),S=ad(),t!==null&&!un?(od(t,r,f),Cr(t,r,f)):(rt&&S&&Ff(r),r.flags|=1,gn(t,r,l,f),r.child)}function av(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,ov(t,r,d,l,f)):(t=pc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!xd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(E,l)&&t.ref===r.ref)return Cr(t,r,f)}return r.flags|=1,t=Tr(d,l),t.ref=r.ref,t.return=r,r.child=t}function ov(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(yl(d,l)&&t.ref===r.ref)if(un=!1,r.pendingProps=l=d,xd(t,f))(t.flags&131072)!==0&&(un=!0);else return r.lanes=t.lanes,Cr(t,r,f)}return bd(t,r,a,l,f)}function lv(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return uv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(r,d!==null?d.cachePool:null),d!==null?oy(r,d):nd(),Xy(r);else return r.lanes=r.childLanes=536870912,uv(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ec(r,d.cachePool),oy(r,d),es(),r.memoizedState=null):(t!==null&&Ec(r,null),nd(),es());return gn(t,r,f,a),r.child}function uv(t,r,a,l){var f=$f();return f=f===null?null:{parent:Zt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ec(r,null),nd(),Xy(r),t!==null&&Sl(t,r,l,!0),null}function Uc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function bd(t,r,a,l,f){return fa(r),a=sd(t,r,a,l,void 0,f),l=ad(),t!==null&&!un?(od(t,r,f),Cr(t,r,f)):(rt&&l&&Ff(r),r.flags|=1,gn(t,r,a,f),r.child)}function cv(t,r,a,l,f,d){return fa(r),r.updateQueue=null,a=uy(r,l,a,f),ly(t),l=ad(),t!==null&&!un?(od(t,r,d),Cr(t,r,d)):(rt&&l&&Ff(r),r.flags|=1,gn(t,r,a,d),r.child)}function hv(t,r,a,l,f){if(fa(r),r.stateNode===null){var d=io,E=a.contextType;typeof E=="object"&&E!==null&&(d=bn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Zf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?bn(E):io,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ed(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Td.enqueueReplaceState(d,d.state,null),Nl(r,l,d,f),Cl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,x=pa(a,S);d.props=x;var q=d.context,Z=a.contextType;E=io,typeof Z=="object"&&Z!==null&&(E=bn(Z));var ae=a.getDerivedStateFromProps;Z=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==E)&&Wy(r,d,l,E),Xr=!1;var Y=r.memoizedState;d.state=Y,Nl(r,l,d,f),Cl(),q=r.memoizedState,S||Y!==q||Xr?(typeof ae=="function"&&(Ed(r,a,ae,l),q=r.memoizedState),(x=Xr||$y(r,a,x,l,Y,q,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Jf(t,r),E=r.memoizedProps,Z=pa(a,E),d.props=Z,ae=r.pendingProps,Y=d.context,q=a.contextType,x=io,typeof q=="object"&&q!==null&&(x=bn(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ae||Y!==x)&&Wy(r,d,l,x),Xr=!1,Y=r.memoizedState,d.state=Y,Nl(r,l,d,f),Cl();var Q=r.memoizedState;E!==ae||Y!==Q||Xr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof S=="function"&&(Ed(r,a,S,l),Q=r.memoizedState),(Z=Xr||$y(r,a,Z,l,Y,Q,x)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=Z):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=mo(r,t.child,null,f),r.child=mo(r,null,a,f)):gn(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Cr(t,r,f),t}function fv(t,r,a,l){return El(),r.flags|=256,gn(t,r,a,l),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:Jg()}}function Rd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=mi),t}function dv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Jt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(rt){if(f?Jr(r):es(),rt){var S=Ot,x;if(x=S){e:{for(x=S,S=Ki;x.nodeType!==8;){if(!S){S=null;break e}if(x=wi(x.nextSibling),x===null){S=null;break e}}S=x}S!==null?(r.memoizedState={dehydrated:S,treeContext:oa!==null?{id:Sr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},x=Xn(18,null,null,0),x.stateNode=S,x.return=r,r.child=x,Mn=r,Ot=null,x=!0):x=!1}x||ca(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return um(S)?r.lanes=32:r.lanes=536870912,null;Ir(r)}return S=l.children,l=l.fallback,f?(es(),f=r.mode,S=Lc({mode:"hidden",children:S},f),l=aa(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=wd(a),f.childLanes=Rd(t,E,a),r.memoizedState=Ad,l):(Jr(r),Id(r,S))}if(x=t.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(d)r.flags&256?(Jr(r),r.flags&=-257,r=Cd(t,r,a)):r.memoizedState!==null?(es(),r.child=t.child,r.flags|=128,r=null):(es(),f=l.fallback,S=r.mode,l=Lc({mode:"visible",children:l.children},S),f=aa(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,mo(r,t.child,null,a),l=r.child,l.memoizedState=wd(a),l.childLanes=Rd(t,E,a),r.memoizedState=Ad,r=f);else if(Jr(r),um(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Tl({value:l,source:null,stack:null}),r=Cd(t,r,a)}else if(un||Sl(t,r,a,!1),E=(a&t.childLanes)!==0,un||E){if(E=_t,E!==null&&(l=a&-a,l=(l&42)!==0?1:ce(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,no(t,l),ei(E,t,l),rv;S.data==="$?"||Kd(),r=Cd(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,Ot=wi(S.nextSibling),Mn=r,rt=!0,ua=null,Ki=!1,t!==null&&(hi[fi++]=Sr,hi[fi++]=br,hi[fi++]=oa,Sr=t.id,br=t.overflow,oa=r),r=Id(r,l.children),r.flags|=4096);return r}return f?(es(),f=l.fallback,S=r.mode,x=t.child,q=x.sibling,l=Tr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?f=Tr(q,f):(f=aa(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=t.child.memoizedState,S===null?S=wd(a):(x=S.cachePool,x!==null?(q=Zt._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=Jg(),S={baseLanes:S.baseLanes|a,cachePool:x}),f.memoizedState=S,f.childLanes=Rd(t,E,a),r.memoizedState=Ad,l):(Jr(r),a=t.child,t=a.sibling,a=Tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Id(t,r){return r=Lc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Lc(t,r){return t=Xn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Cd(t,r,a){return mo(r,t.child,null,a),t=Id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function mv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Kf(t.return,r,a)}function Nd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function pv(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(gn(t,r,l.children,a),l=Jt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,a,r);else if(t.tag===19)mv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Jt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Pc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Nd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Pc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Nd(r,!0,a,null,d);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ss|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Sl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Tr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Tr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function xd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function MA(t,r,a){switch(r.tag){case 3:ht(r,r.stateNode.containerInfo),Qr(r,Zt,t.memoizedState.cache),El();break;case 27:case 5:xi(r);break;case 4:ht(r,r.stateNode.containerInfo);break;case 10:Qr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?dv(t,r,a):(Jr(r),t=Cr(t,r,a),t!==null?t.sibling:null);Jr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Sl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return pv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Jt,Jt.current),l)break;return null;case 22:case 23:return r.lanes=0,lv(t,r,a);case 24:Qr(r,Zt,t.memoizedState.cache)}return Cr(t,r,a)}function gv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)un=!0;else{if(!xd(t,a)&&(r.flags&128)===0)return un=!1,MA(t,r,a);un=(t.flags&131072)!==0}else un=!1,rt&&(r.flags&1048576)!==0&&Kg(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")jf(l)?(t=pa(l,t),r.tag=1,r=hv(null,r,l,t,a)):(r.tag=0,r=bd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===me){r.tag=11,r=sv(null,r,l,t,a);break e}else if(f===I){r.tag=14,r=av(null,r,l,t,a);break e}}throw r=lt(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=pa(l,r.pendingProps),hv(t,r,l,f,a);case 3:e:{if(ht(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Jf(t,r),Nl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Qr(r,Zt,l),l!==d.cache&&Yf(r,[Zt],a,!0),Cl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=fv(t,r,l,a);break e}else if(l!==f){f=ui(Error(s(424)),r),Tl(f),r=fv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=wi(t.firstChild),Mn=r,rt=!0,ua=null,Ki=!0,a=Qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(El(),l===f){r=Cr(t,r,a);break e}gn(t,r,l,a)}r=r.child}return r;case 26:return Uc(t,r),t===null?(a=E_(r.type,null,r.pendingProps,null))?r.memoizedState=a:rt||(a=r.type,t=r.pendingProps,l=Zc(we.current).createElement(a),l[ge]=r,l[Ae]=t,vn(l,a,t),St(l),r.stateNode=l):r.memoizedState=E_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xi(r),t===null&&rt&&(l=r.stateNode=y_(r.type,r.pendingProps,we.current),Mn=r,Ki=!0,f=Ot,us(r.type)?(cm=f,Ot=wi(l.firstChild)):Ot=f),gn(t,r,r.pendingProps.children,a),Uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&rt&&((f=l=Ot)&&(l=o1(l,r.type,r.pendingProps,Ki),l!==null?(r.stateNode=l,Mn=r,Ot=wi(l.firstChild),Ki=!1,f=!0):f=!1),f||ca(r)),xi(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,am(f,d)?l=null:E!==null&&am(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=sd(t,r,wA,null,null,a),Wl._currentValue=f),Uc(t,r),gn(t,r,l,a),r.child;case 6:return t===null&&rt&&((t=a=Ot)&&(a=l1(a,r.pendingProps,Ki),a!==null?(r.stateNode=a,Mn=r,Ot=null,t=!0):t=!1),t||ca(r)),null;case 13:return dv(t,r,a);case 4:return ht(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=mo(r,null,l,a):gn(t,r,l,a),r.child;case 11:return sv(t,r,r.type,r.pendingProps,a);case 7:return gn(t,r,r.pendingProps,a),r.child;case 8:return gn(t,r,r.pendingProps.children,a),r.child;case 12:return gn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Qr(r,r.type,l.value),gn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,fa(r),f=bn(f),l=l(f),r.flags|=1,gn(t,r,l,a),r.child;case 14:return av(t,r,r.type,r.pendingProps,a);case 15:return ov(t,r,r.type,r.pendingProps,a);case 19:return pv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Lc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Tr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return lv(t,r,a);case 24:return fa(r),l=bn(Zt),t===null?(f=$f(),f===null&&(f=_t,d=Qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Zf(r),Qr(r,Zt,f)):((t.lanes&a)!==0&&(Jf(t,r),Nl(r,null,null,a),Cl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Qr(r,Zt,l)):(l=d.cache,Qr(r,Zt,l),l!==f.cache&&Yf(r,[Zt],a,!0))),gn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Nr(t){t.flags|=4}function yv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(r)){if(r=di.current,r!==null&&((Je&4194048)===Je?Yi!==null:(Je&62914560)!==Je&&(Je&536870912)===0||r!==Yi))throw Rl=Wf,ey;t.flags|=8192}}function jc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Gs():536870912,t.lanes|=r,vo|=r)}function kl(t,r){if(!rt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function PA(t,r,a){var l=r.pendingProps;switch(Hf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),wr(Zt),ii(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(_l(r)?Nr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xg())),Ct(r),null;case 26:return a=r.memoizedState,t===null?(Nr(r),a!==null?(Ct(r),yv(r,a)):(Ct(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Nr(r),Ct(r),yv(r,a)):(Ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&Nr(r),Ct(r),r.flags&=-16777217),null;case 27:Rt(r),a=we.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}t=Te.current,_l(r)?Yg(r):(t=y_(f,l,a),r.stateNode=t,Nr(r))}return Ct(r),null;case 5:if(Rt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}if(t=Te.current,_l(r))Yg(r);else{switch(f=Zc(we.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[ge]=r,t[Ae]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(vn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Nr(r)}}return Ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,_l(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ge]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||c_(t.nodeValue,a)),t||ca(r)}else t=Zc(t).createTextNode(l),t[ge]=r,r.stateNode=t}return Ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=_l(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ge]=r}else El(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),f=!1}else f=Xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ir(r),r):(Ir(r),null)}if(Ir(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),jc(r,r.updateQueue),Ct(r),null;case 4:return ii(),t===null&&tm(r.stateNode.containerInfo),Ct(r),null;case 10:return wr(r.type),Ct(r),null;case 19:if(fe(Jt),f=r.memoizedState,f===null)return Ct(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)kl(f,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Pc(t),d!==null){for(r.flags|=128,kl(f,!1),t=d.updateQueue,r.updateQueue=t,jc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Gg(a,t),a=a.sibling;return ue(Jt,Jt.current&1|2),r.child}t=t.sibling}f.tail!==null&&Vn()>Fc&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304)}else{if(!l)if(t=Pc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,jc(r,t),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!rt)return Ct(r),null}else 2*Vn()-f.renderingStartTime>Fc&&a!==536870912&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Vn(),r.sibling=null,t=Jt.current,ue(Jt,l?t&1|2:t&1),r):(Ct(r),null);case 22:case 23:return Ir(r),id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),a=r.updateQueue,a!==null&&jc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&fe(da),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),wr(Zt),Ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function VA(t,r){switch(Hf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return wr(Zt),ii(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Rt(r),null;case 13:if(Ir(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));El()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return fe(Jt),null;case 4:return ii(),null;case 10:return wr(r.type),null;case 22:case 23:return Ir(r),id(),t!==null&&fe(da),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return wr(Zt),null;case 25:return null;default:return null}}function vv(t,r){switch(Hf(r),r.tag){case 3:wr(Zt),ii();break;case 26:case 27:case 5:Rt(r);break;case 4:ii();break;case 13:Ir(r);break;case 19:fe(Jt);break;case 10:wr(r.type);break;case 22:case 23:Ir(r),id(),t!==null&&fe(da);break;case 24:wr(Zt)}}function Ul(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){gt(r,r.return,S)}}function ts(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var x=a,q=S;try{q()}catch(Z){gt(f,x,Z)}}}l=l.next}while(l!==d)}}catch(Z){gt(r,r.return,Z)}}function _v(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ay(r,a)}catch(l){gt(t,t.return,l)}}}function Ev(t,r,a){a.props=pa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){gt(t,r,l)}}function Ll(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){gt(t,r,f)}}function Qi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){gt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){gt(t,r,f)}else a.current=null}function Tv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){gt(t,t.return,f)}}function Dd(t,r,a){try{var l=t.stateNode;n1(l,t.type,a,r),l[Ae]=r}catch(f){gt(t,t.return,f)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&us(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wc));else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Md(t,r,a),t=t.sibling;t!==null;)Md(t,r,a),t=t.sibling}function Bc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,r,a),t=t.sibling;t!==null;)Bc(t,r,a),t=t.sibling}function bv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);vn(r,l,a),r[ge]=t,r[Ae]=a}catch(d){gt(t,t.return,d)}}var xr=!1,Bt=!1,Pd=!1,Av=typeof WeakSet=="function"?WeakSet:Set,cn=null;function kA(t,r){if(t=t.containerInfo,rm=rh,t=Vg(t),Of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,x=-1,q=0,Z=0,ae=t,Y=null;t:for(;;){for(var Q;ae!==a||f!==0&&ae.nodeType!==3||(S=E+f),ae!==d||l!==0&&ae.nodeType!==3||(x=E+l),ae.nodeType===3&&(E+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)Y=ae,ae=Q;for(;;){if(ae===t)break t;if(Y===a&&++q===f&&(S=E),Y===d&&++Z===l&&(x=E),(Q=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Q}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:t,selectionRange:a},rh=!1,cn=r;cn!==null;)if(r=cn,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,cn=t;else for(;cn!==null;){switch(r=cn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Me=pa(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){gt(a,a.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)lm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,cn=t;break}cn=r.return}}function wv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),l&4&&Ul(5,a);break;case 1:if(ns(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){gt(a,a.return,E)}else{var f=pa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(a,a.return,E)}}l&64&&_v(a),l&512&&Ll(a,a.return);break;case 3:if(ns(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ay(t,r)}catch(E){gt(a,a.return,E)}}break;case 27:r===null&&l&4&&bv(a);case 26:case 5:ns(t,a),r===null&&l&4&&Tv(a),l&512&&Ll(a,a.return);break;case 12:ns(t,a);break;case 13:ns(t,a),l&4&&Cv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=GA.bind(null,a),u1(t,a))));break;case 22:if(l=a.memoizedState!==null||xr,!l){r=r!==null&&r.memoizedState!==null||Bt,f=xr;var d=Bt;xr=l,(Bt=r)&&!d?is(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),xr=f,Bt=d}break;case 30:break;default:ns(t,a)}}function Rv(t){var r=t.alternate;r!==null&&(t.alternate=null,Rv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,jn=!1;function Dr(t,r,a){for(a=a.child;a!==null;)Iv(t,r,a),a=a.sibling}function Iv(t,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Et,a)}catch{}switch(a.tag){case 26:Bt||Qi(a,r),Dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Qi(a,r);var l=wt,f=jn;us(a.type)&&(wt=a.stateNode,jn=!1),Dr(t,r,a),Yl(a.stateNode),wt=l,jn=f;break;case 5:Bt||Qi(a,r);case 6:if(l=wt,f=jn,wt=null,Dr(t,r,a),wt=l,jn=f,wt!==null)if(jn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(d){gt(a,r,d)}else try{wt.removeChild(a.stateNode)}catch(d){gt(a,r,d)}break;case 18:wt!==null&&(jn?(t=wt,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),tu(t)):p_(wt,a.stateNode));break;case 4:l=wt,f=jn,wt=a.stateNode.containerInfo,jn=!0,Dr(t,r,a),wt=l,jn=f;break;case 0:case 11:case 14:case 15:Bt||ts(2,a,r),Bt||ts(4,a,r),Dr(t,r,a);break;case 1:Bt||(Qi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ev(a,r,l)),Dr(t,r,a);break;case 21:Dr(t,r,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,Dr(t,r,a),Bt=l;break;default:Dr(t,r,a)}}function Cv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tu(t)}catch(a){gt(r,r.return,a)}}function UA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Av),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Av),r;default:throw Error(s(435,t.tag))}}function Vd(t,r){var a=UA(t);r.forEach(function(l){var f=KA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function $n(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(us(S.type)){wt=S.stateNode,jn=!1;break e}break;case 5:wt=S.stateNode,jn=!1;break e;case 3:case 4:wt=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(wt===null)throw Error(s(160));Iv(d,E,f),wt=null,jn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Nv(r,t),r=r.sibling}var Ai=null;function Nv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$n(r,t),Wn(t),l&4&&(ts(3,t,t.return),Ul(3,t),ts(5,t,t.return));break;case 1:$n(r,t),Wn(t),l&512&&(Bt||a===null||Qi(a,a.return)),l&64&&xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ai;if($n(r,t),Wn(t),l&512&&(Bt||a===null||Qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vt]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),vn(d,l,a),d[ge]=t,St(d),l=d;break e;case"link":var E=b_("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),vn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=b_("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),vn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ge]=t,St(d),l=d}t.stateNode=l}else A_(f,t.type,t.stateNode);else t.stateNode=S_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A_(f,t.type,t.stateNode):S_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:$n(r,t),Wn(t),l&512&&(Bt||a===null||Qi(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if($n(r,t),Wn(t),l&512&&(Bt||a===null||Qi(a,a.return)),t.flags&32){f=t.stateNode;try{si(f,"")}catch(Q){gt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Dd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if($n(r,t),Wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){gt(t,t.return,Q)}}break;case 3:if(th=null,f=Ai,Ai=Jc(r.containerInfo),$n(r,t),Ai=f,Wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tu(r.containerInfo)}catch(Q){gt(t,t.return,Q)}Pd&&(Pd=!1,xv(t));break;case 4:l=Ai,Ai=Jc(t.stateNode.containerInfo),$n(r,t),Wn(t),Ai=l;break;case 12:$n(r,t),Wn(t);break;case 13:$n(r,t),Wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=Vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=xr,Z=Bt;if(xr=q||f,Bt=Z||x,$n(r,t),Bt=Z,xr=q,Wn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||xr||Bt||ga(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=x.stateNode;var ae=x.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){gt(x,x.return,Q)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Q){gt(x,x.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vd(t,a))));break;case 19:$n(r,t),Wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 30:break;case 21:break;default:$n(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Sv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Od(t);Bc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(si(E,""),a.flags&=-33);var S=Od(t);Bc(t,S,E);break;case 3:case 4:var x=a.stateNode.containerInfo,q=Od(t);Md(t,q,x);break;default:throw Error(s(161))}}catch(Z){gt(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;xv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ns(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wv(t,r.alternate,r),r=r.sibling}function ga(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ts(4,r,r.return),ga(r);break;case 1:Qi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ev(r,r.return,a),ga(r);break;case 27:Yl(r.stateNode);case 26:case 5:Qi(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}t=t.sibling}}function is(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:is(f,d,a),Ul(4,d);break;case 1:if(is(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){gt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)sy(x[f],S)}catch(q){gt(l,l.return,q)}}a&&E&64&&_v(d),Ll(d,d.return);break;case 27:bv(d);case 26:case 5:is(f,d,a),a&&l===null&&E&4&&Tv(d),Ll(d,d.return);break;case 12:is(f,d,a);break;case 13:is(f,d,a),a&&E&4&&Cv(f,d);break;case 22:d.memoizedState===null&&is(f,d,a),Ll(d,d.return);break;case 30:break;default:is(f,d,a)}r=r.sibling}}function kd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&bl(a))}function Ud(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&bl(t))}function Xi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dv(t,r,a,l),r=r.sibling}function Dv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r,a,l),f&2048&&Ul(9,r);break;case 1:Xi(t,r,a,l);break;case 3:Xi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&bl(t)));break;case 12:if(f&2048){Xi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){gt(r,r.return,x)}}else Xi(t,r,a,l);break;case 13:Xi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Xi(t,r,a,l):jl(t,r):d._visibility&2?Xi(t,r,a,l):(d._visibility|=2,po(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&kd(E,r);break;case 24:Xi(t,r,a,l),f&2048&&Ud(r.alternate,r);break;default:Xi(t,r,a,l)}}function po(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,S=a,x=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:po(d,E,S,x,f),Ul(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?po(d,E,S,x,f):jl(d,E):(Z._visibility|=2,po(d,E,S,x,f)),f&&q&2048&&kd(E.alternate,E);break;case 24:po(d,E,S,x,f),f&&q&2048&&Ud(E.alternate,E);break;default:po(d,E,S,x,f)}r=r.sibling}}function jl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&kd(l.alternate,l);break;case 24:jl(a,l),f&2048&&Ud(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var Bl=8192;function go(t){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 26:go(t),t.flags&Bl&&t.memoizedState!==null&&S1(Ai,t.memoizedState,t.memoizedProps);break;case 5:go(t);break;case 3:case 4:var r=Ai;Ai=Jc(t.stateNode.containerInfo),go(t),Ai=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,go(t),Bl=r):go(t));break;default:go(t)}}function Mv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function zl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];cn=l,Vv(l,t)}Mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pv(t),t=t.sibling}function Pv(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&ts(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zc(t)):zl(t);break;default:zl(t)}}function zc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];cn=l,Vv(l,t)}Mv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ts(8,r,r.return),zc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zc(r));break;default:zc(r)}t=t.sibling}}function Vv(t,r){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:ts(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,cn=l;else e:for(a=t;cn!==null;){l=cn;var f=l.sibling,d=l.return;if(Rv(l),l===a){cn=null;break e}if(f!==null){f.return=d,cn=f;break e}cn=d}}}var LA={getCacheForType:function(t){var r=bn(Zt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},jA=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,qe=null,Je=0,ct=0,Zn=null,rs=!1,yo=!1,Ld=!1,Or=0,Mt=0,ss=0,ya=0,jd=0,mi=0,vo=0,Fl=null,Bn=null,Bd=!1,zd=0,Fc=1/0,Hc=null,as=null,yn=0,os=null,_o=null,Eo=0,Fd=0,Hd=null,kv=null,Hl=0,qd=null;function Jn(){if((ut&2)!==0&&Je!==0)return Je&-Je;if(X.T!==null){var t=ao;return t!==0?t:Wd()}return Pe()}function Uv(){mi===0&&(mi=(Je&536870912)===0||rt?Gr():536870912);var t=di.current;return t!==null&&(t.flags|=32),mi}function ei(t,r,a){(t===_t&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(To(t,0),ls(t,Je,mi,!1)),Ei(t,a),((ut&2)===0||t!==_t)&&(t===_t&&((ut&2)===0&&(ya|=a),Mt===4&&ls(t,Je,mi,!1)),$i(t))}function Lv(t,r,a){if((ut&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||_i(t,r),f=l?FA(t,r):Yd(t,r,!0),d=l;do{if(f===0){yo&&!l&&ls(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!BA(a)){f=Yd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=t;f=Fl;var x=S.current.memoizedState.isDehydrated;if(x&&(To(S,E).flags|=256),E=Yd(S,E,!1),E!==2){if(Ld&&!x){S.errorRecoveryDisabledLanes|=d,ya|=d,f=4;break e}d=Bn,Bn=f,d!==null&&(Bn===null?Bn=d:Bn.push.apply(Bn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){To(t,0),ls(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ls(l,r,mi,!rs);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zd+300-Vn(),10<f)){if(ls(l,r,mi,!rs),hr(l,0,!0)!==0)break e;l.timeoutHandle=d_(jv.bind(null,l,a,Bn,Hc,Bd,r,mi,ya,vo,rs,d,2,-0,0),f);break e}jv(l,a,Bn,Hc,Bd,r,mi,ya,vo,rs,d,0,-0,0)}}break}while(!0);$i(t)}function jv(t,r,a,l,f,d,E,S,x,q,Z,ae,Y,Q){if(t.timeoutHandle=-1,ae=r.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:T1},Ov(r),ae=b1(),ae!==null)){t.cancelPendingCommit=ae(Kv.bind(null,t,r,d,a,l,f,E,S,x,Z,1,Y,Q)),ls(t,d,E,!q);return}Kv(t,r,d,a,l,f,E,S,x)}function BA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Qn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ls(t,r,a,l){r&=~jd,r&=~ya,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Tt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&G(t,a,r)}function qc(){return(ut&6)===0?(ql(0),!1):!0}function Gd(){if(qe!==null){if(ct===0)var t=qe.return;else t=qe,Ar=ha=null,ld(t),fo=null,Pl=0,t=qe;for(;t!==null;)vv(t.alternate,t),t=t.return;qe=null}}function To(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,r1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gd(),_t=t,qe=a=Tr(t.current,null),Je=r,ct=0,Zn=null,rs=!1,yo=_i(t,r),Ld=!1,vo=mi=jd=ya=ss=Mt=0,Bn=Fl=null,Bd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Tt(l),d=1<<f;r|=t[f],l&=~d}return Or=r,fc(),a}function Bv(t,r){ze=null,X.H=Dc,r===wl||r===Tc?(r=iy(),ct=3):r===ey?(r=iy(),ct=4):ct=r===rv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Zn=r,qe===null&&(Mt=1,kc(t,ui(r,t.current)))}function zv(){var t=X.H;return X.H=Dc,t===null?Dc:t}function Fv(){var t=X.A;return X.A=LA,t}function Kd(){Mt=4,rs||(Je&4194048)!==Je&&di.current!==null||(yo=!0),(ss&134217727)===0&&(ya&134217727)===0||_t===null||ls(_t,Je,mi,!1)}function Yd(t,r,a){var l=ut;ut|=2;var f=zv(),d=Fv();(_t!==t||Je!==r)&&(Hc=null,To(t,r)),r=!1;var E=Mt;e:do try{if(ct!==0&&qe!==null){var S=qe,x=Zn;switch(ct){case 8:Gd(),E=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(r=!0);var q=ct;if(ct=0,Zn=null,So(t,S,x,q),a&&yo){E=0;break e}break;default:q=ct,ct=0,Zn=null,So(t,S,x,q)}}zA(),E=Mt;break}catch(Z){Bv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Ar=ha=null,ut=l,X.H=f,X.A=d,qe===null&&(_t=null,Je=0,fc()),E}function zA(){for(;qe!==null;)Hv(qe)}function FA(t,r){var a=ut;ut|=2;var l=zv(),f=Fv();_t!==t||Je!==r?(Hc=null,Fc=Vn()+500,To(t,r)):yo=_i(t,r);e:do try{if(ct!==0&&qe!==null){r=qe;var d=Zn;t:switch(ct){case 1:ct=0,Zn=null,So(t,r,d,1);break;case 2:case 9:if(ty(d)){ct=0,Zn=null,qv(r);break}r=function(){ct!==2&&ct!==9||_t!==t||(ct=7),$i(t)},d.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ty(d)?(ct=0,Zn=null,qv(r)):(ct=0,Zn=null,So(t,r,d,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var S=qe;if(!E||w_(E)){ct=0,Zn=null;var x=S.sibling;if(x!==null)qe=x;else{var q=S.return;q!==null?(qe=q,Gc(q)):qe=null}break t}}ct=0,Zn=null,So(t,r,d,5);break;case 6:ct=0,Zn=null,So(t,r,d,6);break;case 8:Gd(),Mt=6;break e;default:throw Error(s(462))}}HA();break}catch(Z){Bv(t,Z)}while(!0);return Ar=ha=null,X.H=l,X.A=f,ut=a,qe!==null?0:(_t=null,Je=0,fc(),Mt)}function HA(){for(;qe!==null&&!qn();)Hv(qe)}function Hv(t){var r=gv(t.alternate,t,Or);t.memoizedProps=t.pendingProps,r===null?Gc(t):qe=r}function qv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=cv(a,r,r.pendingProps,r.type,void 0,Je);break;case 11:r=cv(a,r,r.pendingProps,r.type.render,r.ref,Je);break;case 5:ld(r);default:vv(a,r),r=qe=Gg(r,Or),r=gv(a,r,Or)}t.memoizedProps=t.pendingProps,r===null?Gc(t):qe=r}function So(t,r,a,l){Ar=ha=null,ld(r),fo=null,Pl=0;var f=r.return;try{if(OA(t,f,r,a,Je)){Mt=1,kc(t,ui(a,t.current)),qe=null;return}}catch(d){if(f!==null)throw qe=f,d;Mt=1,kc(t,ui(a,t.current)),qe=null;return}r.flags&32768?(rt||l===1?t=!0:yo||(Je&536870912)!==0?t=!1:(rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=di.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(r,t)):Gc(r)}function Gc(t){var r=t;do{if((r.flags&32768)!==0){Gv(r,rs);return}t=r.return;var a=PA(r.alternate,r,Or);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);Mt===0&&(Mt=5)}function Gv(t,r){do{var a=VA(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);Mt=6,qe=null}function Kv(t,r,a,l,f,d,E,S,x){t.cancelPendingCommit=null;do Kc();while(yn!==0);if((ut&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Uf,j(t,a,d,E,S,x),t===_t&&(qe=_t=null,Je=0),_o=r,os=t,Eo=a,Fd=d,Hd=f,kv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YA(Gn,function(){return Wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ie.p,ie.p=2,E=ut,ut|=4;try{kA(t,r,a)}finally{ut=E,ie.p=f,X.T=l}}yn=1,Yv(),Qv(),Xv()}}function Yv(){if(yn===1){yn=0;var t=os,r=_o,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ie.p;ie.p=2;var f=ut;ut|=4;try{Nv(r,t);var d=sm,E=Vg(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&Pg(S.ownerDocument.documentElement,S)){if(x!==null&&Of(S)){var q=x.start,Z=x.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var ae=S.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Me=S.textContent.length,Ne=Math.min(x.start,Me),pt=x.end===void 0?Ne:Math.min(x.end,Me);!Q.extend&&Ne>pt&&(E=pt,pt=Ne,Ne=E);var L=Mg(S,Ne),P=Mg(S,pt);if(L&&P&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var H=ae.createRange();H.setStart(L.node,L.offset),Q.removeAllRanges(),Ne>pt?(Q.addRange(H),Q.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Q.addRange(H))}}}}for(ae=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ae.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var re=ae[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}rh=!!rm,sm=rm=null}finally{ut=f,ie.p=l,X.T=a}}t.current=r,yn=2}}function Qv(){if(yn===2){yn=0;var t=os,r=_o,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ie.p;ie.p=2;var f=ut;ut|=4;try{wv(t,r.alternate,r)}finally{ut=f,ie.p=l,X.T=a}}yn=3}}function Xv(){if(yn===4||yn===3){yn=0,Ua();var t=os,r=_o,a=Eo,l=kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?yn=5:(yn=0,_o=os=null,$v(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(as=null),ve(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Et,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ie.p,ie.p=2,X.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{X.T=r,ie.p=f}}(Eo&3)!==0&&Kc(),$i(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===qd?Hl++:(Hl=0,qd=t):Hl=0,ql(0)}}function $v(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,bl(r)))}function Kc(t){return Yv(),Qv(),Xv(),Wv()}function Wv(){if(yn!==5)return!1;var t=os,r=Fd;Fd=0;var a=ve(Eo),l=X.T,f=ie.p;try{ie.p=32>a?32:a,X.T=null,a=Hd,Hd=null;var d=os,E=Eo;if(yn=0,_o=os=null,Eo=0,(ut&6)!==0)throw Error(s(331));var S=ut;if(ut|=4,Pv(d.current),Dv(d,d.current,E,a),ut=S,ql(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Et,d)}catch{}return!0}finally{ie.p=f,X.T=l,$v(t,r)}}function Zv(t,r,a){r=ui(a,r),r=Sd(t.stateNode,r,2),t=Wr(t,r,2),t!==null&&(Ei(t,2),$i(t))}function gt(t,r,a){if(t.tag===3)Zv(t,t,a);else for(;r!==null;){if(r.tag===3){Zv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(as===null||!as.has(l))){t=ui(a,t),a=nv(2),l=Wr(r,a,2),l!==null&&(iv(a,l,r,t),Ei(l,2),$i(l));break}}r=r.return}}function Qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new jA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ld=!0,f.add(a),t=qA.bind(null,t,r,a),r.then(t,t))}function qA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,_t===t&&(Je&a)===a&&(Mt===4||Mt===3&&(Je&62914560)===Je&&300>Vn()-zd?(ut&2)===0&&To(t,0):jd|=a,vo===Je&&(vo=0)),$i(t)}function Jv(t,r){r===0&&(r=Gs()),t=no(t,r),t!==null&&(Ei(t,r),$i(t))}function GA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Jv(t,a)}function KA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Jv(t,a)}function YA(t,r){return Di(t,r)}var Yc=null,bo=null,Xd=!1,Qc=!1,$d=!1,va=0;function $i(t){t!==bo&&t.next===null&&(bo===null?Yc=bo=t:bo=bo.next=t),Qc=!0,Xd||(Xd=!0,XA())}function ql(t,r){if(!$d&&Qc){$d=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,i_(l,d))}else d=Je,d=hr(l,l===_t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_i(l,d)||(a=!0,i_(l,d));l=l.next}while(a);$d=!1}}function QA(){e_()}function e_(){Qc=Xd=!1;var t=0;va!==0&&(i1()&&(t=va),va=0);for(var r=Vn(),a=null,l=Yc;l!==null;){var f=l.next,d=t_(l,r);d===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(bo=a)):(a=l,(t!==0||(d&3)!==0)&&(Qc=!0)),l=f}ql(t)}function t_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Tt(d),S=1<<E,x=f[E];x===-1?((S&a)===0||(S&l)!==0)&&(f[E]=qs(S,r)):x<=r&&(t.expiredLanes|=S),d&=~S}if(r=_t,a=Je,a=hr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_i(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ur(l),ve(a)){case 2:case 8:a=qr;break;case 32:a=Gn;break;case 268435456:a=Oi;break;default:a=Gn}return l=n_.bind(null,t),a=Di(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ur(l),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,r){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var l=Je;return l=hr(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lv(t,l,r),t_(t,Vn()),t.callbackNode!=null&&t.callbackNode===a?n_.bind(null,t):null)}function i_(t,r){if(Kc())return null;Lv(t,r,!0)}function XA(){s1(function(){(ut&6)!==0?Di(Fs,QA):e_()})}function Wd(){return va===0&&(va=Gr()),va}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qa(""+t)}function s_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function $A(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=r_((f[Ae]||null).action),E=l.submitter;E&&(r=(r=E[Ae]||null)?r_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var S=new Ga("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var x=E?s_(f,E):new FormData(f);yd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=E?s_(f,E):new FormData(f),yd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var Zd=0;Zd<kf.length;Zd++){var Jd=kf[Zd],WA=Jd.toLowerCase(),ZA=Jd[0].toUpperCase()+Jd.slice(1);bi(WA,"on"+ZA)}bi(Lg,"onAnimationEnd"),bi(jg,"onAnimationIteration"),bi(Bg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(pA,"onTransitionRun"),bi(gA,"onTransitionStart"),bi(yA,"onTransitionCancel"),bi(zg,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function a_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var S=l[E],x=S.instance,q=S.currentTarget;if(S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=q;try{d(f)}catch(Z){Vc(Z)}f.currentTarget=null,d=x}else for(E=0;E<l.length;E++){if(S=l[E],x=S.instance,q=S.currentTarget,S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=q;try{d(f)}catch(Z){Vc(Z)}f.currentTarget=null,d=x}}}}function Ge(t,r){var a=r[ke];a===void 0&&(a=r[ke]=new Set);var l=t+"__bubble";a.has(l)||(o_(r,t,2,!1),a.add(l))}function em(t,r,a){var l=0;r&&(l|=4),o_(a,t,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[Xc]){t[Xc]=!0,Ti.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||em(a,!1,t),em(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,em("selectionchange",!1,r))}}function o_(t,r,a,l){switch(D_(r)){case 2:var f=R1;break;case 8:f=I1;break;default:f=pm}a=f.bind(null,r,a,t),f=void 0,!oi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function nm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Kn(S),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=d=E;continue e}S=S.parentNode}}l=l.return}Wu(function(){var q=d,Z=ai(a),ae=[];e:{var Y=Fg.get(t);if(Y!==void 0){var Q=Ga,Me=t;switch(t){case"keypress":if(zi(a)===0)break e;case"keydown":case"keyup":Q=Wa;break;case"focusin":Me="focus",Q=Qa;break;case"focusout":Me="blur",Q=Qa;break;case"beforeblur":case"afterblur":Q=Qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=sc;break;case Lg:case jg:case Bg:Q=Xa;break;case zg:Q=oc;break;case"scroll":case"scrollend":Q=Zu;break;case"wheel":Q=Za;break;case"copy":case"cut":case"paste":Q=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=pl;break;case"toggle":case"beforetoggle":Q=uc}var Ne=(r&4)!==0,pt=!Ne&&(t==="scroll"||t==="scrollend"),L=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var P=q,H;P!==null;){var re=P;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||L===null||(re=Ws(P,L),re!=null&&Ne.push(Kl(P,re,H))),pt)break;P=P.return}0<Ne.length&&(Y=new Q(Y,Me,null,a,Z),ae.push({event:Y,listeners:Ne}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&a!==pr&&(Me=a.relatedTarget||a.fromElement)&&(Kn(Me)||Me[it]))break e;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Me=a.relatedTarget||a.toElement,Q=q,Me=Me?Kn(Me):null,Me!==null&&(pt=u(Me),Ne=Me.tag,Me!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(Me=null)):(Q=null,Me=q),Q!==Me)){if(Ne=li,re="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=pl,re="onPointerLeave",L="onPointerEnter",P="pointer"),pt=Q==null?Y:Xt(Q),H=Me==null?Y:Xt(Me),Y=new Ne(re,P+"leave",Q,a,Z),Y.target=pt,Y.relatedTarget=H,re=null,Kn(Z)===q&&(Ne=new Ne(L,P+"enter",Me,a,Z),Ne.target=H,Ne.relatedTarget=pt,re=Ne),pt=re,Q&&Me)t:{for(Ne=Q,L=Me,P=0,H=Ne;H;H=Ao(H))P++;for(H=0,re=L;re;re=Ao(re))H++;for(;0<P-H;)Ne=Ao(Ne),P--;for(;0<H-P;)L=Ao(L),H--;for(;P--;){if(Ne===L||L!==null&&Ne===L.alternate)break t;Ne=Ao(Ne),L=Ao(L)}Ne=null}else Ne=null;Q!==null&&l_(ae,Y,Q,Ne,!1),Me!==null&&pt!==null&&l_(ae,pt,Me,Ne,!0)}}e:{if(Y=q?Xt(q):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ee=Ig;else if(Wt(Y))if(Cg)Ee=fA;else{Ee=cA;var He=uA}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&ll(q.elementType)&&(Ee=Ig):Ee=hA;if(Ee&&(Ee=Ee(t,q))){Er(ae,Ee,a,Z);break e}He&&He(t,Y,q),t==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Kr(Y,"number",Y.value)}switch(He=q?Xt(q):window,t){case"focusin":(Wt(He)||He.contentEditable==="true")&&(Ja=He,Mf=q,vl=null);break;case"focusout":vl=Mf=Ja=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,kg(ae,a,Z);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":kg(ae,a,Z)}var be;if(qi)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else We?$(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(_&&a.locale!=="ko"&&(We||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&We&&(be=cl()):(Bi=Z,Yr="value"in Bi?Bi.value:Bi.textContent,We=!0)),He=$c(q,xe),0<He.length&&(xe=new dl(xe,t,null,a,Z),ae.push({event:xe,listeners:He}),be?xe.data=be:(be=he(a),be!==null&&(xe.data=be)))),(be=y?$t(t,a):Ze(t,a))&&(xe=$c(q,"onBeforeInput"),0<xe.length&&(He=new dl("onBeforeInput","beforeinput",null,a,Z),ae.push({event:He,listeners:xe}),He.data=be)),$A(ae,t,q,a,Z)}a_(ae,r)})}function Kl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $c(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ws(t,a),f!=null&&l.unshift(Kl(t,f,d)),f=Ws(t,r),f!=null&&l.push(Kl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var S=a,x=S.alternate,q=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||q===null||(x=q,f?(q=Ws(a,d),q!=null&&E.unshift(Kl(a,q,x))):f||(q=Ws(a,d),q!=null&&E.push(Kl(a,q,x)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(e1,`
`).replace(t1,"")}function c_(t,r){return r=u_(r),u_(t)===r}function Wc(){}function mt(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||si(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&si(t,""+l);break;case"className":Li(t,"class",l);break;case"tabIndex":Li(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Li(t,a,l);break;case"style":ol(t,l,d);break;case"data":if(r!=="object"){Li(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&mt(t,r,"name",f.name,f,null),mt(t,r,"formEncType",f.formEncType,f,null),mt(t,r,"formMethod",f.formMethod,f,null),mt(t,r,"formTarget",f.formTarget,f,null)):(mt(t,r,"encType",f.encType,f,null),mt(t,r,"method",f.method,f,null),mt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rf.get(a)||a,Ui(t,a,l))}}function im(t,r,a,l,f,d){switch(a){case"style":ol(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?si(t,l):(typeof l=="number"||typeof l=="bigint")&&si(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ae]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ui(t,a,l)}}}function vn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(t,r,d,E,a,null)}}f&&mt(t,r,"srcSet",a.srcSet,a,null),l&&mt(t,r,"src",a.src,a,null);return;case"input":Ge("invalid",t);var S=d=E=f=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":x=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:mt(t,r,l,Z,a,null)}}Qs(t,d,S,x,q,E,f,!1),Ha(t);return;case"select":Ge("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:mt(t,r,f,S,a,null)}r=d,a=E,t.multiple=!!l,r!=null?mr(t,!!l,r,!1):a!=null&&mr(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:mt(t,r,E,S,a,null)}Xs(t,l,f,d),Ha(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,r,x,l,a,null)}return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Ge(Gl[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(t,r,q,l,a,null)}return;default:if(ll(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&im(t,r,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&mt(t,r,S,l,a,null))}function n1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,x=null,q=null,Z=null;for(Q in a){var ae=a[Q];if(a.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=ae;default:l.hasOwnProperty(Q)||mt(t,r,Q,null,l,ae)}}for(var Y in l){var Q=l[Y];if(ae=a[Y],l.hasOwnProperty(Y)&&(Q!=null||ae!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ae&&mt(t,r,Y,Q,l,ae)}}Yn(t,E,S,x,q,Z,d,f);return;case"select":Q=E=S=Y=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||mt(t,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==x&&mt(t,r,f,d,l,x)}r=S,a=E,l=Q,Y!=null?mr(t,!!a,Y,!1):!!l!=!!a&&(r!=null?mr(t,!!a,r,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(t,r,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&mt(t,r,E,f,l,d)}ft(t,Y,Q);return;case"option":for(var Me in a)if(Y=a[Me],a.hasOwnProperty(Me)&&Y!=null&&!l.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:mt(t,r,Me,null,l,Y)}for(x in l)if(Y=l[x],Q=a[x],l.hasOwnProperty(x)&&Y!==Q&&(Y!=null||Q!=null))switch(x){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:mt(t,r,x,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)Y=a[Ne],a.hasOwnProperty(Ne)&&Y!=null&&!l.hasOwnProperty(Ne)&&mt(t,r,Ne,null,l,Y);for(q in l)if(Y=l[q],Q=a[q],l.hasOwnProperty(q)&&Y!==Q&&(Y!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:mt(t,r,q,Y,l,Q)}return;default:if(ll(r)){for(var pt in a)Y=a[pt],a.hasOwnProperty(pt)&&Y!==void 0&&!l.hasOwnProperty(pt)&&im(t,r,pt,void 0,l,Y);for(Z in l)Y=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||im(t,r,Z,Y,l,Q);return}}for(var L in a)Y=a[L],a.hasOwnProperty(L)&&Y!=null&&!l.hasOwnProperty(L)&&mt(t,r,L,null,l,Y);for(ae in l)Y=l[ae],Q=a[ae],!l.hasOwnProperty(ae)||Y===Q||Y==null&&Q==null||mt(t,r,ae,Y,l,Q)}var rm=null,sm=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function h_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var om=null;function i1(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(a1)}:d_;function a1(t){setTimeout(function(){throw t})}function us(t){return t==="head"}function p_(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Yl(E.documentElement),a&2&&Yl(E.body),a&4)for(a=E.head,Yl(a),E=a.firstChild;E;){var S=E.nextSibling,x=E.nodeName;E[vt]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){t.removeChild(d),tu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);tu(r)}function lm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lm(a),xn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function o1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vt])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=wi(t.nextSibling),t===null)break}return null}function l1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=wi(t.nextSibling),t===null))return null;return t}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function u1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function wi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var cm=null;function g_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function y_(t,r,a){switch(r=Zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xn(t)}var pi=new Map,v_=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mr=ie.d;ie.d={f:c1,r:h1,D:f1,C:d1,L:m1,m:p1,X:y1,S:g1,M:v1};function c1(){var t=Mr.f(),r=qc();return t||r}function h1(t){var r=dn(t);r!==null&&r.tag===5&&r.type==="form"?Ly(r):Mr.r(t)}var wo=typeof document>"u"?null:document;function __(t,r,a){var l=wo;if(l&&typeof r=="string"&&r){var f=Ft(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),v_.has(f)||(v_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),vn(r,"link",t),St(r),l.head.appendChild(r)))}}function f1(t){Mr.D(t),__("dns-prefetch",t,null)}function d1(t,r){Mr.C(t,r),__("preconnect",t,r)}function m1(t,r,a){Mr.L(t,r,a);var l=wo;if(l&&t&&r){var f='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ft(a.imageSizes)+'"]')):f+='[href="'+Ft(t)+'"]';var d=f;switch(r){case"style":d=Ro(t);break;case"script":d=Io(t)}pi.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),pi.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ql(d))||r==="script"&&l.querySelector(Xl(d))||(r=l.createElement("link"),vn(r,"link",t),St(r),l.head.appendChild(r)))}}function p1(t,r){Mr.m(t,r);var a=wo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(t)}if(!pi.has(d)&&(t=v({rel:"modulepreload",href:t},r),pi.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(d)))return}l=a.createElement("link"),vn(l,"link",t),St(l),a.head.appendChild(l)}}}function g1(t,r,a){Mr.S(t,r,a);var l=wo;if(l&&t){var f=It(l).hoistableStyles,d=Ro(t);r=r||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Ql(d)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=pi.get(d))&&hm(t,a);var x=E=l.createElement("link");St(x),vn(x,"link",t),x._p=new Promise(function(q,Z){x.onload=q,x.onerror=Z}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,eh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function y1(t,r){Mr.X(t,r);var a=wo;if(a&&t){var l=It(a).hoistableScripts,f=Io(t),d=l.get(f);d||(d=a.querySelector(Xl(f)),d||(t=v({src:t,async:!0},r),(r=pi.get(f))&&fm(t,r),d=a.createElement("script"),St(d),vn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function v1(t,r){Mr.M(t,r);var a=wo;if(a&&t){var l=It(a).hoistableScripts,f=Io(t),d=l.get(f);d||(d=a.querySelector(Xl(f)),d||(t=v({src:t,async:!0,type:"module"},r),(r=pi.get(f))&&fm(t,r),d=a.createElement("script"),St(d),vn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function E_(t,r,a,l){var f=(f=we.current)?Jc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ro(a.href),a=It(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ro(a.href);var d=It(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Ql(t)))&&!d._p&&(E.instance=d,E.state.loading=5),pi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pi.set(t,a),d||_1(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Io(a),a=It(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ro(t){return'href="'+Ft(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function _1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),vn(r,"link",a),St(r),t.head.appendChild(r))}function Io(t){return'[src="'+Ft(t)+'"]'}function Xl(t){return"script[async]"+t}function S_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(l)return r.instance=l,St(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),vn(l,"style",f),eh(l,a.precedence,t),r.instance=l;case"stylesheet":f=Ro(a.href);var d=t.querySelector(Ql(f));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=T_(a),(f=pi.get(f))&&hm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var E=d;return E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),vn(d,"link",l),r.state.loading|=4,eh(d,a.precedence,t),r.instance=d;case"script":return d=Io(a.src),(f=t.querySelector(Xl(d)))?(r.instance=f,St(f),f):(l=a,(f=pi.get(d))&&(l=v({},a),fm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),vn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,eh(l,a.precedence,t));return r.instance}function eh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function hm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var th=null;function b_(t,r,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[vt]||d[ge]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function A_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function E1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var $l=null;function T1(){}function S1(t,r,a){if($l===null)throw Error(s(475));var l=$l;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ro(a.href),d=t.querySelector(Ql(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nh.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,St(d);return}d=t.ownerDocument||t,a=T_(a),(f=pi.get(f))&&hm(a,f),d=d.createElement("link"),St(d);var E=d;E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),vn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=nh.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function b1(){if($l===null)throw Error(s(475));var t=$l;return t.stylesheets&&t.count===0&&dm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&dm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function dm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,r.forEach(A1,t),ih=null,nh.call(t))}function A1(t,r){if(!(r.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Wl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function w1(t,r,a,l,f,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function R_(t,r,a,l,f,d,E,S,x,q,Z,ae){return t=new w1(t,r,a,E,S,x,q,ae),r=1,d===!0&&(r|=24),d=Xn(3,null,null,r),t.current=d,d.stateNode=t,r=Qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Zf(d),t}function I_(t){return t?(t=io,t):io}function C_(t,r,a,l,f,d){f=I_(f),l.context===null?l.context=f:l.pendingContext=f,l=$r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Wr(t,l,r),a!==null&&(ei(a,t,r),Il(a,t,r))}function N_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function mm(t,r){N_(t,r),(t=t.alternate)&&N_(t,r)}function x_(t){if(t.tag===13){var r=no(t,67108864);r!==null&&ei(r,t,67108864),mm(t,67108864)}}var rh=!0;function R1(t,r,a,l){var f=X.T;X.T=null;var d=ie.p;try{ie.p=2,pm(t,r,a,l)}finally{ie.p=d,X.T=f}}function I1(t,r,a,l){var f=X.T;X.T=null;var d=ie.p;try{ie.p=8,pm(t,r,a,l)}finally{ie.p=d,X.T=f}}function pm(t,r,a,l){if(rh){var f=gm(l);if(f===null)nm(t,r,l,sh,a),O_(t,l);else if(N1(f,t,r,a,l))l.stopPropagation();else if(O_(t,l),r&4&&-1<C1.indexOf(t)){for(;f!==null;){var d=dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Sn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var x=1<<31-Tt(E);S.entanglements[1]|=x,E&=~x}$i(d),(ut&6)===0&&(Fc=Vn()+500,ql(0))}}break;case 13:S=no(d,2),S!==null&&ei(S,d,2),qc(),mm(d,2)}if(d=gm(l),d===null&&nm(t,r,l,sh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else nm(t,r,l,null,a)}}function gm(t){return t=ai(t),ym(t)}var sh=null;function ym(t){if(sh=null,t=Kn(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return sh=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(il()){case Fs:return 2;case qr:return 8;case Gn:case La:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var vm=!1,cs=null,hs=null,fs=null,Zl=new Map,Jl=new Map,ds=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,r){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function eu(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=dn(r),r!==null&&x_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function N1(t,r,a,l,f){switch(r){case"focusin":return cs=eu(cs,t,r,a,l,f),!0;case"dragenter":return hs=eu(hs,t,r,a,l,f),!0;case"mouseover":return fs=eu(fs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Zl.set(d,eu(Zl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Jl.set(d,eu(Jl.get(d)||null,t,r,a,l,f)),!0}return!1}function M_(t){var r=Kn(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Ce(t.priority,function(){if(a.tag===13){var l=Jn();l=ce(l);var f=no(a,l);f!==null&&ei(f,a,l),mm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pr=l,a.target.dispatchEvent(l),pr=null}else return r=dn(a),r!==null&&x_(r),t.blockedOn=a,!1;r.shift()}return!0}function P_(t,r,a){ah(t)&&a.delete(r)}function x1(){vm=!1,cs!==null&&ah(cs)&&(cs=null),hs!==null&&ah(hs)&&(hs=null),fs!==null&&ah(fs)&&(fs=null),Zl.forEach(P_),Jl.forEach(P_)}function oh(t,r){t.blockedOn===r&&(t.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,x1)))}var lh=null;function V_(t){lh!==t&&(lh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=dn(a);d!==null&&(t.splice(r,3),r-=3,yd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function tu(t){function r(x){return oh(x,t)}cs!==null&&oh(cs,t),hs!==null&&oh(hs,t),fs!==null&&oh(fs,t),Zl.forEach(r),Jl.forEach(r);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&ds.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Ae]||null;if(typeof d=="function")E||V_(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Ae]||null)S=E.formAction;else if(ym(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),V_(a)}}}function _m(t){this._internalRoot=t}uh.prototype.render=_m.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Jn();C_(a,l,t,r,null,null)},uh.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;C_(t.current,2,null,t,null,null),qc(),r[it]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pe();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ds.length&&r!==0&&r<ds[a].priority;a++);ds.splice(a,0,t),a===0&&M_(t)}};var k_=e.version;if(k_!=="19.1.0")throw Error(s(527,k_,"19.1.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var D1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Et=ch.inject(D1),$e=ch}catch{}}return iu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Zy,d=Jy,E=ev,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=R_(t,1,!1,null,null,a,l,f,d,E,S,null),t[it]=r.current,tm(t),new _m(r)},iu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Zy,E=Jy,S=ev,x=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=R_(t,1,!0,r,a??null,l,f,d,E,S,x,q),r.context=I_(null),a=r.current,l=Jn(),l=ce(l),f=$r(l),f.callback=null,Wr(a,f,l),a=l,r.current.lanes=a,Ei(r,a),$i(r),t[it]=r.current,tm(t),new uh(r)},iu.version="19.1.0",iu}var K_;function F1(){if(K_)return Sm.exports;K_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=z1(),Sm.exports}var H1=F1(),Q0=Y0();const q1=K0(Q0),G1=G0({__proto__:null,default:q1},[Q0]);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Vt.apply(this,arguments)}var Kt;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Kt||(Kt={}));const Y_="popstate";function K1(i){i===void 0&&(i={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Ru("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:wa(o)}return Q1(e,n,null,i)}function Qe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fo(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y1(){return Math.random().toString(36).substr(2,8)}function Q_(i,e){return{usr:i.state,key:i.key,idx:e}}function Ru(i,e,n,s){return n===void 0&&(n=null),Vt({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ks(e):e,{state:n,key:e&&e.key||s||Y1()})}function wa(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ks(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function Q1(i,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=Kt.Pop,p=null,g=v();g==null&&(g=0,h.replaceState(Vt({},h.state,{idx:g}),""));function v(){return(h.state||{idx:null}).idx}function b(){m=Kt.Pop;let V=v(),te=V==null?null:V-g;g=V,p&&p({action:m,location:K.location,delta:te})}function w(V,te){m=Kt.Push;let W=Ru(K.location,V,te);g=v()+1;let ne=Q_(W,g),me=K.createHref(W);try{h.pushState(ne,"",me)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(me)}u&&p&&p({action:m,location:K.location,delta:1})}function k(V,te){m=Kt.Replace;let W=Ru(K.location,V,te);g=v();let ne=Q_(W,g),me=K.createHref(W);h.replaceState(ne,"",me),u&&p&&p({action:m,location:K.location,delta:0})}function B(V){let te=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof V=="string"?V:wa(V);return W=W.replace(/ $/,"%20"),Qe(te,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,te)}let K={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Y_,b),p=V,()=>{o.removeEventListener(Y_,b),p=null}},createHref(V){return e(o,V)},createURL:B,encodeLocation(V){let te=B(V);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:k,go(V){return h.go(V)}};return K}var Pt;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Pt||(Pt={}));const X1=new Set(["lazy","caseSensitive","path","id","index","children"]);function $1(i){return i.index===!0}function qm(i,e,n,s){return n===void 0&&(n=[]),s===void 0&&(s={}),i.map((o,u)=>{let h=[...n,u],m=typeof o.id=="string"?o.id:h.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!s[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),$1(o)){let p=Vt({},o,e(o),{id:m});return s[m]=p,p}else{let p=Vt({},o,e(o),{id:m,children:void 0});return s[m]=p,o.children&&(p.children=qm(o.children,e,h,s)),p}})}function Mo(i,e,n){n===void 0&&(n="/");let s=typeof e=="string"?ks(e):e,o=Xo(s.pathname||"/",n);if(o==null)return null;let u=X0(i);Z1(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=cw(o);h=ow(u[m],p)}return h}function W1(i,e){let{route:n,pathname:s,params:o}=i;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function X0(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Qe(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=kr([s,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Qe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),X0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sw(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of $0(u.path))o(u,h,p)}),e}function $0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=$0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Z1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:aw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const J1=/^:[\w-]+$/,ew=3,tw=2,nw=1,iw=10,rw=-2,X_=i=>i==="*";function sw(i,e){let n=i.split("/"),s=n.length;return n.some(X_)&&(s+=rw),e&&(s+=tw),n.filter(o=>!X_(o)).reduce((o,u)=>o+(J1.test(u)?ew:u===""?nw:iw),s)}function aw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function ow(i,e){let{routesMeta:n}=i,s={},o="/",u=[];for(let h=0;h<n.length;++h){let m=n[h],p=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=lw({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g);if(!v)return null;Object.assign(s,v.params);let b=m.route;u.push({params:s,pathname:kr([o,v.pathname]),pathnameBase:dw(kr([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=kr([o,v.pathnameBase]))}return u}function lw(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=uw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,v,b)=>{let{paramName:w,isOptional:k}=v;if(w==="*"){let K=m[b]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const B=m[b];return k&&!B?g[w]=void 0:g[w]=(B||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function uw(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fo(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fo(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Xo(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function hw(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ks(i):i;return{pathname:n?n.startsWith("/")?n:fw(n,e):e,search:mw(s),hash:pw(o)}}function fw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bp(i,e){let n=W0(i);return e?n.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ap(i,e,n,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=ks(i):(o=Vt({},i),Qe(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=hw(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}const kr=i=>i.join("/").replace(/\/\/+/g,"/"),dw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;class wp{constructor(e,n,s,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Z0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const J0=["post","put","patch","delete"],gw=new Set(J0),yw=["get",...J0],vw=new Set(yw),_w=new Set([301,302,303,307,308]),Ew=new Set([307,308]),Im={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ru={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),tT="remix-router-transitions";function bw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!n;Qe(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(i.mapRouteProperties)o=i.mapRouteProperties;else if(i.detectErrorBoundary){let j=i.detectErrorBoundary;o=G=>({hasErrorBoundary:j(G)})}else o=Sw;let u={},h=qm(i.routes,o,void 0,u),m,p=i.basename||"/",g=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},i.future),v=null,b=new Set,w=null,k=null,B=null,K=i.hydrationData!=null,V=Mo(h,i.history.location,p),te=null;if(V==null){let j=gi(404,{pathname:i.history.location.pathname}),{matches:G,route:ee}=iE(h);V=G,te={[ee.id]:j}}let W,ne=V.some(j=>j.route.lazy),me=V.some(j=>j.route.loader);if(ne)W=!1;else if(!me)W=!0;else if(g.v7_partialHydration){let j=i.hydrationData?i.hydrationData.loaderData:null,G=i.hydrationData?i.hydrationData.errors:null,ee=ce=>ce.route.loader?ce.route.loader.hydrate===!0?!1:j&&j[ce.route.id]!==void 0||G&&G[ce.route.id]!==void 0:!0;if(G){let ce=V.findIndex(ve=>G[ve.route.id]!==void 0);W=V.slice(0,ce+1).every(ee)}else W=V.every(ee)}else W=i.hydrationData!=null;let de,F={historyAction:i.history.action,location:i.history.location,matches:V,initialized:W,navigation:Im,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||te,fetchers:new Map,blockers:new Map},I=Kt.Pop,R=!1,C,M=!1,D=new Map,U=null,N=!1,lt=!1,Ie=[],X=[],ie=new Map,_e=0,je=-1,O=new Map,se=new Set,fe=new Map,ue=new Map,Te=new Set,Ve=new Map,we=new Map,xt=!1;function ht(){if(v=i.history.listen(j=>{let{action:G,location:ee,delta:ce}=j;if(xt){xt=!1;return}Fo(we.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=hr({currentLocation:F.location,nextLocation:ee,historyAction:G});if(ve&&ce!=null){xt=!0,i.history.go(ce*-1),Sn(ve,{state:"blocked",location:ee,proceed(){Sn(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),i.history.go(ce)},reset(){let Pe=new Map(F.blockers);Pe.set(ve,ru),Rt({blockers:Pe})}});return}return qn(G,ee)}),n){Pw(e,D);let j=()=>Vw(e,D);e.addEventListener("pagehide",j),U=()=>e.removeEventListener("pagehide",j)}return F.initialized||qn(Kt.Pop,F.location,{initialHydration:!0}),de}function ii(){v&&v(),U&&U(),b.clear(),C&&C.abort(),F.fetchers.forEach((j,G)=>$e(G)),F.blockers.forEach((j,G)=>Vi(G))}function xi(j){return b.add(j),()=>b.delete(j)}function Rt(j,G){G===void 0&&(G={}),F=Vt({},F,j);let ee=[],ce=[];g.v7_fetcherPersist&&F.fetchers.forEach((ve,Pe)=>{ve.state==="idle"&&(Te.has(Pe)?ce.push(Pe):ee.push(Pe))}),[...b].forEach(ve=>ve(F,{deletedFetchers:ce,unstable_viewTransitionOpts:G.viewTransitionOpts,unstable_flushSync:G.flushSync===!0})),g.v7_fetcherPersist&&(ee.forEach(ve=>F.fetchers.delete(ve)),ce.forEach(ve=>$e(ve)))}function Hn(j,G,ee){var ce,ve;let{flushSync:Pe}=ee===void 0?{}:ee,Ce=F.actionData!=null&&F.navigation.formMethod!=null&&Ri(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0,pe;G.actionData?Object.keys(G.actionData).length>0?pe=G.actionData:pe=null:Ce?pe=F.actionData:pe=null;let ge=G.loaderData?nE(F.loaderData,G.loaderData,G.matches||[],G.errors):F.loaderData,Ae=F.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((st,yt)=>Ae.set(yt,ru)));let it=R===!0||F.navigation.formMethod!=null&&Ri(F.navigation.formMethod)&&((ve=j.state)==null?void 0:ve._isRedirect)!==!0;m&&(h=m,m=void 0),N||I===Kt.Pop||(I===Kt.Push?i.history.push(j,j.state):I===Kt.Replace&&i.history.replace(j,j.state));let ke;if(I===Kt.Pop){let st=D.get(F.location.pathname);st&&st.has(j.pathname)?ke={currentLocation:F.location,nextLocation:j}:D.has(j.pathname)&&(ke={currentLocation:j,nextLocation:F.location})}else if(M){let st=D.get(F.location.pathname);st?st.add(j.pathname):(st=new Set([j.pathname]),D.set(F.location.pathname,st)),ke={currentLocation:F.location,nextLocation:j}}Rt(Vt({},G,{actionData:pe,loaderData:ge,historyAction:I,location:j,initialized:!0,navigation:Im,revalidation:"idle",restoreScrollPosition:ri(j,G.matches||F.matches),preventScrollReset:it,blockers:Ae}),{viewTransitionOpts:ke,flushSync:Pe===!0}),I=Kt.Pop,R=!1,M=!1,N=!1,lt=!1,Ie=[],X=[]}async function Di(j,G){if(typeof j=="number"){i.history.go(j);return}let ee=Gm(F.location,F.matches,p,g.v7_prependBasename,j,g.v7_relativeSplatPath,G?.fromRouteId,G?.relative),{path:ce,submission:ve,error:Pe}=$_(g.v7_normalizeFormMethod,!1,ee,G),Ce=F.location,pe=Ru(F.location,ce,G&&G.state);pe=Vt({},pe,i.history.encodeLocation(pe));let ge=G&&G.replace!=null?G.replace:void 0,Ae=Kt.Push;ge===!0?Ae=Kt.Replace:ge===!1||ve!=null&&Ri(ve.formMethod)&&ve.formAction===F.location.pathname+F.location.search&&(Ae=Kt.Replace);let it=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,ke=(G&&G.unstable_flushSync)===!0,st=hr({currentLocation:Ce,nextLocation:pe,historyAction:Ae});if(st){Sn(st,{state:"blocked",location:pe,proceed(){Sn(st,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Di(j,G)},reset(){let yt=new Map(F.blockers);yt.set(st,ru),Rt({blockers:yt})}});return}return await qn(Ae,pe,{submission:ve,pendingError:Pe,preventScrollReset:it,replace:G&&G.replace,enableViewTransition:G&&G.unstable_viewTransition,flushSync:ke})}function ur(){if(Oi(),Rt({revalidation:"loading"}),F.navigation.state!=="submitting"){if(F.navigation.state==="idle"){qn(F.historyAction,F.location,{startUninterruptedRevalidation:!0});return}qn(I||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation})}}async function qn(j,G,ee){C&&C.abort(),C=null,I=j,N=(ee&&ee.startUninterruptedRevalidation)===!0,Gs(F.location,F.matches),R=(ee&&ee.preventScrollReset)===!0,M=(ee&&ee.enableViewTransition)===!0;let ce=m||h,ve=ee&&ee.overrideNavigation,Pe=Mo(ce,G,p),Ce=(ee&&ee.flushSync)===!0;if(!Pe){let yt=gi(404,{pathname:G.pathname}),{matches:sn,route:vt}=iE(ce);_i(),Hn(G,{matches:sn,loaderData:{},errors:{[vt.id]:yt}},{flushSync:Ce});return}if(F.initialized&&!lt&&Cw(F.location,G)&&!(ee&&ee.submission&&Ri(ee.submission.formMethod))){Hn(G,{matches:Pe},{flushSync:Ce});return}C=new AbortController;let pe=au(i.history,G,C.signal,ee&&ee.submission),ge,Ae;if(ee&&ee.pendingError)Ae={[yu(Pe).route.id]:ee.pendingError};else if(ee&&ee.submission&&Ri(ee.submission.formMethod)){let yt=await Ua(pe,G,ee.submission,Pe,{replace:ee.replace,flushSync:Ce});if(yt.shortCircuited)return;ge=yt.pendingActionData,Ae=yt.pendingActionError,ve=Cm(G,ee.submission),Ce=!1,pe=new Request(pe.url,{signal:pe.signal})}let{shortCircuited:it,loaderData:ke,errors:st}=await Vn(pe,G,Pe,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ce,ge,Ae);it||(C=null,Hn(G,Vt({matches:Pe},ge?{actionData:ge}:{},{loaderData:ke,errors:st})))}async function Ua(j,G,ee,ce,ve){ve===void 0&&(ve={}),Oi();let Pe=Ow(G,ee);Rt({navigation:Pe},{flushSync:ve.flushSync===!0});let Ce,pe=Ym(ce,G);if(!pe.route.action&&!pe.route.lazy)Ce={type:Pt.error,error:gi(405,{method:j.method,pathname:G.pathname,routeId:pe.route.id})};else if(Ce=await su("action",j,pe,ce,u,o,p,g.v7_relativeSplatPath),j.signal.aborted)return{shortCircuited:!0};if(Ta(Ce)){let ge;return ve&&ve.replace!=null?ge=ve.replace:ge=Ce.location===F.location.pathname+F.location.search,await Gn(F,Ce,{submission:ee,replace:ge}),{shortCircuited:!0}}if(Po(Ce)){let ge=yu(ce,pe.route.id);return(ve&&ve.replace)!==!0&&(I=Kt.Push),{pendingActionData:{},pendingActionError:{[ge.route.id]:Ce.error}}}if(Ea(Ce))throw gi(400,{type:"defer-action"});return{pendingActionData:{[pe.route.id]:Ce.data}}}async function Vn(j,G,ee,ce,ve,Pe,Ce,pe,ge,Ae,it){let ke=ce||Cm(G,ve),st=ve||Pe||aE(ke),yt=m||h,[sn,vt]=W_(i.history,F,ee,st,G,g.v7_partialHydration&&pe===!0,lt,Ie,X,Te,fe,se,yt,p,Ae,it);if(_i(Ke=>!(ee&&ee.some(tt=>tt.route.id===Ke))||sn&&sn.some(tt=>tt.route.id===Ke)),je=++_e,sn.length===0&&vt.length===0){let Ke=ja();return Hn(G,Vt({matches:ee,loaderData:{},errors:it||null},Ae?{actionData:Ae}:{},Ke?{fetchers:new Map(F.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(!N&&(!g.v7_partialHydration||!pe)){vt.forEach(tt=>{let Dt=F.fetchers.get(tt.key),fr=ou(void 0,Dt?Dt.data:void 0);F.fetchers.set(tt.key,fr)});let Ke=Ae||F.actionData;Rt(Vt({navigation:ke},Ke?Object.keys(Ke).length===0?{actionData:null}:{actionData:Ke}:{},vt.length>0?{fetchers:new Map(F.fetchers)}:{}),{flushSync:ge})}vt.forEach(Ke=>{ie.has(Ke.key)&&Tt(Ke.key),Ke.controller&&ie.set(Ke.key,Ke.controller)});let xn=()=>vt.forEach(Ke=>Tt(Ke.key));C&&C.signal.addEventListener("abort",xn);let{results:Kn,loaderResults:dn,fetcherResults:Xt}=await La(F.matches,ee,sn,vt,j);if(j.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",xn),vt.forEach(Ke=>ie.delete(Ke.key));let It=rE(Kn);if(It){if(It.idx>=sn.length){let Ke=vt[It.idx-sn.length].key;se.add(Ke)}return await Gn(F,It.result,{replace:Ce}),{shortCircuited:!0}}let{loaderData:St,errors:Ti}=tE(F,ee,sn,dn,it,vt,Xt,Ve);Ve.forEach((Ke,tt)=>{Ke.subscribe(Dt=>{(Dt||Ke.done)&&Ve.delete(tt)})}),g.v7_partialHydration&&pe&&F.errors&&Object.entries(F.errors).filter(Ke=>{let[tt]=Ke;return!sn.some(Dt=>Dt.route.id===tt)}).forEach(Ke=>{let[tt,Dt]=Ke;Ti=Object.assign(Ti||{},{[tt]:Dt})});let ki=ja(),an=Pi(je),Un=ki||an||vt.length>0;return Vt({loaderData:St,errors:Ti},Un?{fetchers:new Map(F.fetchers)}:{})}function il(j,G,ee,ce){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(j)&&Tt(j);let ve=(ce&&ce.unstable_flushSync)===!0,Pe=m||h,Ce=Gm(F.location,F.matches,p,g.v7_prependBasename,ee,g.v7_relativeSplatPath,G,ce?.relative),pe=Mo(Pe,Ce,p);if(!pe){Mi(j,G,gi(404,{pathname:Ce}),{flushSync:ve});return}let{path:ge,submission:Ae,error:it}=$_(g.v7_normalizeFormMethod,!0,Ce,ce);if(it){Mi(j,G,it,{flushSync:ve});return}let ke=Ym(pe,ge);if(R=(ce&&ce.preventScrollReset)===!0,Ae&&Ri(Ae.formMethod)){Fs(j,G,ge,ke,pe,ve,Ae);return}fe.set(j,{routeId:G,path:ge}),qr(j,G,ge,ke,pe,ve,Ae)}async function Fs(j,G,ee,ce,ve,Pe,Ce){if(Oi(),fe.delete(j),!ce.route.action&&!ce.route.lazy){let tt=gi(405,{method:Ce.formMethod,pathname:ee,routeId:G});Mi(j,G,tt,{flushSync:Pe});return}let pe=F.fetchers.get(j);kn(j,Mw(Ce,pe),{flushSync:Pe});let ge=new AbortController,Ae=au(i.history,ee,ge.signal,Ce);ie.set(j,ge);let it=_e,ke=await su("action",Ae,ce,ve,u,o,p,g.v7_relativeSplatPath);if(Ae.signal.aborted){ie.get(j)===ge&&ie.delete(j);return}if(g.v7_fetcherPersist&&Te.has(j)){if(Ta(ke)||Po(ke)){kn(j,gs(void 0));return}}else{if(Ta(ke))if(ie.delete(j),je>it){kn(j,gs(void 0));return}else return se.add(j),kn(j,ou(Ce)),Gn(F,ke,{fetcherSubmission:Ce});if(Po(ke)){Mi(j,G,ke.error);return}}if(Ea(ke))throw gi(400,{type:"defer-action"});let st=F.navigation.location||F.location,yt=au(i.history,st,ge.signal),sn=m||h,vt=F.navigation.state!=="idle"?Mo(sn,F.navigation.location,p):F.matches;Qe(vt,"Didn't find any matches after fetcher action");let xn=++_e;O.set(j,xn);let Kn=ou(Ce,ke.data);F.fetchers.set(j,Kn);let[dn,Xt]=W_(i.history,F,vt,Ce,st,!1,lt,Ie,X,Te,fe,se,sn,p,{[ce.route.id]:ke.data},void 0);Xt.filter(tt=>tt.key!==j).forEach(tt=>{let Dt=tt.key,fr=F.fetchers.get(Dt),Ui=ou(void 0,fr?fr.data:void 0);F.fetchers.set(Dt,Ui),ie.has(Dt)&&Tt(Dt),tt.controller&&ie.set(Dt,tt.controller)}),Rt({fetchers:new Map(F.fetchers)});let It=()=>Xt.forEach(tt=>Tt(tt.key));ge.signal.addEventListener("abort",It);let{results:St,loaderResults:Ti,fetcherResults:ki}=await La(F.matches,vt,dn,Xt,yt);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",It),O.delete(j),ie.delete(j),Xt.forEach(tt=>ie.delete(tt.key));let an=rE(St);if(an){if(an.idx>=dn.length){let tt=Xt[an.idx-dn.length].key;se.add(tt)}return Gn(F,an.result)}let{loaderData:Un,errors:Ke}=tE(F,F.matches,dn,Ti,void 0,Xt,ki,Ve);if(F.fetchers.has(j)){let tt=gs(ke.data);F.fetchers.set(j,tt)}Pi(xn),F.navigation.state==="loading"&&xn>je?(Qe(I,"Expected pending action"),C&&C.abort(),Hn(F.navigation.location,{matches:vt,loaderData:Un,errors:Ke,fetchers:new Map(F.fetchers)})):(Rt({errors:Ke,loaderData:nE(F.loaderData,Un,vt,Ke),fetchers:new Map(F.fetchers)}),lt=!1)}async function qr(j,G,ee,ce,ve,Pe,Ce){let pe=F.fetchers.get(j);kn(j,ou(Ce,pe?pe.data:void 0),{flushSync:Pe});let ge=new AbortController,Ae=au(i.history,ee,ge.signal);ie.set(j,ge);let it=_e,ke=await su("loader",Ae,ce,ve,u,o,p,g.v7_relativeSplatPath);if(Ea(ke)&&(ke=await rT(ke,Ae.signal,!0)||ke),ie.get(j)===ge&&ie.delete(j),!Ae.signal.aborted){if(Te.has(j)){kn(j,gs(void 0));return}if(Ta(ke))if(je>it){kn(j,gs(void 0));return}else{se.add(j),await Gn(F,ke);return}if(Po(ke)){Mi(j,G,ke.error);return}Qe(!Ea(ke),"Unhandled fetcher deferred data"),kn(j,gs(ke.data))}}async function Gn(j,G,ee){let{submission:ce,fetcherSubmission:ve,replace:Pe}=ee===void 0?{}:ee;G.revalidate&&(lt=!0);let Ce=Ru(j.location,G.location,{_isRedirect:!0});if(Qe(Ce,"Expected a location on the redirect navigation"),n){let st=!1;if(G.reloadDocument)st=!0;else if(eT.test(G.location)){const yt=i.history.createURL(G.location);st=yt.origin!==e.location.origin||Xo(yt.pathname,p)==null}if(st){Pe?e.location.replace(G.location):e.location.assign(G.location);return}}C=null;let pe=Pe===!0?Kt.Replace:Kt.Push,{formMethod:ge,formAction:Ae,formEncType:it}=j.navigation;!ce&&!ve&&ge&&Ae&&it&&(ce=aE(j.navigation));let ke=ce||ve;if(Ew.has(G.status)&&ke&&Ri(ke.formMethod))await qn(pe,Ce,{submission:Vt({},ke,{formAction:G.location}),preventScrollReset:R});else{let st=Cm(Ce,ce);await qn(pe,Ce,{overrideNavigation:st,fetcherSubmission:ve,preventScrollReset:R})}}async function La(j,G,ee,ce,ve){let Pe=await Promise.all([...ee.map(ge=>su("loader",ve,ge,G,u,o,p,g.v7_relativeSplatPath)),...ce.map(ge=>ge.matches&&ge.match&&ge.controller?su("loader",au(i.history,ge.path,ge.controller.signal),ge.match,ge.matches,u,o,p,g.v7_relativeSplatPath):{type:Pt.error,error:gi(404,{pathname:ge.path})})]),Ce=Pe.slice(0,ee.length),pe=Pe.slice(ee.length);return await Promise.all([sE(j,ee,Ce,Ce.map(()=>ve.signal),!1,F.loaderData),sE(j,ce.map(ge=>ge.match),pe,ce.map(ge=>ge.controller?ge.controller.signal:null),!0)]),{results:Pe,loaderResults:Ce,fetcherResults:pe}}function Oi(){lt=!0,Ie.push(..._i()),fe.forEach((j,G)=>{ie.has(G)&&(X.push(G),Tt(G))})}function kn(j,G,ee){ee===void 0&&(ee={}),F.fetchers.set(j,G),Rt({fetchers:new Map(F.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Mi(j,G,ee,ce){ce===void 0&&(ce={});let ve=yu(F.matches,G);$e(j),Rt({errors:{[ve.route.id]:ee},fetchers:new Map(F.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function Et(j){return g.v7_fetcherPersist&&(ue.set(j,(ue.get(j)||0)+1),Te.has(j)&&Te.delete(j)),F.fetchers.get(j)||Tw}function $e(j){let G=F.fetchers.get(j);ie.has(j)&&!(G&&G.state==="loading"&&O.has(j))&&Tt(j),fe.delete(j),O.delete(j),se.delete(j),Te.delete(j),F.fetchers.delete(j)}function Nn(j){if(g.v7_fetcherPersist){let G=(ue.get(j)||0)-1;G<=0?(ue.delete(j),Te.add(j)):ue.set(j,G)}else $e(j);Rt({fetchers:new Map(F.fetchers)})}function Tt(j){let G=ie.get(j);Qe(G,"Expected fetch controller: "+j),G.abort(),ie.delete(j)}function Hs(j){for(let G of j){let ee=Et(G),ce=gs(ee.data);F.fetchers.set(G,ce)}}function ja(){let j=[],G=!1;for(let ee of se){let ce=F.fetchers.get(ee);Qe(ce,"Expected fetcher: "+ee),ce.state==="loading"&&(se.delete(ee),j.push(ee),G=!0)}return Hs(j),G}function Pi(j){let G=[];for(let[ee,ce]of O)if(ce<j){let ve=F.fetchers.get(ee);Qe(ve,"Expected fetcher: "+ee),ve.state==="loading"&&(Tt(ee),O.delete(ee),G.push(ee))}return Hs(G),G.length>0}function cr(j,G){let ee=F.blockers.get(j)||ru;return we.get(j)!==G&&we.set(j,G),ee}function Vi(j){F.blockers.delete(j),we.delete(j)}function Sn(j,G){let ee=F.blockers.get(j)||ru;Qe(ee.state==="unblocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="proceeding"||ee.state==="blocked"&&G.state==="unblocked"||ee.state==="proceeding"&&G.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+G.state);let ce=new Map(F.blockers);ce.set(j,G),Rt({blockers:ce})}function hr(j){let{currentLocation:G,nextLocation:ee,historyAction:ce}=j;if(we.size===0)return;we.size>1&&Fo(!1,"A router only supports one blocker at a time");let ve=Array.from(we.entries()),[Pe,Ce]=ve[ve.length-1],pe=F.blockers.get(Pe);if(!(pe&&pe.state==="proceeding")&&Ce({currentLocation:G,nextLocation:ee,historyAction:ce}))return Pe}function _i(j){let G=[];return Ve.forEach((ee,ce)=>{(!j||j(ce))&&(ee.cancel(),G.push(ce),Ve.delete(ce))}),G}function qs(j,G,ee){if(w=j,B=G,k=ee||null,!K&&F.navigation===Im){K=!0;let ce=ri(F.location,F.matches);ce!=null&&Rt({restoreScrollPosition:ce})}return()=>{w=null,B=null,k=null}}function Gr(j,G){return k&&k(j,G.map(ce=>W1(ce,F.loaderData)))||j.key}function Gs(j,G){if(w&&B){let ee=Gr(j,G);w[ee]=B()}}function ri(j,G){if(w){let ee=Gr(j,G),ce=w[ee];if(typeof ce=="number")return ce}return null}function Ei(j){u={},m=qm(j,o,void 0,u)}return de={get basename(){return p},get future(){return g},get state(){return F},get routes(){return h},get window(){return e},initialize:ht,subscribe:xi,enableScrollRestoration:qs,navigate:Di,fetch:il,revalidate:ur,createHref:j=>i.history.createHref(j),encodeLocation:j=>i.history.encodeLocation(j),getFetcher:Et,deleteFetcher:Nn,dispose:ii,getBlocker:cr,deleteBlocker:Vi,_internalFetchControllers:ie,_internalActiveDeferreds:Ve,_internalSetRoutes:Ei},de}function Aw(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Gm(i,e,n,s,o,u,h,m){let p,g;if(h){p=[];for(let b of e)if(p.push(b),b.route.id===h){g=b;break}}else p=e,g=e[e.length-1];let v=Ap(o||".",bp(p,u),Xo(i.pathname,n)||i.pathname,m==="path");return o==null&&(v.search=i.search,v.hash=i.hash),(o==null||o===""||o===".")&&g&&g.route.index&&!Rp(v.search)&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),s&&n!=="/"&&(v.pathname=v.pathname==="/"?n:kr([n,v.pathname])),wa(v)}function $_(i,e,n,s){if(!s||!Aw(s))return{path:n};if(s.formMethod&&!Dw(s.formMethod))return{path:n,error:gi(405,{method:s.formMethod})};let o=()=>({path:n,error:gi(400,{type:"invalid-body"})}),u=s.formMethod||"get",h=i?u.toUpperCase():u.toLowerCase(),m=iT(n);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Ri(h))return o();let w=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((k,B)=>{let[K,V]=B;return""+k+K+"="+V+`
`},""):String(s.body);return{path:n,submission:{formMethod:h,formAction:m,formEncType:s.formEncType,formData:void 0,json:void 0,text:w}}}else if(s.formEncType==="application/json"){if(!Ri(h))return o();try{let w=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:n,submission:{formMethod:h,formAction:m,formEncType:s.formEncType,formData:void 0,json:w,text:void 0}}}catch{return o()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let p,g;if(s.formData)p=Km(s.formData),g=s.formData;else if(s.body instanceof FormData)p=Km(s.body),g=s.body;else if(s.body instanceof URLSearchParams)p=s.body,g=eE(p);else if(s.body==null)p=new URLSearchParams,g=new FormData;else try{p=new URLSearchParams(s.body),g=eE(p)}catch{return o()}let v={formMethod:h,formAction:m,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Ri(v.formMethod))return{path:n,submission:v};let b=ks(n);return e&&b.search&&Rp(b.search)&&p.append("index",""),b.search="?"+p,{path:wa(b),submission:v}}function ww(i,e){let n=i;if(e){let s=i.findIndex(o=>o.route.id===e);s>=0&&(n=i.slice(0,s))}return n}function W_(i,e,n,s,o,u,h,m,p,g,v,b,w,k,B,K){let V=K?Object.values(K)[0]:B?Object.values(B)[0]:void 0,te=i.createURL(e.location),W=i.createURL(o),ne=K?Object.keys(K)[0]:void 0,de=ww(n,ne).filter((I,R)=>{let{route:C}=I;if(C.lazy)return!0;if(C.loader==null)return!1;if(u)return C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(Rw(e.loaderData,e.matches[R],I)||m.some(U=>U===I.route.id))return!0;let M=e.matches[R],D=I;return Z_(I,Vt({currentUrl:te,currentParams:M.params,nextUrl:W,nextParams:D.params},s,{actionResult:V,defaultShouldRevalidate:h||te.pathname+te.search===W.pathname+W.search||te.search!==W.search||nT(M,D)}))}),F=[];return v.forEach((I,R)=>{if(u||!n.some(N=>N.route.id===I.routeId)||g.has(R))return;let C=Mo(w,I.path,k);if(!C){F.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(R),D=Ym(C,I.path),U=!1;b.has(R)?U=!1:p.includes(R)?U=!0:M&&M.state!=="idle"&&M.data===void 0?U=h:U=Z_(D,Vt({currentUrl:te,currentParams:e.matches[e.matches.length-1].params,nextUrl:W,nextParams:n[n.length-1].params},s,{actionResult:V,defaultShouldRevalidate:h})),U&&F.push({key:R,routeId:I.routeId,path:I.path,matches:C,match:D,controller:new AbortController})}),[de,F]}function Rw(i,e,n){let s=!e||n.route.id!==e.route.id,o=i[n.route.id]===void 0;return s||o}function nT(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Z_(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function J_(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=n[i.id];Qe(o,"No route found in manifest");let u={};for(let h in s){let p=o[h]!==void 0&&h!=="hasErrorBoundary";Fo(!p,'Route "'+o.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!p&&!X1.has(h)&&(u[h]=s[h])}Object.assign(o,u),Object.assign(o,Vt({},e(o),{lazy:void 0}))}async function su(i,e,n,s,o,u,h,m,p){p===void 0&&(p={});let g,v,b,w=K=>{let V,te=new Promise((W,ne)=>V=ne);return b=()=>V(),e.signal.addEventListener("abort",b),Promise.race([K({request:e,params:n.params,context:p.requestContext}),te])};try{let K=n.route[i];if(n.route.lazy)if(K){let V,te=await Promise.all([w(K).catch(W=>{V=W}),J_(n.route,u,o)]);if(V)throw V;v=te[0]}else if(await J_(n.route,u,o),K=n.route[i],K)v=await w(K);else if(i==="action"){let V=new URL(e.url),te=V.pathname+V.search;throw gi(405,{method:e.method,pathname:te,routeId:n.route.id})}else return{type:Pt.data,data:void 0};else if(K)v=await w(K);else{let V=new URL(e.url),te=V.pathname+V.search;throw gi(404,{pathname:te})}Qe(v!==void 0,"You defined "+(i==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+i+"` ")+"function. Please return a value or `null`.")}catch(K){g=Pt.error,v=K}finally{b&&e.signal.removeEventListener("abort",b)}if(xw(v)){let K=v.status;if(_w.has(K)){let te=v.headers.get("Location");if(Qe(te,"Redirects returned/thrown from loaders/actions must have a Location header"),!eT.test(te))te=Gm(new URL(e.url),s.slice(0,s.indexOf(n)+1),h,!0,te,m);else if(!p.isStaticRequest){let W=new URL(e.url),ne=te.startsWith("//")?new URL(W.protocol+te):new URL(te),me=Xo(ne.pathname,h)!=null;ne.origin===W.origin&&me&&(te=ne.pathname+ne.search+ne.hash)}if(p.isStaticRequest)throw v.headers.set("Location",te),v;return{type:Pt.redirect,status:K,location:te,revalidate:v.headers.get("X-Remix-Revalidate")!==null,reloadDocument:v.headers.get("X-Remix-Reload-Document")!==null}}if(p.isRouteRequest)throw{type:g===Pt.error?Pt.error:Pt.data,response:v};let V;try{let te=v.headers.get("Content-Type");te&&/\bapplication\/json\b/.test(te)?v.body==null?V=null:V=await v.json():V=await v.text()}catch(te){return{type:Pt.error,error:te}}return g===Pt.error?{type:g,error:new wp(K,v.statusText,V),headers:v.headers}:{type:Pt.data,data:V,statusCode:v.status,headers:v.headers}}if(g===Pt.error)return{type:g,error:v};if(Nw(v)){var k,B;return{type:Pt.deferred,deferredData:v,statusCode:(k=v.init)==null?void 0:k.status,headers:((B=v.init)==null?void 0:B.headers)&&new Headers(v.init.headers)}}return{type:Pt.data,data:v}}function au(i,e,n,s){let o=i.createURL(iT(e)).toString(),u={signal:n};if(s&&Ri(s.formMethod)){let{formMethod:h,formEncType:m}=s;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=Km(s.formData):u.body=s.formData}return new Request(o,u)}function Km(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function eE(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function Iw(i,e,n,s,o){let u={},h=null,m,p=!1,g={};return n.forEach((v,b)=>{let w=e[b].route.id;if(Qe(!Ta(v),"Cannot handle redirect results in processLoaderData"),Po(v)){let k=yu(i,w),B=v.error;s&&(B=Object.values(s)[0],s=void 0),h=h||{},h[k.route.id]==null&&(h[k.route.id]=B),u[w]=void 0,p||(p=!0,m=Z0(v.error)?v.error.status:500),v.headers&&(g[w]=v.headers)}else Ea(v)?(o.set(w,v.deferredData),u[w]=v.deferredData.data):u[w]=v.data,v.statusCode!=null&&v.statusCode!==200&&!p&&(m=v.statusCode),v.headers&&(g[w]=v.headers)}),s&&(h=s,u[Object.keys(s)[0]]=void 0),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function tE(i,e,n,s,o,u,h,m){let{loaderData:p,errors:g}=Iw(e,n,s,o,m);for(let v=0;v<u.length;v++){let{key:b,match:w,controller:k}=u[v];Qe(h!==void 0&&h[v]!==void 0,"Did not find corresponding fetcher result");let B=h[v];if(!(k&&k.signal.aborted))if(Po(B)){let K=yu(i.matches,w?.route.id);g&&g[K.route.id]||(g=Vt({},g,{[K.route.id]:B.error})),i.fetchers.delete(b)}else if(Ta(B))Qe(!1,"Unhandled fetcher revalidation redirect");else if(Ea(B))Qe(!1,"Unhandled fetcher deferred data");else{let K=gs(B.data);i.fetchers.set(b,K)}}return{loaderData:p,errors:g}}function nE(i,e,n,s){let o=Vt({},e);for(let u of n){let h=u.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(o[h]=e[h]):i[h]!==void 0&&u.route.loader&&(o[h]=i[h]),s&&s.hasOwnProperty(h))break}return o}function yu(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function iE(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gi(i,e){let{pathname:n,routeId:s,method:o,type:u}=e===void 0?{}:e,h="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(h="Bad Request",o&&n&&s?m="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":u==="defer-action"?m="defer() is not supported in actions":u==="invalid-body"&&(m="Unable to encode submission body")):i===403?(h="Forbidden",m='Route "'+s+'" does not match URL "'+n+'"'):i===404?(h="Not Found",m='No route matches URL "'+n+'"'):i===405&&(h="Method Not Allowed",o&&n&&s?m="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":o&&(m='Invalid request method "'+o.toUpperCase()+'"')),new wp(i||500,h,new Error(m),!0)}function rE(i){for(let e=i.length-1;e>=0;e--){let n=i[e];if(Ta(n))return{result:n,idx:e}}}function iT(i){let e=typeof i=="string"?ks(i):i;return wa(Vt({},e,{hash:""}))}function Cw(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function Ea(i){return i.type===Pt.deferred}function Po(i){return i.type===Pt.error}function Ta(i){return(i&&i.type)===Pt.redirect}function Nw(i){let e=i;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function xw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Dw(i){return vw.has(i.toLowerCase())}function Ri(i){return gw.has(i.toLowerCase())}async function sE(i,e,n,s,o,u){for(let h=0;h<n.length;h++){let m=n[h],p=e[h];if(!p)continue;let g=i.find(b=>b.route.id===p.route.id),v=g!=null&&!nT(g,p)&&(u&&u[p.route.id])!==void 0;if(Ea(m)&&(o||v)){let b=s[h];Qe(b,"Expected an AbortSignal for revalidating fetcher deferred result"),await rT(m,b,o).then(w=>{w&&(n[h]=w||n[h])})}}}async function rT(i,e,n){if(n===void 0&&(n=!1),!await i.deferredData.resolveData(e)){if(n)try{return{type:Pt.data,data:i.deferredData.unwrappedData}}catch(o){return{type:Pt.error,error:o}}return{type:Pt.data,data:i.deferredData.data}}}function Rp(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Ym(i,e){let n=typeof e=="string"?ks(e).search:e.search;if(i[i.length-1].route.index&&Rp(n||""))return i[i.length-1];let s=W0(i);return s[s.length-1]}function aE(i){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:u,json:h}=i;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function Cm(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ow(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ou(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Mw(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function gs(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Pw(i,e){try{let n=i.sessionStorage.getItem(tT);if(n){let s=JSON.parse(n);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Vw(i,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{i.sessionStorage.setItem(tT,JSON.stringify(n))}catch(s){Fo(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Nh.apply(this,arguments)}const Wh=J.createContext(null),sT=J.createContext(null),Oa=J.createContext(null),Ip=J.createContext(null),Us=J.createContext({outlet:null,matches:[],isDataRoute:!1}),aT=J.createContext(null);function kw(i,e){let{relative:n}=e===void 0?{}:e;Uu()||Qe(!1);let{basename:s,navigator:o}=J.useContext(Oa),{hash:u,pathname:h,search:m}=uT(i,{relative:n}),p=h;return s!=="/"&&(p=h==="/"?s:kr([s,h])),o.createHref({pathname:p,search:m,hash:u})}function Uu(){return J.useContext(Ip)!=null}function Zh(){return Uu()||Qe(!1),J.useContext(Ip).location}function oT(i){J.useContext(Oa).static||J.useLayoutEffect(i)}function Lu(){let{isDataRoute:i}=J.useContext(Us);return i?Qw():Uw()}function Uw(){Uu()||Qe(!1);let i=J.useContext(Wh),{basename:e,future:n,navigator:s}=J.useContext(Oa),{matches:o}=J.useContext(Us),{pathname:u}=Zh(),h=JSON.stringify(bp(o,n.v7_relativeSplatPath)),m=J.useRef(!1);return oT(()=>{m.current=!0}),J.useCallback(function(g,v){if(v===void 0&&(v={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let b=Ap(g,JSON.parse(h),u,v.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:kr([e,b.pathname])),(v.replace?s.replace:s.push)(b,v.state,v)},[e,s,h,u,i])}function lT(){let{matches:i}=J.useContext(Us),e=i[i.length-1];return e?e.params:{}}function uT(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=J.useContext(Oa),{matches:o}=J.useContext(Us),{pathname:u}=Zh(),h=JSON.stringify(bp(o,s.v7_relativeSplatPath));return J.useMemo(()=>Ap(i,JSON.parse(h),u,n==="path"),[i,h,u,n])}function Lw(i,e,n,s){Uu()||Qe(!1);let{navigator:o}=J.useContext(Oa),{matches:u}=J.useContext(Us),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let g=Zh(),v;v=g;let b=v.pathname||"/",w=b;if(p!=="/"){let K=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=Mo(i,{pathname:w});return Hw(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:kr([p,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:kr([p,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s)}function jw(){let i=Yw(),e=Z0(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const Bw=J.createElement(jw,null);class zw extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(Us.Provider,{value:this.props.routeContext},J.createElement(aT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fw(i){let{routeContext:e,match:n,children:s}=i,o=J.useContext(Wh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(Us.Provider,{value:e},s)}function Hw(i,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if((u=n)!=null&&u.errors)i=n.matches;else return null}let h=i,m=(o=n)==null?void 0:o.errors;if(m!=null){let v=h.findIndex(b=>b.route.id&&m?.[b.route.id]);v>=0||Qe(!1),h=h.slice(0,Math.min(h.length,v+1))}let p=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let v=0;v<h.length;v++){let b=h[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=v),b.route.id){let{loaderData:w,errors:k}=n,B=b.route.loader&&w[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||B){p=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((v,b,w)=>{let k,B=!1,K=null,V=null;n&&(k=m&&b.route.id?m[b.route.id]:void 0,K=b.route.errorElement||Bw,p&&(g<0&&w===0?(Xw("route-fallback"),B=!0,V=null):g===w&&(B=!0,V=b.route.hydrateFallbackElement||null)));let te=e.concat(h.slice(0,w+1)),W=()=>{let ne;return k?ne=K:B?ne=V:b.route.Component?ne=J.createElement(b.route.Component,null):b.route.element?ne=b.route.element:ne=v,J.createElement(Fw,{match:b,routeContext:{outlet:v,matches:te,isDataRoute:n!=null},children:ne})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?J.createElement(zw,{location:n.location,revalidation:n.revalidation,component:K,error:k,children:W(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):W()},null)}var cT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(cT||{}),hT=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(hT||{});function qw(i){let e=J.useContext(Wh);return e||Qe(!1),e}function Gw(i){let e=J.useContext(sT);return e||Qe(!1),e}function Kw(i){let e=J.useContext(Us);return e||Qe(!1),e}function fT(i){let e=Kw(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function Yw(){var i;let e=J.useContext(aT),n=Gw(hT.UseRouteError),s=fT();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function Qw(){let{router:i}=qw(cT.UseNavigateStable),e=fT(),n=J.useRef(!1);return oT(()=>{n.current=!0}),J.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,Nh({fromRouteId:e},u)))},[i,e])}const oE={};function Xw(i,e,n){oE[i]||(oE[i]=!0)}function $w(i){let{basename:e="/",children:n=null,location:s,navigationType:o=Kt.Pop,navigator:u,static:h=!1,future:m}=i;Uu()&&Qe(!1);let p=e.replace(/^\/*/,"/"),g=J.useMemo(()=>({basename:p,navigator:u,static:h,future:Nh({v7_relativeSplatPath:!1},m)}),[p,m,u,h]);typeof s=="string"&&(s=ks(s));let{pathname:v="/",search:b="",hash:w="",state:k=null,key:B="default"}=s,K=J.useMemo(()=>{let V=Xo(v,p);return V==null?null:{location:{pathname:V,search:b,hash:w,state:k,key:B},navigationType:o}},[p,v,b,w,k,B,o]);return K==null?null:J.createElement(Oa.Provider,{value:g},J.createElement(Ip.Provider,{children:n,value:K}))}new Promise(()=>{});function Ww(i){let e={hasErrorBoundary:i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&Object.assign(e,{element:J.createElement(i.Component),Component:void 0}),i.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:J.createElement(i.HydrateFallback),HydrateFallback:void 0}),i.ErrorBoundary&&Object.assign(e,{errorElement:J.createElement(i.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Iu.apply(this,arguments)}function Zw(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}function Jw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eR(i,e){return i.button===0&&(!e||e==="_self")&&!Jw(i)}const tR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nR="6";try{window.__reactRouterVersion=nR}catch{}function iR(i,e){return bw({basename:void 0,future:Iu({},void 0,{v7_prependBasename:!0}),history:K1({window:void 0}),hydrationData:rR(),routes:i,mapRouteProperties:Ww,window:void 0}).initialize()}function rR(){var i;let e=(i=window)==null?void 0:i.__staticRouterHydrationData;return e&&e.errors&&(e=Iu({},e,{errors:sR(e.errors)})),e}function sR(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new wp(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(o.message);u.stack="",n[s]=u}}else n[s]=o;return n}const aR=J.createContext({isTransitioning:!1}),oR=J.createContext(new Map),lR="startTransition",lE=U1[lR],uR="flushSync",uE=G1[uR];function cR(i){lE?lE(i):i()}function lu(i){uE?uE(i):i()}let hR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function fR(i){let{fallbackElement:e,router:n,future:s}=i,[o,u]=J.useState(n.state),[h,m]=J.useState(),[p,g]=J.useState({isTransitioning:!1}),[v,b]=J.useState(),[w,k]=J.useState(),[B,K]=J.useState(),V=J.useRef(new Map),{v7_startTransition:te}=s||{},W=J.useCallback(I=>{te?cR(I):I()},[te]),ne=J.useCallback((I,R)=>{let{deletedFetchers:C,unstable_flushSync:M,unstable_viewTransitionOpts:D}=R;C.forEach(N=>V.current.delete(N)),I.fetchers.forEach((N,lt)=>{N.data!==void 0&&V.current.set(lt,N.data)});let U=n.window==null||typeof n.window.document.startViewTransition!="function";if(!D||U){M?lu(()=>u(I)):W(()=>u(I));return}if(M){lu(()=>{w&&(v&&v.resolve(),w.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let N=n.window.document.startViewTransition(()=>{lu(()=>u(I))});N.finished.finally(()=>{lu(()=>{b(void 0),k(void 0),m(void 0),g({isTransitioning:!1})})}),lu(()=>k(N));return}w?(v&&v.resolve(),w.skipTransition(),K({state:I,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(m(I),g({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,w,v,V,W]);J.useLayoutEffect(()=>n.subscribe(ne),[n,ne]),J.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new hR)},[p]),J.useEffect(()=>{if(v&&h&&n.window){let I=h,R=v.promise,C=n.window.document.startViewTransition(async()=>{W(()=>u(I)),await R});C.finished.finally(()=>{b(void 0),k(void 0),m(void 0),g({isTransitioning:!1})}),k(C)}},[W,h,v,n.window]),J.useEffect(()=>{v&&h&&o.location.key===h.location.key&&v.resolve()},[v,w,o.location,h]),J.useEffect(()=>{!p.isTransitioning&&B&&(m(B.state),g({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}),K(void 0))},[p.isTransitioning,B]),J.useEffect(()=>{},[]);let me=J.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,R,C)=>n.navigate(I,{state:R,preventScrollReset:C?.preventScrollReset}),replace:(I,R,C)=>n.navigate(I,{replace:!0,state:R,preventScrollReset:C?.preventScrollReset})}),[n]),de=n.basename||"/",F=J.useMemo(()=>({router:n,navigator:me,static:!1,basename:de}),[n,me,de]);return J.createElement(J.Fragment,null,J.createElement(Wh.Provider,{value:F},J.createElement(sT.Provider,{value:o},J.createElement(oR.Provider,{value:V.current},J.createElement(aR.Provider,{value:p},J.createElement($w,{basename:de,location:o.location,navigationType:o.historyAction,navigator:me,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?J.createElement(dR,{routes:n.routes,future:n.future,state:o}):e))))),null)}function dR(i){let{routes:e,future:n,state:s}=i;return Lw(e,void 0,s,n)}const mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=J.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,unstable_viewTransition:b}=e,w=Zw(e,tR),{basename:k}=J.useContext(Oa),B,K=!1;if(typeof g=="string"&&pR.test(g)&&(B=g,mR))try{let ne=new URL(window.location.href),me=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),de=Xo(me.pathname,k);me.origin===ne.origin&&de!=null?g=de+me.search+me.hash:K=!0}catch{}let V=kw(g,{relative:o}),te=gR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,unstable_viewTransition:b});function W(ne){s&&s(ne),ne.defaultPrevented||te(ne)}return J.createElement("a",Iu({},w,{href:B||V,onClick:K||u?s:W,ref:n,target:p}))});var cE;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(cE||(cE={}));var hE;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(hE||(hE={}));function gR(i,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,p=Lu(),g=Zh(),v=uT(i,{relative:h});return J.useCallback(b=>{if(eR(b,n)){b.preventDefault();let w=s!==void 0?s:wa(g)===wa(v);p(i,{replace:w,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m})}},[g,p,v,s,o,n,i,u,h,m])}const yR=()=>{};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),s.push(n[v],n[b],n[w],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):vR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new _R;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),b!==64){const B=g<<6&192|b;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(i){const e=dT(i);return mT.encodeByteArray(e,!0)},xh=function(i){return ER(i).replace(/\./g,"")},pT=function(i){try{return mT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>TR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof fE>"u")return;const i=fE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pT(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return yR()||SR()||bR()||AR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gT=i=>{var e,n;return(n=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},yT=i=>{const e=gT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},_T=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xh(JSON.stringify(n)),xh(JSON.stringify(h)),""].join(".")}const vu={};function RR(){const i={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?i.emulator.push(e):i.prod.push(e);return i}function IR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let dE=!1;function Np(i,e){if(typeof window>"u"||typeof document>"u"||!Ls(window.location.host)||vu[i]===e||vu[i]||dE)return;vu[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=RR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dE=!0,h()},w}function v(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=IR(s),k=n("text"),B=document.getElementById(k)||document.createElement("span"),K=n("learnmore"),V=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),W=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),v(V,K);const me=g();p(W,te),ne.append(W,B,V,me),document.body.appendChild(ne)}u?(B.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function NR(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const i=Cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PR(){return!NR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new lr(o,m,s)}}function LR(i,e){return i.replace(jR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function BR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ra(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(mE(u)&&mE(h)){if(!Ra(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function mE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function fu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function zR(i,e){const n=new FR(i,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(i){return i===_a?void 0:i}function KR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const QR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},XR=Ye.INFO,$R={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},WR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=$R[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const ZR=(i,e)=>e.some(n=>i instanceof n);let pE,gE;function JR(){return pE||(pE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return gE||(gE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Qm=new WeakMap,ST=new WeakMap,xm=new WeakMap,Dp=new WeakMap;function tI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(bs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,i)}).catch(()=>{}),Dp.set(e,i),e}function nI(i){if(Qm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Qm.set(i,e)}let Xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ST.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function iI(i){Xm=i(Xm)}function rI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Dm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),bs(s)}:eI().includes(i)?function(...e){return i.apply(Dm(this),e),bs(TT.get(this))}:function(...e){return bs(i.apply(Dm(this),e))}}function sI(i){return typeof i=="function"?rI(i):(i instanceof IDBTransaction&&nI(i),ZR(i,JR())?new Proxy(i,Xm):i)}function bs(i){if(i instanceof IDBRequest)return tI(i);if(xm.has(i))return xm.get(i);const e=sI(i);return e!==i&&(xm.set(i,e),Dp.set(e,i)),e}const Dm=i=>Dp.get(i);function aI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=bs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(bs(h.result),p.oldVersion,p.newVersion,bs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],Om=new Map;function yE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Om.set(e,u),u}iI(i=>({...i,get:(e,n,s)=>yE(e,n)||i.get(e,n,s),has:(e,n)=>!!yE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cI(i){const e=i.getComponent();return e?.type==="VERSION"}const $m="@firebase/app",vE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new xp("@firebase/app"),hI="@firebase/app-compat",fI="@firebase/analytics-compat",dI="@firebase/analytics",mI="@firebase/app-check-compat",pI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",vI="@firebase/database",_I="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",SI="@firebase/functions-compat",bI="@firebase/installations",AI="@firebase/installations-compat",wI="@firebase/messaging",RI="@firebase/messaging-compat",II="@firebase/performance",CI="@firebase/performance-compat",NI="@firebase/remote-config",xI="@firebase/remote-config-compat",DI="@firebase/storage",OI="@firebase/storage-compat",MI="@firebase/firestore",PI="@firebase/ai",VI="@firebase/firestore-compat",kI="firebase",UI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",LI={[$m]:"fire-core",[hI]:"fire-core-compat",[dI]:"fire-analytics",[fI]:"fire-analytics-compat",[pI]:"fire-app-check",[mI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[vI]:"fire-rtdb",[_I]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[SI]:"fire-fn-compat",[bI]:"fire-iid",[AI]:"fire-iid-compat",[wI]:"fire-fcm",[RI]:"fire-fcm-compat",[II]:"fire-perf",[CI]:"fire-perf-compat",[NI]:"fire-rc",[xI]:"fire-rc-compat",[DI]:"fire-gcs",[OI]:"fire-gcs-compat",[MI]:"fire-fst",[VI]:"fire-fst-compat",[PI]:"fire-vertex","fire-js":"fire-js",[kI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,jI=new Map,Zm=new Map;function _E(i,e){try{i.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ia(i){const e=i.name;if(Zm.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,i);for(const n of Dh.values())_E(n,i);for(const n of jI.values())_E(n,i);return!0}function ef(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function yi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new ju("app","Firebase",BI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=UI;function bT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw As.create("no-options");const u=Dh.get(o);if(u){if(Ra(n,u.options)&&Ra(s,u.config))return u;throw As.create("duplicate-app",{appName:o})}const h=new YR(o);for(const p of Zm.values())h.addComponent(p);const m=new zI(n,s,h);return Dh.set(o,m),m}function Op(i=Wm){const e=Dh.get(i);if(!e&&i===Wm&&vT())return bT();if(!e)throw As.create("no-app",{appName:i});return e}function Ji(i,e,n){var s;let o=(s=LI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(m.join(" "));return}Ia(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebase-heartbeat-database",HI=1,Cu="firebase-heartbeat-store";let Mm=null;function AT(){return Mm||(Mm=aI(FI,HI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function qI(i){try{const n=(await AT()).transaction(Cu),s=await n.objectStore(Cu).get(wT(i));return await n.done,s}catch(e){if(e instanceof lr)jr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}}async function EE(i,e){try{const s=(await AT()).transaction(Cu,"readwrite");await s.objectStore(Cu).put(e,wT(i)),await s.done}catch(n){if(n instanceof lr)jr.warn(n.message);else{const s=As.create("idb-set",{originalErrorMessage:n?.message});jr.warn(s.message)}}}function wT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,KI=30;class YI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=TE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>KI){const h=$I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TE(),{heartbeatsToSend:s,unsentEntries:o}=QI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return jr.warn(n),""}}}function TE(){return new Date().toISOString().substring(0,10)}function QI(i,e=GI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),SE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),SE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function SE(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function $I(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i){Ia(new Cs("platform-logger",e=>new uI(e),"PRIVATE")),Ia(new Cs("heartbeat",e=>new YI(e),"PRIVATE")),Ji($m,vE,i),Ji($m,vE,"esm2017"),Ji("fire-js","")}WI("");function Mp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=RT,IT=new ju("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new xp("@firebase/auth");function JI(i,...e){Oh.logLevel<=Ye.WARN&&Oh.warn(`Auth (${Ma}): ${i}`,...e)}function _h(i,...e){Oh.logLevel<=Ye.ERROR&&Oh.error(`Auth (${Ma}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(i,...e){throw Pp(i,...e)}function er(i,...e){return Pp(i,...e)}function CT(i,e,n){const s=Object.assign(Object.assign({},ZI()),{[e]:n});return new ju("auth","Firebase",s).create(e,{appName:i.name})}function ws(i){return CT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return IT.create(i,...e)}function De(i,e,...n){if(!i)throw Pp(e,...n)}function Pr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function Br(i,e){i||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function eC(){return bE()==="http:"||bE()==="https:"}function bE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eC()||DR()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=CR()||OR()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){Br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sC=new zu(3e4,6e4);function Pa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function js(i,e,n,s,o={}){return xT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Bu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return xR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ls(i.emulatorConfig.host)&&(g.credentials="include"),NT.fetch()(await DT(i,i.config.apiHost,n,m),g)})}async function xT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},iC),e);try{const o=new oC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CT(i,v,g);Ni(i,v)}}catch(o){if(o instanceof lr)throw o;Ni(i,"network-request-failed",{message:String(o)})}}async function tf(i,e,n,s,o={}){const u=await js(i,e,n,s,o);return"mfaPendingCredential"in u&&Ni(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function DT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Vp(i.config,o):`${i.config.apiScheme}://${o}`;return rC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function aC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),sC.get())})}}function hh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=er(i,e,s);return o.customData._tokenResponse=n,o}function AE(i){return i!==void 0&&i.enterprise!==void 0}class lC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uC(i,e){return js(i,"GET","/v2/recaptchaConfig",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(i,e){return js(i,"POST","/v1/accounts:delete",e)}async function Mh(i,e){return js(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hC(i,e=!1){const n=kt(i),s=await n.getIdToken(e),o=kp(s);De(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:_u(Pm(o.auth_time)),issuedAtTime:_u(Pm(o.iat)),expirationTime:_u(Pm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function kp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wE(i){const e=kp(i);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&fC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function fC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Nu(i,Mh(n,{idToken:s}));De(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?OT(u.providerUserInfo):[],m=pC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ep(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function mC(i){const e=kt(i);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OT(i){return i.map(e=>{var{providerId:n}=e,s=Mp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(i,e){const n=await xT(i,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await DT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ls(i.emulatorConfig.host)&&(p.credentials="include"),NT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yC(i,e){return js(i,"POST","/v2/accounts:revokeToken",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await gC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ko;return s&&(De(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(De(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(De(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(i,e){De(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ep(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hC(this,e)}reload(){return mC(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Nu(this,cC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,v;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(h=n.photoURL)!==null&&h!==void 0?h:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,te=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:me,isAnonymous:de,providerData:F,stsTokenManager:I}=n;De(ne&&I,e,"internal-error");const R=ko.fromJSON(this.name,I);De(typeof ne=="string",e,"internal-error"),ps(b,e.name),ps(w,e.name),De(typeof me=="boolean",e,"internal-error"),De(typeof de=="boolean",e,"internal-error"),ps(k,e.name),ps(B,e.name),ps(K,e.name),ps(V,e.name),ps(te,e.name),ps(W,e.name);const C=new Ii({uid:ne,auth:e,email:w,emailVerified:me,displayName:b,isAnonymous:de,photoURL:B,phoneNumber:k,tenantId:K,stsTokenManager:R,createdAt:te,lastLoginAt:W});return F&&Array.isArray(F)&&(C.providerData=F.map(M=>Object.assign({},M))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new ko;o.updateFromServerResponse(n);const u=new Ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];De(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ko;m.updateFromIdToken(s);const p=new Ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function Vr(i){Br(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(Br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MT.type="NONE";const IE=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(i,e,n){return`firebase:${i}:${e}:${n}`}class Uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Uo(Vr(IE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Vr(IE);const h=Eh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const w=await Mh(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Ii._fromGetAccountInfoResponse(e,w,v)}else b=Ii._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Uo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(BT(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function PT(i=Cn()){return/firefox\//i.test(i)}function VT(i=Cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(i=Cn()){return/crios\//i.test(i)}function UT(i=Cn()){return/iemobile/i.test(i)}function LT(i=Cn()){return/android/i.test(i)}function jT(i=Cn()){return/blackberry/i.test(i)}function BT(i=Cn()){return/webos/i.test(i)}function Up(i=Cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vC(i=Cn()){var e;return Up(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _C(){return MR()&&document.documentMode===10}function zT(i=Cn()){return Up(i)||LT(i)||BT(i)||jT(i)||/windows phone/i.test(i)||UT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i,e=[]){let n;switch(i){case"Browser":n=CE(Cn());break;case"Worker":n=`${CE(Cn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(i,e={}){return js(i,"GET","/v2/passwordPolicy",Pa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=6;class bC{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:SC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new EC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(ws(this));const n=e?kt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TC(this),n=new bC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&JI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function $o(i){return kt(i)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wC(i){nf=i}function HT(i){return nf.loadJS(i)}function RC(){return nf.recaptchaEnterpriseScript}function IC(){return nf.gapiScript}function CC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class NC{constructor(){this.enterprise=new xC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DC="recaptcha-enterprise",qT="NO_RECAPTCHA";class OC{constructor(e){this.type=DC,this.auth=$o(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{uC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new lC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(qT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&AE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=RC();p.length!==0&&(p+=m),HT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function xE(i,e,n,s=!1,o=!1){const u=new OC(i);let h;if(o)h=qT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function DE(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await xE(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await xE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i,e){const n=ef(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ra(u,e??{}))return o;Ni(o,"already-initialized")}return n.initialize({options:e})}function PC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function VC(i,e,n){const s=$o(i);De(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=GT(e),{host:h,port:m}=kC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){De(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),De(Ra(g,s.config.emulator)&&Ra(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ls(h)?(Cp(`${u}//${h}${p}`),Np("Auth",!0)):UC()}function GT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function kC(i){const e=GT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:OE(h)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function UC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function LC(i,e){return js(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(i,e){return tf(i,"POST","/v1/accounts:signInWithPassword",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(i,e){return tf(i,"POST","/v1/accounts:signInWithEmailLink",Pa(i,e))}async function zC(i,e){return tf(i,"POST","/v1/accounts:signInWithEmailLink",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new xu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new xu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DE(e,n,"signInWithPassword",jC);case"emailLink":return BC(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DE(e,s,"signUpPassword",LC);case"emailLink":return zC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(i,e){return tf(i,"POST","/v1/accounts:signInWithIdp",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class Ca extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qC(i){const e=hu(fu(i)).link,n=e?hu(fu(e)).deep_link_id:null,s=hu(fu(i)).deep_link_id;return(s?hu(fu(s)).link:null)||s||n||e||i}class jp{constructor(e){var n,s,o,u,h,m;const p=hu(fu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=HC((o=p.mode)!==null&&o!==void 0?o:null);De(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=qC(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return De(s,"argument-error"),xu._fromEmailAndCode(e,s.code,s.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Fu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Fu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Fu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ii._fromIdTokenResponse(e,s,o),h=ME(s);return new Ho({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ME(s);return new Ho({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ME(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function YT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,u,e,s):u})}async function GC(i,e,n=!1){const s=await Nu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ho._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(i,e,n=!1){const{auth:s}=i;if(yi(s.app))return Promise.reject(ws(s));const o="reauthenticate";try{const u=await Nu(i,YT(s,o,e,i),n);De(u.idToken,s,"internal-error");const h=kp(u.idToken);De(h,s,"internal-error");const{sub:m}=h;return De(i.uid===m,s,"user-mismatch"),Ho._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ni(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(i,e,n=!1){if(yi(i.app))return Promise.reject(ws(i));const s="signIn",o=await YT(i,s,e),u=await Ho._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function YC(i,e){return QT($o(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(i){const e=$o(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function XC(i,e,n){return yi(i.app)?Promise.reject(ws(i)):YC(kt(i),Wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QC(i),s})}function $C(i,e,n,s){return kt(i).onIdTokenChanged(e,n,s)}function WC(i,e,n){return kt(i).beforeAuthStateChanged(e,n)}function XT(i,e,n,s){return kt(i).onAuthStateChanged(e,n,s)}function ZC(i){return kt(i).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1e3,e2=10;class WT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);_C()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,e2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const t2=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const JT=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await n2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function r2(i){tr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function s2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function o2(){return eS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebaseLocalStorageDb",l2=1,Uh="firebaseLocalStorage",nS="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function u2(){const i=indexedDB.deleteDatabase(tS);return new Hu(i).toPromise()}function tp(){const i=indexedDB.open(tS,l2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:nS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await u2(),e(await tp()))})})}async function PE(i,e,n){const s=sf(i,!0).put({[nS]:e,value:n});return new Hu(s).toPromise()}async function c2(i,e){const n=sf(i,!1).get(e),s=await new Hu(n).toPromise();return s===void 0?null:s.value}function VE(i,e){const n=sf(i,!0).delete(e);return new Hu(n).toPromise()}const h2=800,f2=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>f2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(o2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new i2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await PE(e,kh,"1"),await VE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>PE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>c2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const d2=iS;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i,e){return e?Vr(e):(De(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(i){return QT(i.auth,new zp(i),i.bypassAuthState)}function g2(i){const{auth:e,user:n}=i;return De(n,e,"internal-error"),KC(n,new zp(i),i.bypassAuthState)}async function y2(i){const{auth:e,user:n}=i;return De(n,e,"internal-error"),GC(n,new zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:Ni(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new zu(2e3,1e4);class Vo extends rS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v2.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="pendingRedirect",Th=new Map;class E2 extends rS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await T2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T2(i,e){const n=A2(e),s=b2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function S2(i,e){Th.set(i._key(),e)}function b2(i){return Vr(i._redirectPersistence)}function A2(i){return Eh(_2,i.config.apiKey,i.name)}async function w2(i,e,n=!1){if(yi(i.app))return Promise.reject(ws(i));const s=$o(i),o=m2(s,e),h=await new E2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=10*60*1e3;class I2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(er(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function C2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,e={}){return js(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function O2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await N2(i);for(const n of e)try{if(M2(n))return}catch{}Ni(i,"unauthorized-domain")}function M2(i){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!D2.test(n))return!1;if(x2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new zu(3e4,6e4);function UE(){const i=tr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function V2(i){return new Promise((e,n)=>{var s,o,u;function h(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(er(i,"network-request-failed"))},timeout:P2.get()})}if(!((o=(s=tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)h();else{const m=CC("iframefcb");return tr()[m]=()=>{gapi.load?h():n(er(i,"network-request-failed"))},HT(`${IC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function k2(i){return Sh=Sh||V2(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new zu(5e3,15e3),L2="__/auth/iframe",j2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(i){const e=i.config;De(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Vp(e,j2):`https://${i.config.authDomain}/${L2}`,s={apiKey:e.apiKey,appName:i.name,v:Ma},o=z2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bu(s).slice(1)}`}async function H2(i){const e=await k2(i),n=tr().gapi;return De(n,i,"internal-error"),e.open({where:document.body,url:F2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=er(i,"network-request-failed"),m=tr().setTimeout(()=>{u(h)},U2.get());function p(){tr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,K2=600,Y2="_blank",Q2="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X2(i,e,n,s=G2,o=K2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},q2),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Cn().toLowerCase();n&&(m=kT(g)?Y2:n),PT(g)&&(e=e||Q2,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[k,B])=>`${w}${k}=${B},`,"");if(vC(g)&&m!=="_self")return $2(e||"",m),new LE(null);const b=window.open(e||"",m,v);De(b,i,"popup-blocked");try{b.focus()}catch{}return new LE(b)}function $2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function jE(i,e,n,s,o,u){De(i.config.authDomain,i,"auth-domain-config-required"),De(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ma,eventId:o};if(e instanceof KT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",BR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Fu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${J2}=${encodeURIComponent(p)}`:"";return`${eN(i)}?${Bu(m).slice(1)}${g}`}function eN({config:i}){return i.emulator?Vp(i,Z2):`https://${i.authDomain}/${W2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=w2,this._overrideRedirectResult=S2}async _openPopup(e,n,s,o){var u;Br((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jE(e,n,s,Jm(),o);return X2(e,h,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jE(e,n,s,Jm(),o);return r2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await H2(e),s=new I2(e);return n.register("authEvent",o=>(De(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Vm];h!==void 0&&n(!!h),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zT()||VT()||Up()}}const nN=tN;var BE="@firebase/auth",zE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(i){Ia(new Cs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;De(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(i)},g=new AC(s,o,u,p);return PC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ia(new Cs("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(s=>new iN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(BE,zE,rN(i)),Ji(BE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=5*60,oN=_T("authIdTokenMaxAge")||aN;let FE=null;const lN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oN)return;const o=n?.token;FE!==o&&(FE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uN(i=Op()){const e=ef(i,"auth");if(e.isInitialized())return e.getImmediate();const n=MC(i,{popupRedirectResolver:nN,persistence:[d2,t2,JT]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lN(u.toString());WC(n,h,()=>h(n.currentUser)),$C(n,m=>h(m))}}const o=gT("auth");return o&&VC(n,`http://${o}`),n}function cN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}wC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=er("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");var hN="firebase",fN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(hN,fN,"app");var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,aS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.D=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,D,U){for(var N=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)N[lt-2]=arguments[lt];return R.prototype[D].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var D=0;16>D;++D)M[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;16>D;++D)M[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],D=I.g[2];var U=I.g[3],N=R+(U^C&(D^U))+M[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=U+(D^R&(C^D))+M[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=D+(C^U&(R^C))+M[2]+606105819&4294967295,D=U+(N<<17&4294967295|N>>>15),N=C+(R^D&(U^R))+M[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(U^C&(D^U))+M[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(D^R&(C^D))+M[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=D+(C^U&(R^C))+M[6]+2821735955&4294967295,D=U+(N<<17&4294967295|N>>>15),N=C+(R^D&(U^R))+M[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(U^C&(D^U))+M[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(D^R&(C^D))+M[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=D+(C^U&(R^C))+M[10]+4294925233&4294967295,D=U+(N<<17&4294967295|N>>>15),N=C+(R^D&(U^R))+M[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(U^C&(D^U))+M[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(D^R&(C^D))+M[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=D+(C^U&(R^C))+M[14]+2792965006&4294967295,D=U+(N<<17&4294967295|N>>>15),N=C+(R^D&(U^R))+M[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(D^U&(C^D))+M[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^D&(R^C))+M[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(U^R))+M[11]+643717713&4294967295,D=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(D^U))+M[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^U&(C^D))+M[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^D&(R^C))+M[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(U^R))+M[15]+3634488961&4294967295,D=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(D^U))+M[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^U&(C^D))+M[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^D&(R^C))+M[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(U^R))+M[3]+4107603335&4294967295,D=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(D^U))+M[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^U&(C^D))+M[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^D&(R^C))+M[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(U^R))+M[7]+1735328473&4294967295,D=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(D^U))+M[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(C^D^U)+M[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^D)+M[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=D+(U^R^C)+M[11]+1839030562&4294967295,D=U+(N<<16&4294967295|N>>>16),N=C+(D^U^R)+M[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^U)+M[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^D)+M[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=D+(U^R^C)+M[7]+4139469664&4294967295,D=U+(N<<16&4294967295|N>>>16),N=C+(D^U^R)+M[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^U)+M[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^D)+M[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=D+(U^R^C)+M[3]+3572445317&4294967295,D=U+(N<<16&4294967295|N>>>16),N=C+(D^U^R)+M[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^U)+M[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^D)+M[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=D+(U^R^C)+M[15]+530742520&4294967295,D=U+(N<<16&4294967295|N>>>16),N=C+(D^U^R)+M[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(D^(C|~U))+M[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~D))+M[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=D+(R^(U|~C))+M[14]+2878612391&4294967295,D=U+(N<<15&4294967295|N>>>17),N=C+(U^(D|~R))+M[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~U))+M[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~D))+M[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=D+(R^(U|~C))+M[10]+4293915773&4294967295,D=U+(N<<15&4294967295|N>>>17),N=C+(U^(D|~R))+M[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~U))+M[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~D))+M[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=D+(R^(U|~C))+M[6]+2734768916&4294967295,D=U+(N<<15&4294967295|N>>>17),N=C+(U^(D|~R))+M[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~U))+M[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~D))+M[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=D+(R^(U|~C))+M[2]+718787259&4294967295,D=U+(N<<15&4294967295|N>>>17),N=C+(U^(D|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var C=R-this.blockSize,M=this.B,D=this.h,U=0;U<R;){if(D==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(M[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<R;)if(M[D++]=I[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var C=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.u(I),I=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)I[C++]=this.g[R]>>>M&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;for(var C=[],M=!0,D=I.length-1;0<=D;D--){var U=I[D]|0;M&&U==R||(C[D]=U,M=!1)}this.g=C}var m={};function p(I){return-128<=I&&128>I?u(I,function(R){return new h([R|0],0>R?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return V(g(-I));for(var R=[],C=1,M=0;I>=C;M++)R[M]=I/C|0,C*=4294967296;return new h(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return V(v(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=b,D=0;D<I.length;D+=8){var U=Math.min(8,I.length-D),N=parseInt(I.substring(D,D+U),R);8>U?(U=g(Math.pow(R,U)),M=M.j(U).add(g(N))):(M=M.j(C),M=M.add(g(N)))}return M}var b=p(0),w=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-V(this).m();for(var I=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(B(this))return"0";if(K(this))return"-"+V(this).toString(I);for(var R=g(Math.pow(I,6)),C=this,M="";;){var D=me(C,R).g;C=te(C,D.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=D,B(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function B(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function K(I){return I.h==-1}i.l=function(I){return I=te(this,I),K(I)?-1:B(I)?0:1};function V(I){for(var R=I.g.length,C=[],M=0;M<R;M++)C[M]=~I.g[M];return new h(C,~I.h).add(w)}i.abs=function(){return K(this)?V(this):this},i.add=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0,D=0;D<=R;D++){var U=M+(this.i(D)&65535)+(I.i(D)&65535),N=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=N>>>16,U&=65535,N&=65535,C[D]=N<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(I,R){return I.add(V(R))}i.j=function(I){if(B(this)||B(I))return b;if(K(this))return K(I)?V(this).j(V(I)):V(V(this).j(I));if(K(I))return V(this.j(V(I)));if(0>this.l(k)&&0>I.l(k))return g(this.m()*I.m());for(var R=this.g.length+I.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<I.g.length;D++){var U=this.i(M)>>>16,N=this.i(M)&65535,lt=I.i(D)>>>16,Ie=I.i(D)&65535;C[2*M+2*D]+=N*Ie,W(C,2*M+2*D),C[2*M+2*D+1]+=U*Ie,W(C,2*M+2*D+1),C[2*M+2*D+1]+=N*lt,W(C,2*M+2*D+1),C[2*M+2*D+2]+=U*lt,W(C,2*M+2*D+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new h(C,0)};function W(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ne(I,R){this.g=I,this.h=R}function me(I,R){if(B(R))throw Error("division by zero");if(B(I))return new ne(b,b);if(K(I))return R=me(V(I),R),new ne(V(R.g),V(R.h));if(K(R))return R=me(I,V(R)),new ne(V(R.g),R.h);if(30<I.g.length){if(K(I)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=R;0>=M.l(I);)C=de(C),M=de(M);var D=F(C,1),U=F(M,1);for(M=F(M,2),C=F(C,2);!B(M);){var N=U.add(M);0>=N.l(I)&&(D=D.add(C),U=N),M=F(M,1),C=F(C,1)}return R=te(I,D.j(R)),new ne(D,R)}for(D=b;0<=I.l(R);){for(C=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(C),N=U.j(R);K(N)||0<N.l(I);)C-=M,U=g(C),N=U.j(R);B(U)&&(U=w),D=D.add(U),I=te(I,N)}return new ne(D,I)}i.A=function(I){return me(this,I).h},i.and=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},i.or=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},i.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function de(I){for(var R=I.g.length+1,C=[],M=0;M<R;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function F(I,R){var C=R>>5;R%=32;for(var M=I.g.length-C,D=[],U=0;U<M;U++)D[U]=0<R?I.i(U+C)>>>R|I.i(U+C+1)<<32-R:I.i(U+C);return new h(D,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Rs=h}).apply(typeof HE<"u"?HE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oS,du,lS,bh,np,uS,cS,hS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function B(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,$){for(var he=Array(arguments.length-2),We=2;We<arguments.length;We++)he[We-2]=arguments[We];return y.prototype[z].apply(A,he)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,$=A.length||0;c.length=z+$;for(let he=0;he<$;he++)c[z+he]=A[he]}else c.push(A)}}class te{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var de=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function F(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function D(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class lt{constructor(){this.h=this.g=null}add(y,_){const A=Ie.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ie=new te(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,_e=!1,je=new lt,O=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(se)}};var se=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){U(_)}var y=Ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}_e=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ve(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{me(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}B(Ve,ue);var we={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),ht=0;function ii(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++ht,this.da=this.fa=!1}function xi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rt(c){this.src=c,this.g={},this.h=0}Rt.prototype.add=function(c,y,_,A,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var he=Di(c,y,A,z);return-1<he?(y=c[he],_||(y.fa=!1)):(y=new ii(y,this.src,$,!!A,z),y.fa=_,c.push(y)),y};function Hn(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(A,z,1),$&&(xi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Di(c,y,_,A){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return z}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),qn={};function Ua(c,y,_,A,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ua(c,y[$],_,A,z);return null}return _=Mi(_),c&&c[xt]?c.K(y,_,g(A)?!!A.capture:!1,z):Vn(c,y,_,!1,A,z)}function Vn(c,y,_,A,z,$){if(!y)throw Error("Invalid event type");var he=g(z)?!!z.capture:!!z,We=Oi(c);if(We||(c[ur]=We=new Rt(c)),_=We.add(y,_,A,he,$),_.proxy)return _;if(A=il(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)Te||(z=he),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Gn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function il(){function c(_){return y.call(c.src,c.listener,_)}const y=La;return c}function Fs(c,y,_,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Fs(c,y[$],_,A,z);else A=g(A)?!!A.capture:!!A,_=Mi(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Di($,_,A,z),-1<_&&(xi($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Oi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Di(y,_,A,z)),(_=-1<c?y[c]:null)&&qr(_))}function qr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])Hn(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Gn(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Oi(y))?(Hn(_,c),_.h==0&&(_.src=null,y[ur]=null)):xi(c)}}}function Gn(c){return c in qn?qn[c]:qn[c]="on"+c}function La(c,y){if(c.da)c=!0;else{y=new Ve(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&qr(c),c=_.call(A,y)}return c}function Oi(c){return c=c[ur],c instanceof Rt?c:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mi(c){return typeof c=="function"?c:(c[kn]||(c[kn]=function(y){return c.handleEvent(y)}),c[kn])}function Et(){fe.call(this),this.i=new Rt(this),this.M=this,this.F=null}B(Et,fe),Et.prototype[xt]=!0,Et.prototype.removeEventListener=function(c,y,_,A){Fs(this,c,y,_,A)};function $e(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var z=y;y=new ue(A,c),M(y,z)}if(z=!0,_)for(var $=_.length-1;0<=$;$--){var he=y.g=_[$];z=Nn(he,A,!0,y)&&z}if(he=y.g=c,z=Nn(he,A,!0,y)&&z,z=Nn(he,A,!1,y)&&z,_)for($=0;$<_.length;$++)he=y.g=_[$],z=Nn(he,A,!1,y)&&z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)xi(_[A]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Et.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Nn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var he=y[$];if(he&&!he.da&&he.capture==_){var We=he.listener,$t=he.ha||he.src;he.fa&&Hn(c.i,he),z=We.call($t,A)!==!1&&z}}return z&&!A.defaultPrevented}function Tt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Hs(c){c.g=Tt(()=>{c.g=null,c.i&&(c.i=!1,Hs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ja extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(c){fe.call(this),this.h=c,this.g={}}B(Pi,fe);var cr=[];function Vi(c){F(c.g,function(y,_){this.g.hasOwnProperty(_)&&qr(y)},c),c.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Vi(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=m.JSON.stringify,hr=m.JSON.parse,_i=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qs(){}qs.prototype.h=null;function Gr(c){return c.h||(c.h=c.i())}function Gs(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){ue.call(this,"d")}B(Ei,ue);function j(){ue.call(this,"c")}B(j,ue);var G={},ee=null;function ce(){return ee=ee||new Et}G.La="serverreachability";function ve(c){ue.call(this,G.La,c)}B(ve,ue);function Pe(c){const y=ce();$e(y,new ve(y))}G.STAT_EVENT="statevent";function Ce(c,y){ue.call(this,G.STAT_EVENT,c),this.stat=y}B(Ce,ue);function pe(c){const y=ce();$e(y,new Ce(y,c))}G.Ma="timingevent";function ge(c,y){ue.call(this,G.Ma,c),this.size=y}B(ge,ue);function Ae(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function it(){this.g=!0}it.prototype.xa=function(){this.g=!1};function ke(c,y,_,A,z,$){c.info(function(){if(c.g)if($)for(var he="",We=$.split("&"),$t=0;$t<We.length;$t++){var Ze=We[$t].split("=");if(1<Ze.length){var ln=Ze[0];Ze=Ze[1];var Wt=ln.split("_");he=2<=Wt.length&&Wt[1]=="type"?he+(ln+"="+Ze+"&"):he+(ln+"=redacted&")}}else he=null;else he=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+he})}function st(c,y,_,A,z,$,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+he})}function yt(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vt(c,_)+(A?" "+A:"")})}function sn(c,y){c.info(function(){return"TIMEOUT: "+y})}it.prototype.info=function(){};function vt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Sn(_)}catch{return y}}var xn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dn;function Xt(){}B(Xt,qs),Xt.prototype.g=function(){return new XMLHttpRequest},Xt.prototype.i=function(){return{}},dn=new Xt;function It(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Ti={},ki={};function an(c,y,_){c.L=1,c.v=Xs(Yn(y)),c.m=_,c.P=!0,Un(c,null)}function Un(c,y){c.F=Date.now(),Dt(c),c.A=Yn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ul(_.i,"t",A),c.C=0,_=c.j.J,c.h=new St,c.g=oc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ja(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(cr[0]=z.toString()),z=cr);for(var $=0;$<z.length;$++){var he=Ua(_,z[$],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pe(),ke(c.i,c.u,c.A,c.l,c.R,c.m)}It.prototype.ca=function(c){c=c.target;const y=this.M;y&&li(c)==3?y.j():this.Y(c)},It.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=li(this.g);var y=this.g.Ba();const Er=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Wt!=4||y==7||(y==8||0>=Er?Pe(3):Pe(2)),Ui(this);var _=this.g.Z();this.X=_;t:if(Ke(this)){var A=Ju(this.g);c="";var z=A.length,$=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Li(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,st(this.i,this.u,this.A,this.l,this.R,Wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var We,$t=this.g;if((We=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(We)){var Ze=We;break t}}Ze=null}if(_=Ze)yt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,_);else{this.o=!1,this.s=3,pe(12),mn(this),Li(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<he.length;)if(pn=tt(this,he),pn==ki){Wt==4&&(this.s=4,pe(14),_=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Ti){this.s=4,pe(15),yt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else yt(this.i,this.l,pn,null),Ks(this,pn);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||he.length!=0||this.h.h||(this.s=1,pe(16),_=!1),this.o=this.o&&_,!_)yt(this.i,this.l,he,"[Invalid Chunked Response]"),mn(this),Li(this);else if(0<he.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ia(ln),ln.M=!0,pe(11))}}else yt(this.i,this.l,he,null),Ks(this,he);Wt==4&&mn(this),this.o&&!this.J&&(Wt==4?rc(this.j,this):(this.o=!1,Dt(this)))}else Cf(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),mn(this),Li(this)}}}catch{}finally{}};function Ke(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tt(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ki:(_=Number(y.substring(_,A)),isNaN(_)?Ti:(A+=1,A+_>y.length?ki:(y=y.slice(A,A+_),c.C=A+_,y)))}It.prototype.cancel=function(){this.J=!0,mn(this)};function Dt(c){c.S=Date.now()+c.I,fr(c,c.I)}function fr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ae(w(c.ba,c),y)}function Ui(c){c.B&&(m.clearTimeout(c.B),c.B=null)}It.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(sn(this.i,this.A),this.L!=2&&(Pe(),pe(17)),mn(this),this.s=2,Li(this)):fr(this,this.S-c)};function Li(c){c.j.G==0||c.J||rc(c.j,c)}function mn(c){Ui(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Vi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ks(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||rl(_.h,c))){if(!c.K&&rl(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Wa(_),Xa(_);else break e;ml(_),pe(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(w(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((c.K||_.g==c)&&Wa(_),!W(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Ze=z[y];if(_.T=Ze[0],Ze=Ze[1],_.G==2)if(Ze[0]=="c"){_.K=Ze[1],_.ia=Ze[2];const ln=Ze[3];ln!=null&&(_.la=ln,_.j.info("VER="+_.la));const Wt=Ze[4];Wt!=null&&(_.Aa=Wt,_.j.info("SVER="+_.Aa));const Er=Ze[5];Er!=null&&typeof Er=="number"&&0<Er&&(A=1.5*Er,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const pn=c.g;if(pn){const Gi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var $=A.h;$.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Fa($,$.h),$.h=null))}if(A.D){const gl=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(A.ya=gl,ft(A.I,A.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var he=c;if(A.qa=ac(A,A.J?A.ia:null,A.W),he.K){Dn(A.h,he);var We=he,$t=A.L;$t&&(We.I=$t),We.B&&(Ui(We),Dt(We)),A.g=he}else nc(A);0<_.i.length&&$a(_)}else Ze[0]!="stop"&&Ze[0]!="close"||_r(_,7);else _.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?_r(_,7):fl(_):Ze[0]!="noop"&&_.l&&_.l.ta(Ze),_.v=0)}}Pe(4)}catch{}}var Xu=class{constructor(c,y){this.g=c,this.map=y}};function dr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ba(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function za(c){return c.h?1:c.g?c.g.size:0}function rl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fa(c,y){c.g?c.g.add(y):c.h=y}function Dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}dr.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function al(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ha(c),A=Af(c),z=A.length,$=0;$<z;$++)y.call(void 0,A[$],_&&_[$],c)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var $=c[_].substring(0,A);z=c[_].substring(A+1)}else $=c[_];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ft(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ft){this.h=c.h,Qs(this,c.j),this.o=c.o,this.g=c.g,Kr(this,c.s),this.l=c.l;var y=c.i,_=new pr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),mr(this,_),this.m=c.m}else c&&(y=String(c).match(Ys))?(this.h=!1,Qs(this,y[1]||"",!0),this.o=si(y[2]||""),this.g=si(y[3]||"",!0),Kr(this,y[4]),this.l=si(y[5]||"",!0),mr(this,y[6]||"",!0),this.m=si(y[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Ft.prototype.toString=function(){var c=[],y=this.j;y&&c.push($s(y,ol,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push($s(y,ol,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push($s(_,_.charAt(0)=="/"?Rf:ll,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",$s(_,qa)),c.join("")};function Yn(c){return new Ft(c)}function Qs(c,y,_){c.j=_?si(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Kr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function mr(c,y,_){y instanceof pr?(c.i=y,Wu(c.i,c.h)):(_||(y=$s(y,If)),c.i=new pr(y,c.h))}function ft(c,y,_){c.i.set(y,_)}function Xs(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function si(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $s(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,$u),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $u(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,Rf=/[#\?]/g,If=/[#\?@]/g,qa=/#/g;function pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ai(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=pr.prototype,i.add=function(c,y){ai(this),this.i=null,c=ji(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function gr(c,y){ai(c),y=ji(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yr(c,y){return ai(c),y=ji(c,y),c.g.has(y)}i.forEach=function(c,y){ai(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},i.na=function(){ai(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let $=0;$<z.length;$++)_.push(y[A])}return _},i.V=function(c){ai(this);let y=[];if(typeof c=="string")yr(this,c)&&(y=y.concat(this.g.get(ji(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return ai(this),this.i=null,c=ji(this,c),yr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ul(c,y,_){gr(c,y),0<_.length&&(c.i=null,c.g.set(ji(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var z=$;he[A]!==""&&(z+="="+encodeURIComponent(String(he[A]))),c.push(z)}}return this.i=c.join("&")};function ji(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wu(c,y){y&&!c.j&&(ai(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(gr(this,A),ul(this,z,_))},c)),c.j=y}function Ws(c,y){const _=new it;if(m.Image){const A=new Image;A.onload=k(oi,_,"TestLoadImage: loaded",!0,y,A),A.onerror=k(oi,_,"TestLoadImage: error",!1,y,A),A.onabort=k(oi,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(oi,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Si(c,y){const _=new it,A=new AbortController,z=setTimeout(()=>{A.abort(),oi(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?oi(_,"TestPingServer: ok",!0,y):oi(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),oi(_,"TestPingServer: error",!1,y)})}function oi(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Zs(){this.g=new _i}function Bi(c,y,_){const A=_||"";try{al(c,function(z,$){let he=z;g(z)&&(he=Sn(z)),y.push(A+$+"="+encodeURIComponent(he))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Yr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(Yr,qs),Yr.prototype.g=function(){return new vr(this.l,this.j)},Yr.prototype.i=function(c){return function(){return c}}({});function vr(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(vr,Et),i=vr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Fi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?zi(this):Fi(this),this.readyState==3&&cl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,zi(this))},i.Qa=function(c){this.g&&(this.response=c,zi(this))},i.ga=function(){this.g&&zi(this)};function zi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Fi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hl(c){let y="";return F(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function on(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=hl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ft(c,y,_))}function at(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(at,Et);var Ga=/^https?$/i,Js=["POST","PUT"];i=at.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dn.g(),this.v=this.o?Gr(this.o):Gr(dn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Zu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Js,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,he]of _)this.g.setRequestHeader($,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Zu(this,$)}};function Zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ka(c),Hi(c)}function Ka(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),at.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},i.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof h<"u"&&(!c.v[1]||li(c)!=4||c.Z()!=2)){if(c.u&&li(c)==4)Tt(c.Ea,0,c);else if($e(c,"readystatechange"),li(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=he===0){var z=String(c.D).match(Ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Ga.test(z?z.toLowerCase():"")}_=A}if(_)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var $=2<li(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ka(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){ea(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{_.onreadystatechange=A}catch{}}}function ea(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hr(y)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cf(c){const y={};c=(c.g&&2<=li(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(W(c[A]))continue;var _=D(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}I(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qa(c){this.Aa=0,this.i=[],this.j=new it,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(c&&c.concurrentRequestLimit),this.Da=new Zs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Qa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){pe(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=ac(this,null,this.W),$a(this)};function fl(c){if(ec(c),c.G==3){var y=c.U++,_=Yn(c.I);if(ft(_,"SID",c.K),ft(_,"RID",y),ft(_,"TYPE","terminate"),na(c,_),y=new It(c,c.j,y),y.L=2,y.v=Xs(Yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Dt(y)}sc(c)}function Xa(c){c.g&&(ia(c),c.g.cancel(),c.g=null)}function ec(c){Xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function $a(c){if(!Ba(c.h)&&!c.s){c.s=!0;var y=c.Ga;ie||O(),_e||(ie(),_e=!0),je.add(y,c),c.B=0}}function Nf(c,y){return za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ae(w(c.Ga,c,y),pl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new It(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),M($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=tc(this,z,y),_=Yn(this.I),ft(_,"RID",c),ft(_,"CVER",22),this.D&&ft(_,"X-HTTP-Session-Id",this.D),na(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(hl($)))+"&"+y:this.m&&on(_,this.m,$)),Fa(this.h,z),this.Ua&&ft(_,"TYPE","init"),this.P?(ft(_,"$req",y),ft(_,"SID","null"),z.T=!0,an(z,_,null)):an(z,_,y),this.G=2}}else this.G==3&&(c?dl(this,c):this.i.length==0||Ba(this.h)||dl(this))};function dl(c,y){var _;y?_=y.l:_=c.U++;const A=Yn(c.I);ft(A,"SID",c.K),ft(A,"RID",_),ft(A,"AID",c.T),na(c,A),c.m&&c.o&&on(A,c.m,c.o),_=new It(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fa(c.h,_),an(_,A,y)}function na(c,y){c.H&&F(c.H,function(_,A){ft(y,A,_)}),c.l&&al({},function(_,A){ft(y,A,_)})}function tc(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const he=["count="+_];$==-1?0<_?($=z[0].g,he.push("ofs="+$)):$=0:he.push("ofs="+$);let We=!0;for(let $t=0;$t<_;$t++){let Ze=z[$t].g;const ln=z[$t].map;if(Ze-=$,0>Ze)$=Math.max(0,z[$t].g-100),We=!1;else try{Bi(ln,he,"req"+Ze+"_")}catch{A&&A(ln)}}if(We){A=he.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ie||O(),_e||(ie(),_e=!0),je.add(y,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ae(w(c.Fa,c),pl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ae(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),Xa(this),ic(this))};function ia(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ic(c){c.g=new It(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);ft(y,"RID","rpc"),ft(y,"SID",c.K),ft(y,"AID",c.T),ft(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(y,"TO",c.ja),ft(y,"TYPE","xmlhttp"),na(c,y),c.m&&c.o&&on(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Xs(Yn(y)),_.m=null,_.P=!0,Un(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Xa(this),ml(this),pe(19))};function Wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function rc(c,y){var _=null;if(c.g==y){Wa(c),ia(c),c.g=null;var A=2}else if(rl(c.h,y))_=y.D,Dn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=ce(),$e(A,new ge(A,_)),$a(c)}else nc(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Nf(c,y)||A==2&&ml(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:_r(c,5);break;case 4:_r(c,10);break;case 3:_r(c,6);break;default:_r(c,2)}}}function pl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function _r(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const z=!A;A=new Ft(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Qs(A,"https"),Xs(A),z?Ws(A.toString(),_):Si(A.toString(),_)}else pe(2);c.G=0,c.l&&c.l.sa(y),sc(c),ec(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const y=sl(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,_){var A=_ instanceof Ft?Yn(_):new Ft(_);if(A.g!="")y&&(A.g=y+"."+A.g),Kr(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Ft(null);A&&Qs($,A),y&&($.g=y),z&&Kr($,z),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&ft(A,_,y),ft(A,"VER",c.la),na(c,A),A}function oc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new at(new Yr({eb:_})):new at(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}i=lc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new On(c,y)};function On(c,y){Et.call(this),this.g=new Qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new qi(this)}B(On,Et),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){fl(this.g)},On.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Sn(c),c=_);y.i.push(new Xu(y.Ya++,c)),y.G==3&&$a(y)},On.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,On.aa.N.call(this)};function uc(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(uc,Ei);function cc(){j.call(this),this.status=1}B(cc,j);function qi(c){this.g=c}B(qi,lc),qi.prototype.ua=function(){$e(this.g,"a")},qi.prototype.ta=function(c){$e(this.g,new uc(c))},qi.prototype.sa=function(c){$e(this.g,new cc)},qi.prototype.ra=function(){$e(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,hS=function(){return new Za},cS=function(){return ce()},uS=G,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xn.NO_ERROR=0,xn.TIMEOUT=8,xn.HTTP_ERROR=6,bh=xn,Kn.COMPLETE="complete",lS=Kn,Gs.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Et.prototype.listen=Et.prototype.K,du=Gs,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,oS=at}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",GE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new xp("@firebase/firestore");function Co(){return Na.logLevel}function ye(i,...e){if(Na.logLevel<=Ye.DEBUG){const n=e.map(Fp);Na.debug(`Firestore (${Zo}): ${i}`,...n)}}function zr(i,...e){if(Na.logLevel<=Ye.ERROR){const n=e.map(Fp);Na.error(`Firestore (${Zo}): ${i}`,...n)}}function Ns(i,...e){if(Na.logLevel<=Ye.WARN){const n=e.map(Fp);Na.warn(`Firestore (${Zo}): ${i}`,...n)}}function Fp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,fS(i,s,n)}function fS(i,e,n){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw zr(s),new Error(s)}function ot(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||fS(e,o,s)}function Le(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pN{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new dS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class gN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_N(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Fe(i,e){return i<e?-1:i>e?1:0}function ip(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Fe(s,o);{const u=mS(),h=EN(u.encode(YE(i,n)),u.encode(YE(e,n)));return h!==0?h:Fe(s,o)}}n+=s>65535?2:1}return Fe(i.length,e.length)}function YE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function EN(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Fe(i[n],e[n]);return Fe(i.length,e.length)}function qo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class Wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const s=Wi.isNumericId(e),o=Wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class bt extends Wi{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Wi{construct(e,n,s){return new En(e,n,s)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new En([QE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(bt.fromString(e))}static fromName(e){return new Re(bt.fromString(e).popFirst(5))}static empty(){return new Re(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(i,e,n){if(!n)throw new Se(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function SN(i,e,n,s){if(e===!0&&s===!0)throw new Se(le.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function XE(i){if(!Re.isDocumentKey(i))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $E(i){if(Re.isDocumentKey(i))throw new Se(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function Fr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(i);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(i,e){const n={typeString:i};return e&&(n.value=e),n}function qu(i,e){if(!gS(i))throw new Se(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Se(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,ZE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ZE);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Qt("string",At._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function bN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new xs(o,Re.empty(),e)}function AN(i){return new xs(i.readTime,i.key,Du)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(Ue.min(),Re.empty(),Du)}static max(){return new xs(Ue.max(),Re.empty(),Du)}}function wN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(i.documentKey,e.documentKey),n!==0?n:Fe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==RN)throw i;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,s)=>{n(e)})}static reject(e){return new oe((n,s)=>{s(e)})}static waitFor(e){return new oe((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next(o=>o?oe.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new oe((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,n){return new oe((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function CN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function of(i){return i==null}function Lh(i){return i===0&&1/i==-1/0}function NN(i){return typeof i=="number"&&Number.isInteger(i)&&!Lh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="";function xN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=JE(e)),e=DN(i.get(n),e);return JE(e)}function DN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case yS:n+="";break;default:n+=u}}return n}function JE(i){return i+yS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??_n.RED,this.left=o??_n.EMPTY,this.right=u??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new _n(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return _n.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ti([])}unionWith(e){let n=new rn(En.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _S("Invalid base64 string: "+u):u}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(i){if(ot(!!i,39018),typeof i=="string"){let e=0;const n=ON.exec(i);if(ot(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zt(i.seconds),nanos:zt(i.nanos)}}function zt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Os(i){return typeof i=="string"?Tn.fromBase64String(i):Tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="server_timestamp",TS="__type__",SS="__previous_value__",bS="__local_write_time__";function Kp(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[TS])===null||n===void 0?void 0:n.stringValue)===ES}function lf(i){const e=i.mapValue.fields[SS];return Kp(e)?lf(e):e}function Ou(i){const e=Ds(i.mapValue.fields[bS].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const jh="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__type__",PN="__max__",mh={mapValue:{}},wS="__vector__",Bh="value";function Ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kp(i)?4:kN(i)?9007199254740991:VN(i)?10:11:Oe(28295,{value:i})}function ar(i,e){if(i===e)return!0;const n=Ms(i);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ou(i).isEqual(Ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ds(o.timestampValue),m=Ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return zt(o.geoPointValue.latitude)===zt(u.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zt(o.integerValue)===zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=zt(o.doubleValue),m=zt(u.doubleValue);return h===m?Lh(h)===Lh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return qo(i.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(e0(h)!==e0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ar(h[p],m[p])))return!1;return!0}(i,e);default:return Oe(52216,{left:i})}}function Pu(i,e){return(i.values||[]).find(n=>ar(n,e))!==void 0}function Go(i,e){if(i===e)return 0;const n=Ms(i),s=Ms(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=zt(u.integerValue||u.doubleValue),p=zt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return n0(i.timestampValue,e.timestampValue);case 4:return n0(Ou(i),Ou(e));case 5:return ip(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Os(u),p=Os(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Fe(m[g],p[g]);if(v!==0)return v}return Fe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Fe(zt(u.latitude),zt(h.latitude));return m!==0?m:Fe(zt(u.longitude),zt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return i0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const b=u.fields||{},w=h.fields||{},k=(m=b[Bh])===null||m===void 0?void 0:m.arrayValue,B=(p=w[Bh])===null||p===void 0?void 0:p.arrayValue,K=Fe(((g=k?.values)===null||g===void 0?void 0:g.length)||0,((v=B?.values)===null||v===void 0?void 0:v.length)||0);return K!==0?K:i0(k,B)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=ip(p[b],v[b]);if(w!==0)return w;const k=Go(m[p[b]],g[v[b]]);if(k!==0)return k}return Fe(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Oe(23264,{le:n})}}function n0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const n=Ds(i),s=Ds(e),o=Fe(n.seconds,s.seconds);return o!==0?o:Fe(n.nanos,s.nanos)}function i0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Go(n[o],s[o]);if(u)return u}return Fe(n.length,s.length)}function Ko(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ds(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Os(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Re.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${rp(n.fields[h])}`;return o+"}"}(i.mapValue):Oe(61005,{value:i})}function Ah(i){switch(Ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return Os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ah(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Bs(s.fields,(u,h)=>{o+=u.length+Ah(h)}),o}(i.mapValue);default:throw Oe(13486,{value:i})}}function sp(i){return!!i&&"integerValue"in i}function Yp(i){return!!i&&"arrayValue"in i}function r0(i){return!!i&&"nullValue"in i}function s0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function VN(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AS])===null||n===void 0?void 0:n.stringValue)===wS}function Eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Bs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Eu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function kN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=En.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Eu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Bs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Fn(Eu(this.value))}}function RS(i){const e=[];return Bs(i.fields,(n,s)=>{const o=new En([n]);if(wh(s)){const u=RS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new In(e,0,Ue.min(),Ue.min(),Ue.min(),Fn.empty(),0)}static newFoundDocument(e,n,s,o){return new In(e,1,n,Ue.min(),s,o,0)}static newNoDocument(e,n){return new In(e,2,n,Ue.min(),Ue.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ue.min(),Ue.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function a0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),n.key):s=Go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ar(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function UN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class tn extends IS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jN(e,n,s):n==="array-contains"?new FN(e,s):n==="in"?new HN(e,s):n==="not-in"?new qN(e,s):n==="array-contains-any"?new GN(e,s):new tn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new BN(e,s):new zN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new or(e,n)}matches(e){return CS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function CS(i){return i.op==="and"}function NS(i){return LN(i)&&CS(i)}function LN(i){for(const e of i.filters)if(e instanceof or)return!1;return!0}function ap(i){if(i instanceof tn)return i.field.canonicalString()+i.op.toString()+Ko(i.value);if(NS(i))return i.filters.map(e=>ap(e)).join(",");{const e=i.filters.map(n=>ap(n)).join(",");return`${i.op}(${e})`}}function xS(i,e){return i instanceof tn?function(s,o){return o instanceof tn&&s.op===o.op&&s.field.isEqual(o.field)&&ar(s.value,o.value)}(i,e):i instanceof or?function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&xS(h,o.filters[m]),!0):!1}(i,e):void Oe(19439)}function DS(i){return i instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(i):i instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"}(i):"Filter"}class jN extends tn{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class BN extends tn{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zN extends tn{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OS(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Re.fromName(s.referenceValue))}class FN extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&Pu(n.arrayValue,this.value)}}class HN extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class qN extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class GN extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function l0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new KN(i,e,n,s,o,u,h)}function Qp(i){const e=Le(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ap(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ko(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ko(s)).join(",")),e.Pe=n}return e.Pe}function Xp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!o0(i.startAt,e.startAt)&&o0(i.endAt,e.endAt)}function op(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function YN(i,e,n,s,o,u,h,m){return new uf(i,e,n,s,o,u,h,m)}function $p(i){return new uf(i)}function u0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function QN(i){return i.collectionGroup!==null}function Tu(i){const e=Le(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new rn(En.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Fh(u,s))}),n.has(En.keyField().canonicalString())||e.Te.push(new Fh(En.keyField(),s))}return e.Te}function nr(i){const e=Le(i);return e.Ie||(e.Ie=XN(e,Tu(i))),e.Ie}function XN(i,e){if(i.limitType==="F")return l0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Fh(o.field,u)});const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return l0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function lp(i,e,n){return new uf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function cf(i,e){return Xp(nr(i),nr(e))&&i.limitType===e.limitType}function MS(i){return`${Qp(nr(i))}|lt:${i.limitType}`}function No(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>DS(o)).join(", ")}]`),of(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ko(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ko(o)).join(",")),`Target(${s})`}(nr(i))}; limitType=${i.limitType})`}function hf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=a0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Tu(s),o)||s.endAt&&!function(h,m,p){const g=a0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Tu(s),o))}(i,e)}function $N(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function PS(i){return(e,n)=>{let s=!1;for(const o of Tu(i)){const u=WN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WN(i,e,n){const s=i.field.isKeyField()?Re.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Go(p,g):Oe(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Nt(Re.comparator);function Hr(){return ZN}const VS=new Nt(Re.comparator);function mu(...i){let e=VS;for(const n of i)e=e.insert(n.key,n);return e}function kS(i){let e=VS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Sa(){return Su()}function US(){return Su()}function Su(){return new Va(i=>i.toString(),(i,e)=>i.isEqual(e))}const JN=new Nt(Re.comparator),ex=new rn(Re.comparator);function Xe(...i){let e=ex;for(const n of i)e=e.add(n);return e}const tx=new rn(Fe);function nx(){return tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function LS(i){return{integerValue:""+i}}function ix(i,e){return NN(e)?LS(e):Wp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function rx(i,e,n){return i instanceof Hh?function(o,u){const h={fields:{[TS]:{stringValue:ES},[bS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=lf(u)),u&&(h.fields[SS]=u),{mapValue:h}}(n,e):i instanceof Vu?BS(i,e):i instanceof ku?zS(i,e):function(o,u){const h=jS(o,u),m=c0(h)+c0(o.Ee);return sp(h)&&sp(o.Ee)?LS(m):Wp(o.serializer,m)}(i,e)}function sx(i,e,n){return i instanceof Vu?BS(i,e):i instanceof ku?zS(i,e):n}function jS(i,e){return i instanceof qh?function(s){return sp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Hh extends ff{}class Vu extends ff{constructor(e){super(),this.elements=e}}function BS(i,e){const n=FS(e);for(const s of i.elements)n.some(o=>ar(o,s))||n.push(s);return{arrayValue:{values:n}}}class ku extends ff{constructor(e){super(),this.elements=e}}function zS(i,e){let n=FS(e);for(const s of i.elements)n=n.filter(o=>!ar(o,s));return{arrayValue:{values:n}}}class qh extends ff{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function c0(i){return zt(i.integerValue||i.doubleValue)}function FS(i){return Yp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ax(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Vu&&o instanceof Vu||s instanceof ku&&o instanceof ku?qo(s.elements,o.elements,ar):s instanceof qh&&o instanceof qh?ar(s.Ee,o.Ee):s instanceof Hh&&o instanceof Hh}(i.transform,e.transform)}class ox{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function HS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Zp(i.key,Ci.none()):new Gu(i.key,i.data,Ci.none());{const n=i.data,s=Fn.empty();let o=new rn(En.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new zs(i.key,s,new ti(o.toArray()),Ci.none())}}function lx(i,e,n){i instanceof Gu?function(o,u,h){const m=o.value.clone(),p=f0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof zs?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=f0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(qS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function bu(i,e,n,s){return i instanceof Gu?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=u.value.clone(),v=d0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof zs?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=d0(u.fieldTransforms,p,h),v=h.data;return v.setAll(qS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,h,m){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function ux(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=jS(s.transform,o||null);u!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,u))}return n||null}function h0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qo(s,o,(u,h)=>ax(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Gu extends df{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends df{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qS(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function f0(i,e,n){const s=new Map;ot(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,sx(h,m,n[o]))}return s}function d0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,rx(u,h,e))}return s}class Zp extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cx extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&lx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=US();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=HS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,s)=>h0(n,s))&&qo(this.baseMutations,e.baseMutations,(n,s)=>h0(n,s))}}class Jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return JN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Jp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,et;function mx(i){switch(i){case le.OK:return Oe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function GS(i){if(i===void 0)return zr("GRPC error has no .code"),le.UNKNOWN;switch(i){case Gt.OK:return le.OK;case Gt.CANCELLED:return le.CANCELLED;case Gt.UNKNOWN:return le.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return le.INTERNAL;case Gt.UNAVAILABLE:return le.UNAVAILABLE;case Gt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gt.NOT_FOUND:return le.NOT_FOUND;case Gt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gt.ABORTED:return le.ABORTED;case Gt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gt.DATA_LOSS:return le.DATA_LOSS;default:return Oe(39323,{code:i})}}(et=Gt||(Gt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Rs([4294967295,4294967295],0);function m0(i){const e=mS().encode(i),n=new aS;return n.update(e),new Uint8Array(n.digest())}function p0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Rs([n,s],0),new Rs([o,u],0)]}class eg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(s<0)throw new pu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Rs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Rs.fromNumber(s)));return o.compare(px)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=m0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new eg(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=m0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mf(Ue.min(),o,new Nt(Fe),Hr(),Xe())}}class Ku{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ku(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class KS{constructor(e,n){this.targetId=e,this.De=n}}class YS{constructor(e,n,s=Tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g0{constructor(){this.ve=0,this.Ce=y0(),this.Fe=Tn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Xe(),n=Xe(),s=Xe();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:u})}}),new Ku(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=y0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gx{constructor(e){this.We=e,this.Ge=new Map,this.ze=Hr(),this.je=ph(),this.Je=ph(),this.He=new Nt(Fe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(op(u))if(s===0){const h=new Re(u.path);this.Xe(n,h,In.newNoDocument(h,Ue.min()))}else ot(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Os(s).toUint8Array()}catch(p){if(p instanceof _S)return Ns("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(h,o,u)}catch(p){return Ns(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&op(m.target)){const p=new Re(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,In.newNoDocument(p,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=Xe();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new mf(e,n,this.He,this.ze,s);return this.ze=Hr(),this.je=ph(),this.Je=ph(),this.He=new Nt(Fe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new g0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rn(Fe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rn(Fe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new g0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ph(){return new Nt(Re.comparator)}function y0(){return new Nt(Re.comparator)}const yx={asc:"ASCENDING",desc:"DESCENDING"},vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class Ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Gh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Tx(i,e){return Gh(i,e.toTimestamp())}function ir(i){return ot(!!i,49232),Ue.fromTimestamp(function(n){const s=Ds(n);return new At(s.seconds,s.nanos)}(i))}function tg(i,e){return cp(i,e).canonicalString()}function cp(i,e){const n=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function XS(i){const e=bt.fromString(i);return ot(eb(e),10190,{key:e.toString()}),e}function hp(i,e){return tg(i.databaseId,e.path)}function km(i,e){const n=XS(e);if(n.get(1)!==i.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Re(WS(n))}function $S(i,e){return tg(i.databaseId,e)}function Sx(i){const e=XS(i);return e.length===4?bt.emptyPath():WS(e)}function fp(i){return new bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WS(i){return ot(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function v0(i,e,n){return{name:hp(i,e),fields:n.value.mapValue.fields}}function bx(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ot(v===void 0||typeof v=="string",58123),Tn.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Tn.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?le.UNKNOWN:GS(g.code);return new Se(v,g.message||"")}(h);n=new YS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(i,s.document.name),u=ir(s.document.updateTime),h=s.document.createTime?ir(s.document.createTime):Ue.min(),m=new Fn({mapValue:{fields:s.document.fields}}),p=In.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Ih(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(i,s.document),u=s.readTime?ir(s.readTime):Ue.min(),h=In.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ih([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(i,s.document),u=s.removedTargetIds||[];n=new Ih([],u,o,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new dx(o,u),m=s.targetId;n=new KS(m,h)}}return n}function Ax(i,e){let n;if(e instanceof Gu)n={update:v0(i,e.key,e.value)};else if(e instanceof Zp)n={delete:hp(i,e.key)};else if(e instanceof zs)n={update:v0(i,e.key,e.data),updateMask:Mx(e.fieldMask)};else{if(!(e instanceof cx))return Oe(16599,{Rt:e.type});n={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Hh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Oe(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)}(i,e.precondition)),n}function wx(i,e){return i&&i.length>0?(ot(e!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?ir(o.updateTime):ir(u);return h.isEqual(Ue.min())&&(h=ir(u)),new ox(h,o.transformResults||[])}(n,e))):[]}function Rx(i,e){return{documents:[$S(i,e.path)]}}function Ix(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$S(i,o);const u=function(g){if(g.length!==0)return JS(or.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:xo(w.field),direction:xx(w.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=up(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:o}}function Cx(i){let e=Sx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(b){const w=ZS(b);return w instanceof or&&NS(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(w=>function(B){return new Fh(Do(B.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,of(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(b){const w=!!b.before,k=b.values||[];return new zh(k,w)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const w=!b.before,k=b.values||[];return new zh(k,w)}(n.endAt)),YN(e,o,h,u,m,"F",p,g)}function Nx(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZS(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(n.unaryFilter.field);return tn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Do(n.unaryFilter.field);return tn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(i):i.fieldFilter!==void 0?function(n){return tn.create(Do(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(s=>ZS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(i):Oe(30097,{filter:i})}function xx(i){return yx[i]}function Dx(i){return vx[i]}function Ox(i){return _x[i]}function xo(i){return{fieldPath:i.canonicalString()}}function Do(i){return En.fromServerFormat(i.fieldPath)}function JS(i){return i instanceof tn?function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(r0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(r0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:Dx(n.op),value:n.value}}}(i):i instanceof or?function(n){const s=n.getFilters().map(o=>JS(o));return s.length===1?s[0]:{compositeFilter:{op:Ox(n.op),filters:s}}}(i):Oe(54877,{filter:i})}function Mx(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s,o,u=Ue.min(),h=Ue.min(),m=Tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.gt=e}}function Vx(i){const e=Cx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Dn=new Ux}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(xs.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Ux{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new rn(bt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new rn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(tb,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Yo(0)}static ur(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="LruGarbageCollector",Lx=1048576;function T0([i,e],[n,s]){const o=Fe(i,n);return o===0?Fe(e,s):o}class jx{constructor(e){this.Tr=e,this.buffer=new rn(T0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();T0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye(E0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?ye(E0,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Rr(3e5)})}}class zx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(af.ue);const s=new jx(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(_0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Co()<=Ye.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Fx(i,e){return new zx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.changes=new Va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&bu(s.mutation,o,ti.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xe()){const o=Sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=mu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=Hr();const h=Su(),m=function(){return Su()}();return n.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof zs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),bu(v.mutation,g,v.mutation.getFieldMask(),At.now())):h.set(g.key,ti.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var b;return m.set(g,new qx(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Su();let o=new Nt((h,m)=>h-m),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||ti.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Xe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=US();v.forEach(w=>{if(!u.has(w)){const k=HS(n.get(w),s.get(w));k!==null&&b.set(w,k),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return oe.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(Sa());let m=Du,p=u;return h.next(g=>oe.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Xe())).next(v=>({batchId:m,changes:kS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let o=mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=mu();return this.indexManager.getCollectionParents(e,u).next(m=>oe.forEach(m,p=>{const g=function(b,w){return new uf(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,In.newInvalidDocument(v)))});let m=mu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&bu(v.mutation,g,ti.empty(),At.now()),hf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:Vx(o.bundledQuery),readTime:ir(o.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.overlays=new Nt(Re.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Sa();return oe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=Sa(),u=n.length+1,h=new Re(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Nt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Sa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new fx(n,s));let u=this.kr.get(n);u===void 0&&(u=Xe(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.qr=new rn(fn.Qr),this.$r=new rn(fn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new fn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new fn(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new Re(new bt([])),s=new fn(n,e),o=new fn(n,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new bt([])),s=new fn(n,e),o=new fn(n,e+1);let u=Xe();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new fn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rn(fn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new hx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new fn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new fn(n,0),o=new fn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new rn(Fe);return n.forEach(o=>{const u=new fn(o,0),h=new fn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const h=new fn(new Re(u),0);let m=new rn(Fe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ot(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,o=>{const u=new fn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new fn(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.ni=e,this.docs=function(){return new Nt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let s=Hr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():In.newInvalidDocument(o))}),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Hr();const h=n.path,m=new Re(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wN(AN(v),s)<=0||(o.has(v.key)||hf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Oe(9500)}ri(e,n){return oe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Wx(this)}getSize(e){return oe.resolve(this.size)}}class Wx extends Hx{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.persistence=e,this.ii=new Va(n=>Qp(n),Xp),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.si=0,this.oi=new ng,this.targetCount=0,this._i=Yo.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(u).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new Qx,this.referenceDelegate=e(this),this.hi=new Zx(this),this.indexManager=new kx,this.remoteDocumentCache=function(o){return new $x(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Px(n),this.Ti=new Kx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new Xx(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new Jx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return oe.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class Jx extends IN{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ai=new ng,this.Ri=null}static Vi(e){return new ig(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,s=>{const o=Re.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Ue.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.gi=new Va(s=>xN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Fx(this,n)}static Vi(e,n){return new Kh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return oe.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?oe.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ue.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Xe(),o=Xe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return PR()?8:CN(Cn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new eD;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Co()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Co()<=Ye.DEBUG&&ye("QueryEngine","Query:",No(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Co()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):oe.resolve())}ps(e,n){if(u0(n))return oe.resolve(null);let s=nr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Xe(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(e,lp(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,s,o){return u0(n)||o.isEqual(Ue.min())?oe.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?oe.resolve(null):(Co()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(n)),this.vs(e,h,n,bN(o,Du)).next(m=>m))})}bs(e,n){let s=new rn(PS(e));return n.forEach((o,u)=>{hf(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Co()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",No(n)),this.gs.getDocumentsMatchingQuery(e,n,xs.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",nD=3e8;class iD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Nt(Fe),this.Ms=new Va(u=>Qp(u),Xp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function rD(i,e,n,s){return new iD(i,e,n,s)}async function ib(i,e){const n=Le(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Xe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function sD(i,e){const n=Le(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,w=b.keys();let k=oe.resolve();return w.forEach(B=>{k=k.next(()=>v.getEntry(p,B)).next(K=>{const V=g.docVersions.get(B);ot(V!==null,48541),K.version.compareTo(V)<0&&(b.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function rb(i){const e=Le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function aD(i,e){const n=Le(i),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((v,b)=>{const w=o.get(b);if(!w)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,b).next(()=>n.hi.addMatchingKeys(u,v.addedDocuments,b)));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Tn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,s)),o=o.insert(b,k),function(K,V,te){return K.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=nD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(w,k,v)&&m.push(n.hi.updateTargetData(u,k))});let p=Hr(),g=Xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(oD(u,h,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!s.isEqual(Ue.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next(b=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return oe.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function oD(i,e,n){let s=Xe(),o=Xe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Hr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye(sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function lD(i,e){const n=Le(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uD(i,e){const n=Le(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next(h=>(o=new Ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function dp(i,e,n){const s=Le(i),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!el(h))throw h;ye(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function S0(i,e,n){const s=Le(i);let o=Ue.min(),u=Xe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Le(p),w=b.Ms.get(v);return w!==void 0?oe.resolve(b.Fs.get(w)):b.hi.getTargetData(g,v)}(s,h,nr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ue.min(),n?u:Xe())).next(m=>(cD(s,$N(e),m),{documents:m,qs:u})))}function cD(i,e,n){let s=i.xs.get(e)||Ue.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class b0{constructor(){this.activeTargetIds=nx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hD{constructor(){this.Fo=new b0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new b0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="ConnectivityMonitor";class w0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(A0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(A0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function mp(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=mp(),m=this.Go(e,n.toUriEncodedString());ye(Um,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Ls(g);return this.jo(e,m,p,s,v).then(b=>(ye(Um,`Received RPC '${e}' ${h}: `,b),b),b=>{throw Ns(Um,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=dD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class gD extends mD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const h=mp();return new Promise((m,p)=>{const g=new oS;g.setWithCredentials(!0),g.listenOnce(lS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const b=g.getResponseJson();ye(wn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case bh.TIMEOUT:ye(wn,`RPC '${e}' ${h} timed out`),p(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const w=g.getStatus();if(ye(wn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const K=function(te){const W=te.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(B.status);p(new Se(K,B.message))}else p(new Se(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Se(le.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ye(wn,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ye(wn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)})}P_(e,n,s){const o=mp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=hS(),m=cS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(wn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.T_(b);let w=!1,k=!1;const B=new pD({Ho:V=>{k?ye(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(ye(wn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ye(wn,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Yo:()=>b.close()}),K=(V,te,W)=>{V.listen(te,ne=>{try{W(ne)}catch(me){setTimeout(()=>{throw me},0)}})};return K(b,du.EventType.OPEN,()=>{k||(ye(wn,`RPC '${e}' stream ${o} transport opened.`),B.s_())}),K(b,du.EventType.CLOSE,()=>{k||(k=!0,ye(wn,`RPC '${e}' stream ${o} transport closed`),B.__(),this.I_(b))}),K(b,du.EventType.ERROR,V=>{k||(k=!0,Ns(wn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),B.__(new Se(le.UNAVAILABLE,"The operation could not be completed")))}),K(b,du.EventType.MESSAGE,V=>{var te;if(!k){const W=V.data[0];ot(!!W,16349);const ne=W,me=ne?.error||((te=ne[0])===null||te===void 0?void 0:te.error);if(me){ye(wn,`RPC '${e}' stream ${o} received error:`,me);const de=me.status;let F=function(C){const M=Gt[C];if(M!==void 0)return GS(M)}(de),I=me.message;F===void 0&&(F=le.INTERNAL,I="Unknown error status: "+de+" with message "+me.message),k=!0,B.__(new Se(F,I)),b.close()}else ye(wn,`RPC '${e}' stream ${o} received:`,W),B.a_(W)}}),K(m,uS.STAT_EVENT,V=>{V.stat===np.PROXY?ye(wn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===np.NOPROXY&&ye(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.o_()},0),B}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new Ex(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class ab{constructor(e,n,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new Se(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ye(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ye(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yD extends ab{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=bx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ue.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ue.min():h.readTime?ir(h.readTime):Ue.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=fp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=op(p)?{documents:Rx(u,p)}:{query:Ix(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=QS(u,h.resumeToken);const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ue.min())>0){m.readTime=Gh(u,h.snapshotVersion.toTimestamp());const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Nx(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.k_(n)}}class vD extends ab{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=wx(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=fp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Ax(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class ED extends _D{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,cp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(le.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,cp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Se(le.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class TD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zr(n),this._a=!1):ye("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class SD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{ka(this)&&(ye(xa,"Restarting streams for network reachability change."),await async function(p){const g=Le(p);g.Ia.add(4),await Yu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await gf(g)}(this))})}),this.Aa=new TD(s,o)}}async function gf(i){if(ka(i))for(const e of i.da)await e(!0)}async function Yu(i){for(const e of i.da)await e(!1)}function ob(i,e){const n=Le(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ug(n)?lg(n):tl(n).x_()&&og(n,e))}function ag(i,e){const n=Le(i),s=tl(n);n.Ta.delete(e),s.x_()&&lb(n,e),n.Ta.size===0&&(s.x_()?s.B_():ka(n)&&n.Aa.set("Unknown"))}function og(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(i).H_(e)}function lb(i,e){i.Ra.$e(e),tl(i).Y_(e)}function lg(i){i.Ra=new gx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),tl(i).start(),i.Aa.aa()}function ug(i){return ka(i)&&!tl(i).M_()&&i.Ta.size>0}function ka(i){return Le(i).Ia.size===0}function ub(i){i.Ra=void 0}async function bD(i){i.Aa.set("Online")}async function AD(i){i.Ta.forEach((e,n)=>{og(i,e)})}async function wD(i,e){ub(i),ug(i)?(i.Aa.la(e),lg(i)):i.Aa.set("Unknown")}async function RD(i,e,n){if(i.Aa.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){ye(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(i,s)}else if(e instanceof Ih?i.Ra.Ye(e):e instanceof KS?i.Ra.it(e):i.Ra.et(e),!n.isEqual(Ue.min()))try{const s=await rb(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(Tn.EMPTY_BYTE_STRING,v.snapshotVersion)),lb(u,p);const b=new Ss(v.target,p,g,v.sequenceNumber);og(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ye(xa,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,e,n){if(!el(e))throw e;i.Ia.add(1),await Yu(i),i.Aa.set("Offline"),n||(n=()=>rb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ye(xa,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await gf(i)})}function cb(i,e){return e().catch(n=>Yh(i,n,e))}async function yf(i){const e=Le(i),n=Ps(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;ID(e);)try{const o=await lD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,CD(e,o)}catch(o){await Yh(e,o)}hb(e)&&fb(e)}function ID(i){return ka(i)&&i.Pa.length<10}function CD(i,e){i.Pa.push(e);const n=Ps(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function hb(i){return ka(i)&&!Ps(i).M_()&&i.Pa.length>0}function fb(i){Ps(i).start()}async function ND(i){Ps(i).na()}async function xD(i){const e=Ps(i);for(const n of i.Pa)e.X_(n.mutations)}async function DD(i,e,n){const s=i.Pa.shift(),o=Jp.from(s,e,n);await cb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await yf(i)}async function OD(i,e){e&&Ps(i).Z_&&await async function(s,o){if(function(h){return mx(h)&&h!==le.ABORTED}(o.code)){const u=s.Pa.shift();Ps(s).N_(),await cb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(s)}}(i,e),hb(i)&&fb(i)}async function I0(i,e){const n=Le(i);n.asyncQueue.verifyOperationInProgress(),ye(xa,"RemoteStore received new credentials");const s=ka(n);n.Ia.add(3),await Yu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gf(n)}async function MD(i,e){const n=Le(i);e?(n.Ia.delete(2),await gf(n)):e||(n.Ia.add(2),await Yu(n),n.Aa.set("Unknown"))}function tl(i){return i.Va||(i.Va=function(n,s,o){const u=Le(n);return u.ia(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:bD.bind(null,i),e_:AD.bind(null,i),n_:wD.bind(null,i),J_:RD.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),ug(i)?lg(i):i.Aa.set("Unknown")):(await i.Va.stop(),ub(i))})),i.Va}function Ps(i){return i.ma||(i.ma=function(n,s,o){const u=Le(n);return u.ia(),new vD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:ND.bind(null,i),n_:OD.bind(null,i),ea:xD.bind(null,i),ta:DD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await yf(i)):(await i.ma.stop(),i.Pa.length>0&&(ye(xa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new cg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(i,e){if(zr("AsyncQueue",`${e}: ${i}`),el(i))return new Se(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=mu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.fa=new Nt(Re.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Qo(e,n,jo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class VD{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=N0(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new Se(le.ABORTED,"Firestore shutting down"))}}function N0(){return new Va(i=>MS(i),cf)}async function db(i,e){const n=Le(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new PD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=hg(h,`Initialization of query '${No(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&fg(n)}async function mb(i,e){const n=Le(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kD(i,e){const n=Le(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&fg(n)}function UD(i,e,n){const s=Le(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function fg(i){i.Da.forEach(e=>{e.next()})}var pp,x0;(x0=pp||(pp={})).Fa="default",x0.Cache="cache";class pb{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xe(),this.mutatedKeys=Xe(),this.Xa=PS(e),this.eu=new jo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new C0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const w=o.get(v),k=hf(this.query,b)?b:null,B=!!w&&this.mutatedKeys.has(w.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;w&&k?w.data.isEqual(k.data)?B!==K&&(s.track({type:3,doc:k}),V=!0):this.iu(w,k)||(s.track({type:2,doc:k}),V=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),V=!0):w&&!k&&(s.track({type:1,doc:w}),V=!0,(p||g)&&(m=!0)),V&&(k?(h=h.add(k),u=K?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,b)=>function(k,B){const K=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:V})}};return K(k)-K(B)}(v.type,b.type)||this.Xa(v.doc,b.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Qo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new C0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Xe(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new yb(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new gb(s))}),n}uu(e){this.Ha=e.qs,this.Za=Xe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Qo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dg="SyncEngine";class jD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BD{constructor(e){this.key=e,this.lu=!1}}class zD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Va(m=>MS(m),cf),this.Tu=new Map,this.Iu=new Set,this.du=new Nt(Re.comparator),this.Eu=new Map,this.Au=new ng,this.Ru={},this.Vu=new Map,this.mu=Yo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function FD(i,e,n=!0){const s=bb(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await vb(s,e,n,!0),o}async function HD(i,e){const n=bb(i);await vb(n,e,!0,!1)}async function vb(i,e,n,s){const o=await uD(i.localStore,nr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await qD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&ob(i.remoteStore,o),m}async function qD(i,e,n,s,o){i.gu=(b,w,k)=>async function(K,V,te,W){let ne=V.view.nu(te);ne.Ds&&(ne=await S0(K.localStore,V.query,!1).then(({documents:I})=>V.view.nu(I,ne)));const me=W&&W.targetChanges.get(V.targetId),de=W&&W.targetMismatches.get(V.targetId)!=null,F=V.view.applyChanges(ne,K.isPrimaryClient,me,de);return O0(K,V.targetId,F._u),F.snapshot}(i,b,w,k);const u=await S0(i.localStore,e,!0),h=new LD(e,u.qs),m=h.nu(u.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);O0(i,n,g._u);const v=new jD(e,n,h);return i.Pu.set(e,v),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),g.snapshot}async function GD(i,e,n){const s=Le(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!cf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ag(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(Jo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function KD(i,e){const n=Le(i),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ag(n.remoteStore,s.targetId))}async function YD(i,e,n){const s=eO(i);try{const o=await function(h,m){const p=Le(h),g=At.now(),v=m.reduce((k,B)=>k.add(B.key),Xe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let B=Hr(),K=Xe();return p.Os.getEntries(k,v).next(V=>{B=V,B.forEach((te,W)=>{W.isValidDocument()||(K=K.add(te))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,B)).next(V=>{b=V;const te=[];for(const W of m){const ne=ux(W,b.get(W.key).overlayedDocument);ne!=null&&te.push(new zs(W.key,ne,RS(ne.value.mapValue),Ci.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,te,m)}).next(V=>{w=V;const te=V.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(k,V.batchId,te)})}).then(()=>({batchId:w.batchId,changes:kS(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new Nt(Fe)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,n),await Qu(s,o.changes),await yf(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function _b(i,e){const n=Le(i);try{const s=await aD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?ot(h.lu,14607):o.removedDocuments.size>0&&(ot(h.lu,42227),h.lu=!1))}),await Qu(n,s,e)}catch(s){await Jo(s)}}function D0(i,e,n){const s=Le(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Le(h);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.wa)w.va(m)&&(g=!0)}),g&&fg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QD(i,e,n){const s=Le(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new Nt(Re.comparator);h=h.insert(u,In.newNoDocument(u,Ue.min()));const m=Xe().add(u),p=new mf(Ue.min(),new Map,new Nt(Fe),h,m);await _b(s,p),s.du=s.du.remove(u),s.Eu.delete(e),mg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,n)).catch(Jo)}async function XD(i,e){const n=Le(i),s=e.batch.batchId;try{const o=await sD(n.localStore,e);Tb(n,s,null),Eb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qu(n,o)}catch(o){await Jo(o)}}async function $D(i,e,n){const s=Le(i);try{const o=await function(h,m){const p=Le(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(ot(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Tb(s,e,n),Eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qu(s,o)}catch(o){await Jo(o)}}function Eb(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function Tb(i,e,n){const s=Le(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function gp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||Sb(i,s)})}function Sb(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ag(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),mg(i))}function O0(i,e,n){for(const s of n)s instanceof gb?(i.Au.addReference(s.key,e),WD(i,s)):s instanceof yb?(ye(dg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||Sb(i,s.key)):Oe(19791,{yu:s})}function WD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ye(dg,"New document in limbo: "+n),i.Iu.add(s),mg(i))}function mg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new Re(bt.fromString(e)),s=i.mu.next();i.Eu.set(s,new BD(n)),i.du=i.du.insert(n,s),ob(i.remoteStore,new Ss(nr($p(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function Qu(i,e,n){const s=Le(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=n?.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=rg.Es(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const v=Le(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>oe.forEach(g,w=>oe.forEach(w.Is,k=>v.persistence.referenceDelegate.addReference(b,w.targetId,k)).next(()=>oe.forEach(w.ds,k=>v.persistence.referenceDelegate.removeReference(b,w.targetId,k)))))}catch(b){if(!el(b))throw b;ye(sg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const k=v.Fs.get(w),B=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(B);v.Fs=v.Fs.insert(w,K)}}}(s.localStore,u))}async function ZD(i,e){const n=Le(i);if(!n.currentUser.isEqual(e)){ye(dg,"User change. New user:",e.toKey());const s=await ib(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new Se(le.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qu(n,s.Bs)}}function JD(i,e){const n=Le(i),s=n.Eu.get(e);if(s&&s.lu)return Xe().add(s.key);{let o=Xe();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function bb(i){const e=Le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QD.bind(null,e),e.hu.J_=kD.bind(null,e.eventManager),e.hu.pu=UD.bind(null,e.eventManager),e}function eO(i){const e=Le(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$D.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return rD(this.persistence,new tD,e.initialUser,this.serializer)}Du(e){return new nb(ig.Vi,this.serializer)}bu(e){return new hD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class tO extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ot(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Bx(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new nb(s=>Kh.Vi(s,n),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZD.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VD}()}createDatastore(e){const n=pf(e.databaseInfo.databaseId),s=function(u){return new gD(u)}(e.databaseInfo);return function(u,h,m,p){return new ED(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new SD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>D0(this.syncEngine,n,0),function(){return w0.C()?new w0:new fD}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const b=new zD(o,u,h,m,p,g);return v&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Le(o);ye(xa,"RemoteStore shutting down."),u.Ia.add(5),await Yu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class nO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ye(Vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ye(Vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jm(i,e){i.asyncQueue.verifyOperationInProgress(),ye(Vs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ib(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ns("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ns("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function M0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await iO(i);ye(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>I0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>I0(e.remoteStore,o)),i._onlineComponents=e}async function iO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(Vs,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await jm(i,new Qh)}}else ye(Vs,"Using default OfflineComponentProvider"),await jm(i,new tO(void 0));return i._offlineComponents}async function wb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(Vs,"Using user provided OnlineComponentProvider"),await M0(i,i._uninitializedComponentsProvider._online)):(ye(Vs,"Using default OnlineComponentProvider"),await M0(i,new yp))),i._onlineComponents}function rO(i){return wb(i).then(e=>e.syncEngine)}async function Rb(i){const e=await wb(i),n=e.eventManager;return n.onListen=FD.bind(null,e.syncEngine),n.onUnlisten=GD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KD.bind(null,e.syncEngine),n}function sO(i,e,n={}){const s=new Lr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Ab({next:w=>{v.Ou(),h.enqueueAndForget(()=>mb(u,b));const k=w.docs.has(m);!k&&w.fromCache?g.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new pb($p(m.path),v,{includeMetadataChanges:!0,ka:!0});return db(u,b)}(await Rb(i),i.asyncQueue,e,n,s)),s.promise}function aO(i,e,n={}){const s=new Lr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Ab({next:w=>{v.Ou(),h.enqueueAndForget(()=>mb(u,b)),w.fromCache&&p.source==="server"?g.reject(new Se(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new pb(m,v,{includeMetadataChanges:!0,ka:!0});return db(u,b)}(await Rb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",V0=!0;class k0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=V0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:V0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lx)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dN;switch(s.type){case"firstParty":return new yN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=P0.get(n);s&&(ye("ComponentProvider","Removing Datastore"),P0.delete(n),s.terminate())}(this),Promise.resolve()}}function oO(i,e,n,s={}){var o;i=Fr(i,vf);const u=Ls(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(Cp(`https://${p}`),Np("Firestore",!0)),h.host!==Cb&&h.host!==p&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Ra(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=Rn.MOCK_USER;else{v=ET(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Rn(w)}i._authCredentials=new mN(new dS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _f(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qu(n,nn._jsonSchema))return new nn(e,s||null,new Re(bt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:Qt("string",nn._jsonSchemaVersion),referencePath:Qt("string")};class Is extends _f{constructor(e,n,s){super(e,n,$p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Re(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Nb(i,e,...n){if(i=kt(i),pS("collection","path",e),i instanceof vf){const s=bt.fromString(e,...n);return $E(s),new Is(i,null,s)}{if(!(i instanceof nn||i instanceof Is))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bt.fromString(e,...n));return $E(s),new Is(i.firestore,null,s)}}function Au(i,e,...n){if(i=kt(i),arguments.length===1&&(e=Hp.newId()),pS("doc","path",e),i instanceof vf){const s=bt.fromString(e,...n);return XE(s),new nn(i,null,new Re(s))}{if(!(i instanceof nn||i instanceof Is))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bt.fromString(e,...n));return XE(s),new nn(i.firestore,i instanceof Is?i.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sb(this,"async_queue_retry"),this.oc=()=>{const s=Lm();s&&ye(U0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Lr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!el(e))throw e;ye(U0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,zr("INTERNAL UNHANDLED ERROR: ",j0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Oe(47125,{hc:j0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function j0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class nl extends vf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new L0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function lO(i,e){const n=typeof i=="object"?i:Op(),s=typeof i=="string"?i:jh,o=ef(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yT("firestore");u&&oO(o,...u)}return o}function pg(i){if(i._terminated)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||uO(i),i._firestoreClient}function uO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new MN(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ib(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new nO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Tn.fromBase64String(e))}catch(n){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Qt("string",vi._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(qu(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Qt("string",rr._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sr(e.vectorValues);throw new Se(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Qt("string",sr._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class xb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Db(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:i})}}class yg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Xh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Db(this.Ec)&&cO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class fO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||pf(e)}Dc(e,n,s,o=!1){return new yg({Ec:e,methodName:n,bc:s,path:En.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ob(i){const e=i._freezeSettings(),n=pf(i._databaseId);return new fO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function dO(i,e,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,n,o);vg("Data must be an object, but it was:",h,s);const m=Mb(s,h);let p,g;if(u.merge)p=new ti(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=vp(e,b,n);if(!h.contains(w))throw new Se(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Vb(v,w)||v.push(w)}p=new ti(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new hO(new Fn(m),p,g)}class Tf extends gg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function mO(i,e,n,s){const o=i.Dc(1,e,n);vg("Data must be an object, but it was:",o,s);const u=[],h=Fn.empty();Bs(s,(p,g)=>{const v=_g(e,p,n);g=kt(g);const b=o.gc(v);if(g instanceof Tf)u.push(v);else{const w=Sf(g,b);w!=null&&(u.push(v),h.set(v,w))}});const m=new ti(u);return new xb(h,m,o.fieldTransforms)}function pO(i,e,n,s,o,u){const h=i.Dc(1,e,n),m=[vp(e,s,n)],p=[o];if(u.length%2!=0)throw new Se(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(vp(e,u[w])),p.push(u[w+1]);const g=[],v=Fn.empty();for(let w=m.length-1;w>=0;--w)if(!Vb(g,m[w])){const k=m[w];let B=p[w];B=kt(B);const K=h.gc(k);if(B instanceof Tf)g.push(k);else{const V=Sf(B,K);V!=null&&(g.push(k),v.set(k,V))}}const b=new ti(g);return new xb(v,b,h.fieldTransforms)}function Sf(i,e){if(Pb(i=kt(i)))return vg("Unsupported field value:",e,i),Mb(i,e);if(i instanceof gg)return function(s,o){if(!Db(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Sf(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ix(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=At.fromDate(s);return{timestampValue:Gh(o.serializer,u)}}if(s instanceof At){const u=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gh(o.serializer,u)}}if(s instanceof rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:QS(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sr)return function(h,m){return{mapValue:{fields:{[AS]:{stringValue:wS},[Bh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${qp(s)}`)}(i,e)}function Mb(i,e){const n={};return vS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(i,(s,o)=>{const u=Sf(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Pb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof At||i instanceof rr||i instanceof vi||i instanceof nn||i instanceof gg||i instanceof sr)}function vg(i,e,n){if(!Pb(n)||!gS(n)){const s=qp(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function vp(i,e,n){if((e=kt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return _g(i,e);throw Xh("Field path arguments must be of type string or ",i,!1,void 0,n)}const gO=new RegExp("[~\\*/\\[\\]]");function _g(i,e,n){if(e.search(gO)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Se(le.INVALID_ARGUMENT,m+i+p)}function Vb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ub("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yO extends kb{data(){return super.data()}}function Ub(i,e){return typeof e=="string"?_g(i,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Se(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _O{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Bh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>zt(h.doubleValue));return new sr(u)}convertGeoPoint(e){return new rr(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);ot(eb(s),9688,{name:e});const o=new Mu(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(n)||zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends kb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ub("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Qt("string",ba._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Ch extends ba{data(e={}){return super.data(e)}}class Bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ch(this._firestore,this._userDataWriter,s.key,s,new gu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:TO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i){i=Fr(i,nn);const e=Fr(i.firestore,nl);return sO(pg(e),i._key).then(n=>RO(e,i,n))}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Qt("string",Bo._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class jb extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function SO(i){i=Fr(i,_f);const e=Fr(i.firestore,nl),n=pg(e),s=new jb(e);return vO(i._query),aO(n,i._query).then(o=>new Bo(e,s,i,o))}function bO(i,e,n,...s){i=Fr(i,nn);const o=Fr(i.firestore,nl),u=Ob(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof Ef?pO(u,"updateDoc",i._key,e,n,s):mO(u,"updateDoc",i._key,e),Eg(o,[h.toMutation(i._key,Ci.exists(!0))])}function AO(i){return Eg(Fr(i.firestore,nl),[new Zp(i._key,Ci.none())])}function wO(i,e){const n=Fr(i.firestore,nl),s=Au(i),o=EO(i.converter,e);return Eg(n,[dO(Ob(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ci.exists(!1))]).then(()=>s)}function Eg(i,e){return function(s,o){const u=new Lr;return s.asyncQueue.enqueueAndForget(async()=>YD(await rO(s),o,u)),u.promise}(pg(i),e)}function RO(i,e,n){const s=n.docs.get(e._key),o=new jb(i);return new ba(i,o,e._key,s,new gu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Zo=o})(Ma),Ia(new Cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new nl(new pN(s.getProvider("auth-internal")),new vN(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ji(qE,GE,e),Ji(qE,GE,"esm2017")})();const IO={apiKey:"AIzaSyDKZFDxNfAH2Y1g7pMJb46MYoh40u7Bd_o",authDomain:"signsenseai.firebaseapp.com",projectId:"signsenseai",storageBucket:"signsenseai.firebasestorage.app",messagingSenderId:"390913442904",appId:"1:390913442904:web:3bcdbac6e205c14e48762d",measurementId:"G-BKGQN64TSM"},Bb=bT(IO),$h=uN(Bb),zo=lO(Bb);function CO(){const[i,e]=J.useState(!1),n=J.useRef(),s=J.useRef(),o=Lu(),[u,h]=J.useState(!0),[m,p]=J.useState(!1),[g,v]=J.useState("");J.useEffect(()=>{const w=XT($h,k=>{k&&o("/SignseSense-Collection/home"),h(!1)});return()=>{w()}},[o]);async function b(){v("");const w=n.current.value,k=s.current.value;if(!w||!k){v("Please enter both email and password.");return}p(!0);try{await XC($h,w,k)}catch(B){console.error("Login error:",B.code,B.message),B.code==="auth/invalid-email"?v("Invalid email address."):B.code==="auth/user-disabled"?v("This user account has been disabled."):B.code==="auth/user-not-found"||B.code==="auth/wrong-password"?v("Invalid email or password."):v("Failed to log in. Please check your credentials.")}finally{p(!1)}}return T.jsx("div",{className:"login-container",children:u?T.jsxs("div",{className:"loading-state",children:[T.jsx("div",{className:"spinner"}),T.jsx("h2",{children:"Loading..."})]}):T.jsxs("div",{className:"login-card",children:[T.jsx("h1",{className:"login-title",children:"Welcome Back!"}),T.jsx("p",{className:"login-subtitle",children:"Sign in to manage your signs."}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"email-input",className:"input-label",children:"Email"}),T.jsx("input",{type:"email",id:"email-input",placeholder:"your.email@example.com",ref:n,className:"login-input"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"password-input",className:"input-label",children:"Password"}),T.jsxs("div",{className:"password-input-wrapper",children:[T.jsx("input",{type:i?"text":"password",id:"password-input",placeholder:"",ref:s,className:"login-input"}),T.jsx("button",{type:"button",onClick:()=>e(!i),className:"toggle-password-btn",children:i?T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[T.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),T.jsx("line",{x1:"1",x2:"23",y1:"1",y2:"23"})]}):T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[T.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),g&&T.jsx("p",{className:"error-message",children:g}),T.jsx("button",{onClick:b,className:"login-btn",disabled:m,children:m?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"spinner-small"})," Logging In..."]}):"Log In"}),T.jsx("div",{className:"registration-info",children:T.jsxs("p",{children:["New user? Registration is currently disabled.",T.jsx("br",{}),"Please contact the developer:"," ",T.jsx("a",{href:"mailto:silveddaveramos@gmail.com",className:"developer-email",children:"silveddaveramos@gmail.com"})]})})]})})}const NO=["All Categories","Road signs","Environmental sign","Facility signs","Guide signs","Health and safety signs","Informational signs","Regulatory signs","Utilities and Sustainability signs","Warning signs"],Bm=12;function xO(){const[i,e]=J.useState(!0),[n,s]=J.useState(!1),[o,u]=J.useState([]),[h,m]=J.useState(""),[p,g]=J.useState("All Categories"),[v,b]=J.useState(1),w=Lu();J.useEffect(()=>{const I=async()=>{try{const M=(await SO(Nb(zo,"signs"))).docs.map(D=>({id:D.id,...D.data()}));u(M)}catch(C){console.error("Error fetching signs:",C)}},R=XT($h,C=>{C?(s(!0),I()):w("/SignseSense-Collection"),e(!1)});return()=>{R()}},[w]);const k=async()=>{try{await ZC($h),w("/SignseSense-Collection")}catch(I){console.error("Error signing out:",I)}},B=I=>{m(I.target.value),b(1)},K=I=>{g(I.target.value),b(1)},V=o.filter(I=>{const R=I.name.toLowerCase().includes(h.toLowerCase())||I.purpose.toLowerCase().includes(h.toLowerCase()),C=p==="All Categories"||I.category===p;return R&&C}),te=Math.ceil(V.length/Bm),W=(v-1)*Bm,ne=W+Bm,me=V.slice(W,ne),de=I=>{b(I),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{const I=[];if(te<=5)for(let C=1;C<=te;C++)I.push(C);else{I.push(1),v>3&&I.push("...");const C=Math.max(2,v-1),M=Math.min(te-1,v+1);for(let D=C;D<=M;D++)D!==1&&D!==te&&I.push(D);v<te-2&&I.push("..."),te>1&&I.push(te)}return I};return i?T.jsx("div",{className:"homepage-wrapper",children:T.jsx("div",{className:"homepage-container",children:T.jsxs("div",{className:"loading-state",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("h2",{className:"loading-text",children:"Loading your sign collection..."}),T.jsx("p",{className:"loading-subtitle",children:"Please wait while we fetch your data"})]})})}):T.jsx("div",{className:"homepage-wrapper",children:T.jsxs("div",{className:"homepage-container",children:[T.jsxs("div",{className:"professional-header",children:[T.jsx("div",{className:"header-content",children:T.jsx("div",{className:"header-main",children:T.jsx("h1",{className:"professional-title",children:"Sign Collection"})})}),T.jsxs("div",{className:"header-actions",children:[n&&T.jsxs(Ur,{to:"/SignseSense-Collection/addsign",className:"add-sign-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M12 5v14"}),T.jsx("path",{d:"M5 12h14"})]}),"Add New Sign"]}),T.jsxs("button",{onClick:k,className:"logout-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),T.jsx("polyline",{points:"16,16 21,12 16,8"}),T.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})]})]}),T.jsx("div",{className:"search-filter-section",children:T.jsxs("div",{className:"search-filter-card",children:[T.jsxs("div",{className:"search-group",children:[T.jsx("label",{className:"search-label",children:"Search Signs"}),T.jsxs("div",{className:"search-input-wrapper",children:[T.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("path",{d:"m21 21-4.3-4.3"})]}),T.jsx("input",{type:"text",placeholder:"Search by name or purpose...",value:h,onChange:B,className:"search-input"})]})]}),T.jsxs("div",{className:"filter-group",children:[T.jsx("label",{className:"filter-label",children:"Filter by Category"}),T.jsxs("div",{className:"filter-select-wrapper",children:[T.jsx("svg",{className:"filter-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),T.jsx("select",{value:p,onChange:K,className:"filter-select",children:NO.map(I=>T.jsx("option",{value:I,children:I},I))})]})]})]})}),V.length>0&&T.jsxs("div",{className:"results-summary",children:[T.jsxs("div",{className:"results-info",children:[T.jsxs("h3",{className:"results-title",children:[V.length," ",V.length===1?"Sign":"Signs"," Found"]}),T.jsxs("p",{className:"results-description",children:["Showing ",W+1,"-",Math.min(ne,V.length)," of ",V.length," results",p!=="All Categories"&&` in "${p}"`,h&&` matching "${h}"`]})]}),te>1&&T.jsx("div",{className:"page-info",children:T.jsxs("span",{className:"page-text",children:["Page ",v," of ",te]})})]}),T.jsx("main",{className:"main-content",children:V.length===0&&!i?T.jsx("div",{className:"no-results-card",children:T.jsxs("div",{className:"no-results-content",children:[T.jsx("div",{className:"no-results-icon",children:T.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("path",{d:"m21 21-4.3-4.3"})]})}),T.jsx("h3",{className:"no-results-title",children:"No signs found"}),T.jsx("p",{className:"no-results-description",children:h||p!=="All Categories"?"Try adjusting your search terms or filters to find what you're looking for.":"Get started by adding your first sign to the collection."}),!h&&p==="All Categories"&&T.jsxs(Ur,{to:"/SignseSense-Collection/addsign",className:"add-first-sign-btn",children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M12 5v14"}),T.jsx("path",{d:"M5 12h14"})]}),"Add Your First Sign"]})]})}):T.jsx("div",{className:"signs-grid",children:me.map(I=>T.jsxs("div",{className:"sign-card",onClick:()=>w(`/SignseSense-Collection/sign/${I.id}`),children:[T.jsxs("div",{className:"sign-image-container",children:[T.jsx("img",{src:I.imgUrl||"/placeholder.svg",alt:I.name,className:"sign-image"}),I.isDanger&&T.jsxs("div",{className:"danger-badge",children:[T.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),T.jsx("path",{d:"M12 9v4"}),T.jsx("path",{d:"M12 17h.01"})]}),"Danger"]})]}),T.jsx("div",{className:"sign-content",children:T.jsxs("div",{className:"sign-header",children:[T.jsx("h3",{className:"sign-name",children:I.name}),T.jsx("div",{className:"sign-category",children:I.category})]})})]},I.id))})}),V.length>0&&te>1&&T.jsx("div",{className:"pagination-section",children:T.jsxs("div",{className:"pagination-container",children:[T.jsxs("button",{onClick:()=>de(v-1),disabled:v===1,className:`pagination-btn pagination-prev ${v===1?"disabled":""}`,children:[T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"m15 18-6-6 6-6"})}),"Previous"]}),T.jsx("div",{className:"pagination-numbers",children:F().map((I,R)=>T.jsx("button",{onClick:()=>typeof I=="number"&&de(I),disabled:I==="...",className:`pagination-number ${I===v?"active":""} ${I==="..."?"ellipsis":""}`,children:I},R))}),T.jsxs("button",{onClick:()=>de(v+1),disabled:v===te,className:`pagination-btn pagination-next ${v===te?"disabled":""}`,children:["Next",T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"m9 18 6-6-6-6"})})]})]})})]})})}function DO(){return T.jsx("div",{children:"404 - Not Found"})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebasestorage.googleapis.com",Fb="storageBucket",OO=2*60*1e3,MO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends lr{constructor(e,n,s=0){super(zm(e),`Firebase Storage: ${n} (${zm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ut;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ut||(Ut={}));function zm(i){return"storage/"+i}function Tg(){const i="An unknown error occurred, please check the error payload for server response.";return new Lt(Ut.UNKNOWN,i)}function PO(i){return new Lt(Ut.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function VO(i){return new Lt(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Ut.UNAUTHENTICATED,i)}function UO(){return new Lt(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LO(i){return new Lt(Ut.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function jO(){return new Lt(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BO(){return new Lt(Ut.CANCELED,"User canceled the upload/download.")}function zO(i){return new Lt(Ut.INVALID_URL,"Invalid URL '"+i+"'.")}function FO(i){return new Lt(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function HO(){return new Lt(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function qO(){return new Lt(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GO(){return new Lt(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KO(i){return new Lt(Ut.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _p(i){return new Lt(Ut.INVALID_ARGUMENT,i)}function Hb(){return new Lt(Ut.APP_DELETED,"The Firebase app was deleted.")}function YO(i){return new Lt(Ut.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wu(i,e){return new Lt(Ut.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function uu(i){throw new Lt(Ut.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(s.path==="")return s;throw FO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(me){me.path_=decodeURIComponent(me.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${v}/b/${o}/o${w}`,"i"),B={bucket:1,path:3},K=n===zb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",te=new RegExp(`^https?://${K}/${o}/${V}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:k,indices:B,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let me=0;me<ne.length;me++){const de=ne[me],F=de.regex.exec(e);if(F){const I=F[de.indices.bucket];let R=F[de.indices.path];R||(R=""),s=new ni(I,R),de.postModify(s);break}}if(s==null)throw zO(e);return s}}class QO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...V){g||(g=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,i(k,p())},V)}function w(){u&&clearTimeout(u)}function k(V,...te){if(g){w();return}if(V){w(),v.call(null,V,...te);return}if(p()||h){w(),v.call(null,V,...te);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,b(ne)}let B=!1;function K(V){B||(B=!0,w(),!g&&(o!==null?(V||(m=2),clearTimeout(o),b(0)):V||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,K(!0)},n),K}function $O(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i){return i!==void 0}function ZO(i){return typeof i=="object"&&!Array.isArray(i)}function Sg(i){return typeof i=="string"||i instanceof String}function B0(i){return bg()&&i instanceof Blob}function bg(){return typeof Blob<"u"}function z0(i,e,n,s){if(s<e)throw _p(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw _p(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function qb(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Aa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Aa||(Aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,s,o,u,h,m,p,g,v,b,w=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,K)=>{this.resolve_=B,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Aa.NO_ERROR,p=u.getStatus();if(!m||JO(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Aa.ABORT;s(!1,new yh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new yh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());WO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Tg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Hb():BO();h(p)}else{const p=jO();h(p)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=XO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$O(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function tM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function nM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function rM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function sM(i,e,n,s,o,u,h=!0,m=!1){const p=qb(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return iM(v,e),tM(v,n),nM(v,u),rM(v,s),new eM(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oM(...i){const e=aM();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(bg())return new Blob(i);throw new Lt(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(i){if(typeof atob>"u")throw KO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,n){this.data=e,this.contentType=n||null}}function cM(i,e){switch(i){case Zi.RAW:return new Fm(Gb(e));case Zi.BASE64:case Zi.BASE64URL:return new Fm(Kb(i,e));case Zi.DATA_URL:return new Fm(fM(e),dM(e))}throw Tg()}function Gb(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function hM(i){let e;try{e=decodeURIComponent(i)}catch{throw wu(Zi.DATA_URL,"Malformed data URL.")}return Gb(e)}function Kb(i,e){switch(i){case Zi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw wu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw wu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uM(e)}catch(o){throw o.message.includes("polyfill")?o:wu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Yb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wu(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=mM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function fM(i){const e=new Yb(i);return e.base64?Kb(Zi.BASE64,e.rest):hM(e.rest)}function dM(i){return new Yb(i).contentType}function mM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){let s=0,o="";B0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(B0(this.data_)){const s=this.data_,o=lM(s,e,n);return o===null?null:new Ts(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Ts(s,!0)}}static getBlob(...e){if(bg()){const n=e.map(s=>s instanceof Ts?s.data_:s);return new Ts(oM.apply(null,n))}else{const n=e.map(h=>Sg(h)?cM(Zi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Ts(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){let e;try{e=JSON.parse(i)}catch{return null}return ZO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function gM(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function Xb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(i,e){return e}class Pn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||yM}}let vh=null;function vM(i){return!Sg(i)||i.length<2?i:Xb(i)}function $b(){if(vh)return vh;const i=[];i.push(new Pn("bucket")),i.push(new Pn("generation")),i.push(new Pn("metageneration")),i.push(new Pn("name","fullPath",!0));function e(u,h){return vM(h)}const n=new Pn("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new Pn("size");return o.xform=s,i.push(o),i.push(new Pn("timeCreated")),i.push(new Pn("updated")),i.push(new Pn("md5Hash",null,!0)),i.push(new Pn("cacheControl",null,!0)),i.push(new Pn("contentDisposition",null,!0)),i.push(new Pn("contentEncoding",null,!0)),i.push(new Pn("contentLanguage",null,!0)),i.push(new Pn("contentType",null,!0)),i.push(new Pn("metadata","customMetadata",!0)),vh=i,vh}function _M(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new ni(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function EM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return _M(s,i),s}function Wb(i,e,n){const s=Qb(e);return s===null?null:EM(i,s,n)}function TM(i,e,n,s){const o=Qb(e);if(o===null||!Sg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=i.bucket,b=i.fullPath,w="/b/"+h(v)+"/o/"+h(b),k=bf(w,n,s),B=qb({alt:"media",token:g});return k+B})[0]}function SM(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Ag{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i){if(!i)throw Tg()}function bM(i,e){function n(s,o){const u=Wb(i,o,e);return Zb(u!==null),u}return n}function AM(i,e){function n(s,o){const u=Wb(i,o,e);return Zb(u!==null),TM(u,o,i.host,i._protocol)}return n}function Jb(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=UO():o=kO():n.getStatus()===402?o=VO(i.bucket):n.getStatus()===403?o=LO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function eA(i){const e=Jb(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=PO(i.path)),u.serverResponse=o.serverResponse,u}return n}function wM(i,e,n){const s=e.fullServerUrl(),o=bf(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Ag(o,u,AM(i,n),h);return m.errorHandler=eA(e),m}function RM(i,e){const n=e.fullServerUrl(),s=bf(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new Ag(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=eA(e),m}function IM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function CM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=IM(null,e)),s}function NM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let me=0;me<2;me++)ne=ne+Math.random().toString().slice(2);return ne}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=CM(e,s,o),v=SM(g,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",k=Ts.getBlob(b,s,w);if(k===null)throw qO();const B={name:g.fullPath},K=bf(u,i.host,i._protocol),V="POST",te=i.maxUploadRetryTime,W=new Ag(K,V,bM(i,n),te);return W.urlParams=B,W.headers=h,W.body=k.uploadData(),W.errorHandler=Jb(e),W}class xM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw uu("cannot .send() more than once");if(Ls(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DM extends xM{initXhr(){this.xhr_.responseType="text"}}function wg(){return new DM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Da(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const e=pM(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YO(e)}}function OM(i,e,n){i._throwIfRoot("uploadBytes");const s=NM(i.storage,i._location,$b(),new Ts(e,!0),n);return i.storage.makeRequestWithTokens(s,wg).then(o=>({metadata:o,ref:i}))}function MM(i){i._throwIfRoot("getDownloadURL");const e=wM(i.storage,i._location,$b());return i.storage.makeRequestWithTokens(e,wg).then(n=>{if(n===null)throw GO();return n})}function PM(i){i._throwIfRoot("deleteObject");const e=RM(i.storage,i._location);return i.storage.makeRequestWithTokens(e,wg)}function VM(i,e){const n=gM(i._location.path,e),s=new ni(i._location.bucket,n);return new Da(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i){return/^[A-Za-z]+:\/\//.test(i)}function UM(i,e){return new Da(i,e)}function tA(i,e){if(i instanceof Rg){const n=i;if(n._bucket==null)throw HO();const s=new Da(n,n._bucket);return e!=null?tA(s,e):s}else return e!==void 0?VM(i,e):i}function LM(i,e){if(e&&kM(e)){if(i instanceof Rg)return UM(i,e);throw _p("To use ref(service, url), the first argument must be a Storage instance.")}else return tA(i,e)}function F0(i,e){const n=e?.[Fb];return n==null?null:ni.makeFromBucketSpec(n,i)}function jM(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ls(e);o&&(Cp(`https://${i.host}/b`),Np("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:ET(u,i.app.options.projectId))}class Rg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=zb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OO,this._maxUploadRetryTime=MO,this._requests=new Set,o!=null?this._bucket=ni.makeFromBucketSpec(o,this._host):this._bucket=F0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=F0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Da(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new QO(Hb());{const h=sM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const H0="@firebase/storage",q0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="storage";function Ep(i,e,n){return i=kt(i),OM(i,e,n)}function Tp(i){return i=kt(i),MM(i)}function Hm(i){return i=kt(i),PM(i)}function Oo(i,e){return i=kt(i),LM(i,e)}function iA(i=Op(),e){i=kt(i);const s=ef(i,nA).getImmediate({identifier:e}),o=yT("storage");return o&&BM(s,...o),s}function BM(i,e,n,s={}){jM(i,e,n,s)}function zM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Rg(n,s,o,e,Ma)}function FM(){Ia(new Cs(nA,zM,"PUBLIC").setMultipleInstances(!0)),Ji(H0,q0,""),Ji(H0,q0,"esm2017")}FM();const HM=iA(),rA={name:"",purpose:"",category:"",violation:{description:"",fine:0},isDanger:!1,precautions:[{precaution:"",id:0}]},en={SET_NAME:"set name",SET_PURPOSE:"set purpose",SET_CATEGORY:"set category",SET_VIOLATION:"set violation",SET_FINE:"set fine",SET_PRECAUTIONS:"set precautions",SET_PRECAUTION:"set precaution",ADD_PRECAUTION:"add precaution",REMOVE_PRECAUTION:"remove precaution",SET_ISDANGER:"is danger",RESET:"reset"};function qM(i,e){switch(e.type){case en.SET_PRECAUTION:{const n=i.precautions.map(s=>s.id==e.payload.id?{...s,precaution:e.payload.value}:s);return{...i,precautions:n}}case en.ADD_PRECAUTION:return{...i,precautions:[...i.precautions,{precaution:"",id:i.precautions.length}]};case en.REMOVE_PRECAUTION:{const n=i.precautions.filter(s=>s.id!=e.payload.id);return{...i,precautions:n}}case en.SET_NAME:return{...i,name:e.payload.value};case en.SET_PURPOSE:return{...i,purpose:e.payload.value};case en.SET_CATEGORY:return{...i,category:e.payload.value};case en.SET_VIOLATION:return{...i,violation:{...i.violation,description:e.payload.value}};case en.SET_FINE:return{...i,violation:{...i.violation,fine:e.payload.value}};case en.SET_ISDANGER:return{...i,isDanger:e.payload.value};case en.RESET:return rA;default:return i}}const GM=["Road signs","Environmental sign","Facility signs","Guide signs","Health and safety signs","Informational signs","Regulatory signs","Utilities and Sustainability signs","Warning signs"];function KM(){const[i,e]=J.useReducer(qM,rA),[n,s]=J.useState(null),[o,u]=J.useState(null),[h,m]=J.useState(!1),p=J.useCallback((W,ne)=>{e({type:en.SET_PRECAUTION,payload:{id:W,value:ne.target.value}})},[]),g=()=>{e({type:en.ADD_PRECAUTION})},v=W=>{i.precautions.length!=1&&e({type:en.REMOVE_PRECAUTION,payload:{id:W}})},b=J.useRef(),w=J.useRef(),k=()=>{e({type:en.SET_NAME,payload:{value:b.current.value}})},B=()=>{e({type:en.SET_PURPOSE,payload:{value:w.current.value}})},K=W=>{e({type:en.SET_CATEGORY,payload:{value:W.target.value}})},V=W=>{const ne=W.target.files[0];if(!ne)return;const de=3*1024*1024;if(ne.size>de){alert("File size must be less than 3MB."),W.target.value="",s(null),u(null);return}s(ne);const F=new FileReader;F.onloadend=()=>{u(F.result)},F.readAsDataURL(ne)},te=async()=>{if(n==null){alert("Please select an image for the sign");return}if(!i.name||!i.purpose||!i.category){alert("Please fill in all required fields (Name, Purpose, Category).");return}m(!0);try{const W=Oo(HM,`images/${i.name}`),ne=await Ep(W,n),me=await Tp(ne.ref),de={name:i.name,purpose:i.purpose,category:i.category,violation:{description:i.violation.description,fine:i.violation.fine},isDanger:i.isDanger,precautions:i.precautions.map(F=>F.precaution),imgUrl:me};await wO(Nb(zo,"signs"),de),e({type:en.RESET}),s(null),u(null),alert("Sign added successfully!"),console.log("UPLOADED")}catch(W){console.log(W),alert("Error adding sign. Please try again.")}finally{m(!1)}};return T.jsxs("div",{className:"add-sign-container",children:[T.jsxs("div",{className:"professional-header",children:[T.jsxs("div",{className:"header-content",children:[T.jsxs("div",{className:"breadcrumb",children:[T.jsxs(Ur,{to:"/SignseSense-Collection/home",className:"breadcrumb-link",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),T.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("polyline",{points:"9,18 15,12 9,6"})}),T.jsx("span",{className:"breadcrumb-current",children:"Add Sign"})]}),T.jsxs("div",{className:"header-main",children:[T.jsx("h1",{className:"professional-title",children:"Create New Sign Entry"}),T.jsx("p",{className:"professional-subtitle",children:"Add comprehensive sign information to your digital collection"})]})]}),T.jsx("div",{className:"header-actions",children:T.jsx(Ur,{to:"/SignseSense-Collection/home",className:"cancel-btn",children:"Cancel"})})]}),T.jsxs("div",{className:"main-content",children:[T.jsx("div",{className:"image-section",children:T.jsxs("div",{className:"image-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Sign Image"}),T.jsx("span",{className:"required-indicator",children:"Required"})]}),T.jsxs("div",{className:"image-upload-area",children:[T.jsx("input",{type:"file",id:"image-upload",className:"file-input",accept:"image/*",onChange:V}),o?T.jsxs("div",{className:"image-preview",children:[T.jsx("img",{src:o||"/placeholder.svg",alt:"Preview",className:"preview-image"}),T.jsx("div",{className:"image-overlay",children:T.jsxs("label",{htmlFor:"image-upload",className:"change-image-btn",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),T.jsx("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Change"]})}),T.jsxs("div",{className:"image-details",children:[T.jsx("p",{className:"image-name",children:n?.name}),T.jsxs("p",{className:"image-size",children:[n&&(n.size/1024/1024).toFixed(2)," MB"]})]})]}):T.jsx("label",{htmlFor:"image-upload",className:"upload-zone",children:T.jsxs("div",{className:"upload-content",children:[T.jsx("div",{className:"upload-icon",children:T.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),T.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),T.jsx("h4",{children:"Upload Sign Image"}),T.jsx("p",{children:"Click to browse or drag and drop"}),T.jsx("div",{className:"file-formats",children:T.jsx("span",{children:"PNG, JPG, GIF up to 3MB"})})]})})]})]})}),T.jsx("div",{className:"form-section",children:T.jsxs("div",{className:"form-container",children:[T.jsxs("div",{className:"form-card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h3",{className:"card-title",children:"Basic Information"})}),T.jsxs("div",{className:"card-content",children:[T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Sign Name ",T.jsx("span",{className:"required",children:"*"})]}),T.jsx("input",{type:"text",placeholder:"Enter the sign name",onChange:k,ref:b,value:i.name,className:"form-input"})]}),T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Purpose ",T.jsx("span",{className:"required",children:"*"})]}),T.jsx("textarea",{placeholder:"Describe the purpose and function of this sign",onChange:B,ref:w,value:i.purpose,className:"form-textarea",rows:"4"})]}),T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Category ",T.jsx("span",{className:"required",children:"*"})]}),T.jsxs("select",{className:"form-select",value:i.category,onChange:K,children:[T.jsx("option",{value:"",disabled:!0,children:"Select a category"}),GM.map(W=>T.jsx("option",{value:W,children:W},W))]})]})]})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Safety Precautions"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(sA,{precautions:i.precautions,addNewPrecaution:g,removePrecaution:v,handlePrecaution:p})})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Danger Classification"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(oA,{distpatch:e,operations:en,isDanger:i.isDanger})})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Violation Information"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(aA,{distpatch:e,operations:en,violation:i.violation})})]}),T.jsx("div",{className:"form-actions",children:T.jsx("button",{onClick:te,className:`submit-btn ${h?"loading":""}`,disabled:h,children:h?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"loading-spinner"}),"Creating Sign Entry..."]}):T.jsxs(T.Fragment,{children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M12 5v14"}),T.jsx("path",{d:"M5 12h14"})]}),"Create Sign Entry"]})})})]})})]})]})}function sA({precautions:i,addNewPrecaution:e,removePrecaution:n,handlePrecaution:s}){return T.jsxs("div",{className:"precautions-container",children:[T.jsx("div",{className:"precautions-header",children:T.jsxs("button",{onClick:e,className:"add-precaution-btn",children:[T.jsx("span",{className:"plus-icon",children:"+"}),"Add Precaution"]})}),T.jsx("div",{className:"precautions-list",children:i.map((o,u)=>T.jsxs("div",{className:"precaution-item",children:[T.jsx("div",{className:"precaution-number",children:u+1}),T.jsx("input",{type:"text",placeholder:"Enter safety precaution",onChange:h=>s(o.id,h),value:o.precaution,className:"precaution-input"}),T.jsx("button",{onClick:()=>n(o.id),className:"remove-precaution-btn",disabled:i.length===1,children:""})]},"precaution"+o.id))})]})}function aA({distpatch:i,operations:e,violation:n}){return T.jsxs("div",{className:"violations-container",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:"Violation Description"}),T.jsx("input",{type:"text",placeholder:"Describe what constitutes a violation",value:n.description,className:"form-input",onChange:s=>{i({type:e.SET_VIOLATION,payload:{value:s.target.value}})}})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:"Fine Amount"}),T.jsxs("div",{className:"currency-input-wrapper",children:[T.jsx("span",{className:"currency-symbol",children:"$"}),T.jsx("input",{type:"number",placeholder:"0.00",value:n.fine,className:"form-input currency-input",min:"0",step:"0.01",onChange:s=>{i({type:e.SET_FINE,payload:{value:s.target.value}})}})]})]})]})}function oA({distpatch:i,operations:e,isDanger:n}){const s=()=>{const o=!n;i({type:e.SET_ISDANGER,payload:{value:o}})};return T.jsx("div",{className:"danger-container",children:T.jsxs("div",{className:"toggle-wrapper",children:[T.jsxs("div",{className:"toggle-info",children:[T.jsx("span",{className:"toggle-label",children:"Danger Classification"}),T.jsx("span",{className:"toggle-description",children:"Mark this sign as potentially dangerous"})]}),T.jsxs("button",{type:"button",className:`toggle-switch ${n?"active":""}`,onClick:s,"aria-pressed":n,children:[T.jsx("span",{className:"toggle-slider"}),T.jsx("span",{className:"toggle-text",children:n?"ON":"OFF"})]})]})})}const cu=iA(),lA={name:"",purpose:"",category:"",violation:{description:"",fine:0},isDanger:!1,precautions:[{precaution:"",id:0}]},Yt={SET_NAME:"set name",SET_PURPOSE:"set purpose",SET_CATEGORY:"set category",SET_VIOLATION:"set violation",SET_FINE:"set fine",SET_PRECAUTIONS:"set precautions",SET_PRECAUTION:"set precaution",ADD_PRECAUTION:"add precaution",REMOVE_PRECAUTION:"remove precaution",SET_ISDANGER:"is danger",RESET:"reset",LOAD_SIGN:"load sign"};function YM(i,e){switch(e.type){case Yt.LOAD_SIGN:{const n=e.payload;return{...n,precautions:n.precautions?.length>0?n.precautions.map((s,o)=>({precaution:typeof s=="string"?s:s.precaution,id:o})):[{precaution:"",id:0}],violation:n.violation||{description:"",fine:0}}}case Yt.SET_PRECAUTION:{const n=i.precautions.map(s=>s.id==e.payload.id?{...s,precaution:e.payload.value}:s);return{...i,precautions:n}}case Yt.ADD_PRECAUTION:return{...i,precautions:[...i.precautions,{precaution:"",id:i.precautions.length}]};case Yt.REMOVE_PRECAUTION:{const n=i.precautions.filter(s=>s.id!=e.payload.id);return{...i,precautions:n}}case Yt.SET_NAME:return{...i,name:e.payload.value};case Yt.SET_PURPOSE:return{...i,purpose:e.payload.value};case Yt.SET_CATEGORY:return{...i,category:e.payload.value};case Yt.SET_VIOLATION:return{...i,violation:{...i.violation,description:e.payload.value}};case Yt.SET_FINE:return{...i,violation:{...i.violation,fine:e.payload.value}};case Yt.SET_ISDANGER:return{...i,isDanger:e.payload.value};case Yt.RESET:return lA;default:return i}}const QM=["Road signs","Environmental sign","Facility signs","Guide signs","Health and safety signs","Informational signs","Regulatory signs","Utilities and Sustainability signs","Warning signs"];function XM(){const[i,e]=J.useReducer(YM,lA),[n,s]=J.useState(null),[o,u]=J.useState(null),[h,m]=J.useState(""),[p,g]=J.useState(!1),[v,b]=J.useState(!0),[w,k]=J.useState(!1),[B,K]=J.useState(!1),[V,te]=J.useState(null),{signId:W}=lT(),ne=Lu(),me=J.useCallback((Ie,X)=>{e({type:Yt.SET_PRECAUTION,payload:{id:Ie,value:X.target.value}})},[]),de=()=>{e({type:Yt.ADD_PRECAUTION})},F=Ie=>{i.precautions.length!=1&&e({type:Yt.REMOVE_PRECAUTION,payload:{id:Ie}})},I=J.useRef(),R=J.useRef(),C=()=>{e({type:Yt.SET_NAME,payload:{value:I.current.value}})},M=()=>{e({type:Yt.SET_PURPOSE,payload:{value:R.current.value}})},D=Ie=>{e({type:Yt.SET_CATEGORY,payload:{value:Ie.target.value}})};J.useEffect(()=>{(async()=>{if(!W){console.error("No sign ID provided for editing. Redirecting to home."),alert("No sign ID provided for editing. Redirecting to home."),ne("/SignseSense-Collection/home"),b(!1);return}try{const X=await Lb(Au(zo,"signs",W));if(X.exists()){const ie={id:X.id,...X.data()};te(ie),e({type:Yt.LOAD_SIGN,payload:ie}),m(ie.imgUrl||""),u(ie.imgUrl||"")}else alert("Sign not found!"),ne("/SignseSense-Collection/home")}catch(X){console.error("Error loading sign:",X),alert("Error loading sign data"),ne("/SignseSense-Collection/home")}finally{b(!1)}})()},[W,ne,e]);const U=Ie=>{const X=Ie.target.files[0];if(s(X),X){const ie=new FileReader;ie.onloadend=()=>{u(ie.result)},ie.readAsDataURL(X)}else u(h)},N=async()=>{if(!i.name||!i.purpose||!i.category){alert("Please fill in all required fields (Name, Purpose, Category).");return}g(!0);try{let Ie=h;if(n){if(h&&V?.name!==i.name)try{const je=Oo(cu,`images/${V.name}`);await Hm(je)}catch(je){console.log("Old image not found or couldn't be deleted:",je)}const ie=Oo(cu,`images/${i.name}`),_e=await Ep(ie,n);Ie=await Tp(_e.ref)}else if(V?.name!==i.name&&h)try{const ie=Oo(cu,`images/${V.name}`),_e=Oo(cu,`images/${i.name}`),O=await(await fetch(h)).blob(),se=await Ep(_e,O);Ie=await Tp(se.ref),await Hm(ie)}catch(ie){console.log("Error updating image reference:",ie)}const X={name:i.name,purpose:i.purpose,category:i.category,violation:{description:i.violation.description,fine:i.violation.fine},isDanger:i.isDanger,precautions:i.precautions.map(ie=>ie.precaution).filter(ie=>ie.trim()!==""),imgUrl:Ie};await bO(Au(zo,"signs",W),X),alert("Sign updated successfully!"),ne("/SignseSense-Collection/home")}catch(Ie){console.error("Error updating sign:",Ie),alert("Error updating sign. Please try again.")}finally{g(!1)}},lt=async()=>{K(!0);try{if(h&&V?.name)try{const Ie=Oo(cu,`images/${V.name}`);await Hm(Ie)}catch(Ie){console.log("Image not found or couldn't be deleted:",Ie)}await AO(Au(zo,"signs",W)),alert("Sign deleted successfully!"),ne("/SignseSense-Collection/home")}catch(Ie){console.error("Error deleting sign:",Ie),alert("Error deleting sign. Please try again.")}finally{K(!1),k(!1)}};return v?T.jsx("div",{className:"edit-sign-container",children:T.jsxs("div",{className:"loading-state",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("h2",{className:"loading-text",children:"Loading sign data..."}),T.jsx("p",{className:"loading-subtitle",children:"Please wait while we fetch the sign information"})]})}):T.jsxs("div",{className:"edit-sign-container",children:[T.jsxs("div",{className:"professional-header",children:[T.jsxs("div",{className:"header-content",children:[T.jsxs("div",{className:"breadcrumb",children:[T.jsxs(Ur,{to:"/SignseSense-Collection/home",className:"breadcrumb-link",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),T.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("polyline",{points:"9,18 15,12 9,6"})}),T.jsx("span",{className:"breadcrumb-current",children:"Edit Sign"})]}),T.jsxs("div",{className:"header-main",children:[T.jsx("h1",{className:"professional-title",children:"Edit Sign Entry"}),T.jsx("p",{className:"professional-subtitle",children:"Update sign information in your digital collection"})]})]}),T.jsxs("div",{className:"header-actions",children:[T.jsxs("button",{onClick:()=>k(!0),className:"delete-btn",disabled:p||B,children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("polyline",{points:"3,6 5,6 21,6"}),T.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2 2 0 0,1 2,2v2"}),T.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),T.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"Delete Sign"]}),T.jsx(Ur,{to:"/SignseSense-Collection/home",className:"cancel-btn",children:"Cancel"})]})]}),T.jsxs("div",{className:"main-content",children:[T.jsx("div",{className:"image-section",children:T.jsxs("div",{className:"image-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Sign Image"}),T.jsx("span",{className:"required-indicator",children:"Required"})]}),T.jsxs("div",{className:"image-upload-area",children:[T.jsx("input",{type:"file",id:"image-upload",className:"file-input",accept:"image/*",onChange:U}),o?T.jsxs("div",{className:"image-preview",children:[T.jsx("img",{src:o||"/placeholder.svg",alt:"Preview",className:"preview-image"}),T.jsx("div",{className:"image-overlay",children:T.jsxs("label",{htmlFor:"image-upload",className:"change-image-btn",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),T.jsx("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Change"]})}),n&&T.jsxs("div",{className:"image-details",children:[T.jsx("p",{className:"image-name",children:n.name}),T.jsxs("p",{className:"image-size",children:[(n.size/1024/1024).toFixed(2)," MB"]})]})]}):T.jsx("label",{htmlFor:"image-upload",className:"upload-zone",children:T.jsxs("div",{className:"upload-content",children:[T.jsx("div",{className:"upload-icon",children:T.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),T.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),T.jsx("h4",{children:"Upload Sign Image"}),T.jsx("p",{children:"Click to browse or drag and drop"}),T.jsx("div",{className:"file-formats",children:T.jsx("span",{children:"PNG, JPG, GIF up to 10MB"})})]})})]})]})}),T.jsx("div",{className:"form-section",children:T.jsxs("div",{className:"form-container",children:[T.jsxs("div",{className:"form-card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h3",{className:"card-title",children:"Basic Information"})}),T.jsxs("div",{className:"card-content",children:[T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Sign Name ",T.jsx("span",{className:"required",children:"*"})]}),T.jsx("input",{type:"text",placeholder:"Enter the sign name",onChange:C,ref:I,value:i.name,className:"form-input"})]}),T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Purpose ",T.jsx("span",{className:"required",children:"*"})]}),T.jsx("textarea",{placeholder:"Describe the purpose and function of this sign",onChange:M,ref:R,value:i.purpose,className:"form-textarea",rows:"4"})]}),T.jsxs("div",{className:"form-group",children:[T.jsxs("label",{className:"form-label",children:["Category ",T.jsx("span",{className:"required",children:"*"})]}),T.jsxs("select",{className:"form-select",value:i.category,onChange:D,children:[T.jsx("option",{value:"",disabled:!0,children:"Select a category"}),QM.map(Ie=>T.jsx("option",{value:Ie,children:Ie},Ie))]})]})]})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Safety Precautions"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(sA,{precautions:i.precautions,addNewPrecaution:de,removePrecaution:F,handlePrecaution:me})})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Danger Classification"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(oA,{distpatch:e,operations:Yt,isDanger:i.isDanger})})]}),T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Violation Information"}),T.jsx("span",{className:"optional-indicator",children:"Optional"})]}),T.jsx("div",{className:"card-content",children:T.jsx(aA,{distpatch:e,operations:Yt,violation:i.violation})})]}),T.jsx("div",{className:"form-actions",children:T.jsx("button",{onClick:N,className:`submit-btn ${p?"loading":""}`,disabled:p||B,children:p?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"loading-spinner"}),"Updating Sign..."]}):T.jsxs(T.Fragment,{children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),T.jsx("polyline",{points:"17,21 17,13 7,13 7,21"}),T.jsx("polyline",{points:"7,3 7,8 15,8"})]}),"Update Sign"]})})})]})})]}),w&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h3",{className:"modal-title",children:"Delete Sign"}),T.jsx("button",{onClick:()=>k(!1),className:"modal-close",disabled:B,children:T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),T.jsxs("div",{className:"modal-body",children:[T.jsx("div",{className:"warning-icon",children:T.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),T.jsx("path",{d:"M12 9v4"}),T.jsx("path",{d:"M12 17h.01"})]})}),T.jsx("h4",{className:"warning-title",children:"Are you sure you want to delete this sign?"}),T.jsxs("p",{className:"warning-message",children:['This action cannot be undone. The sign "',i.name,'" and its associated image will be permanently deleted from your collection.']})]}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{onClick:()=>k(!1),className:"cancel-modal-btn",disabled:B,children:"Cancel"}),T.jsx("button",{onClick:lt,className:`delete-modal-btn ${B?"loading":""}`,disabled:B,children:B?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"loading-spinner"}),"Deleting..."]}):T.jsxs(T.Fragment,{children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("polyline",{points:"3,6 5,6 21,6"}),T.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2 2 0 0,1 2,2v2"})]}),"Delete Sign"]})})]})]})})]})}function $M(){const{signId:i}=lT(),e=Lu(),[n,s]=J.useState(null),[o,u]=J.useState(!0),[h,m]=J.useState(null);return J.useEffect(()=>{i&&(async()=>{try{const g=Au(zo,"signs",i),v=await Lb(g);v.exists()?s({id:v.id,...v.data()}):m("Sign not found.")}catch(g){console.error("Error fetching sign details:",g),m("Failed to load sign details. Please try again.")}finally{u(!1)}})()},[i]),o?T.jsx("div",{className:"sign-details-container",children:T.jsxs("div",{className:"loading-state",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("h2",{className:"loading-text",children:"Loading sign details..."}),T.jsx("p",{className:"loading-subtitle",children:"Please wait while we fetch the sign information"})]})}):h?T.jsx("div",{className:"sign-details-container",children:T.jsxs("div",{className:"error-state",children:[T.jsx("div",{className:"error-icon",children:T.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[T.jsx("path",{d:"M18 6 6 18"}),T.jsx("path",{d:"m6 6 12 12"})]})}),T.jsx("h2",{className:"error-title",children:"Error"}),T.jsx("p",{className:"error-message",children:h}),T.jsx(Ur,{to:"/SignseSense-Collection/home",className:"back-home-btn",children:"Back to Homepage"})]})}):n?T.jsxs("div",{className:"sign-details-container",children:[T.jsxs("div",{className:"professional-header",children:[T.jsxs("div",{className:"header-content",children:[T.jsxs("div",{className:"breadcrumb",children:[T.jsxs(Ur,{to:"/SignseSense-Collection/home",className:"breadcrumb-link",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),T.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("polyline",{points:"9,18 15,12 9,6"})}),T.jsx("span",{className:"breadcrumb-current",children:n.name})]}),T.jsx("div",{className:"header-main",children:T.jsx("h1",{className:"professional-title",children:n.name})})]}),T.jsxs("div",{className:"header-actions",children:[T.jsxs(Ur,{to:`/SignseSense-Collection/edit/${n.id}`,className:"edit-sign-btn",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"M12 20h9"}),T.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),"Edit Sign"]}),T.jsxs("button",{onClick:()=>e(-1),className:"back-btn",children:[T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:T.jsx("path",{d:"m15 18-6-6 6-6"})}),"Back"]})]})]}),T.jsxs("div",{className:"main-content",children:[T.jsx("div",{className:"image-section",children:T.jsxs("div",{className:"image-card",children:[T.jsxs("div",{className:"card-header",children:[T.jsx("h3",{className:"card-title",children:"Sign Image"}),n.isDanger&&T.jsxs("div",{className:"danger-indicator",children:[T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[T.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),T.jsx("path",{d:"M12 9v4"}),T.jsx("path",{d:"M12 17h.01"})]}),"Danger Sign"]})]}),T.jsx("div",{className:"image-display-area",children:T.jsx("img",{src:n.imgUrl||"/placeholder.svg",alt:n.name,className:"sign-image-full"})})]})}),T.jsxs("div",{className:"details-section",children:[T.jsxs("div",{className:"details-card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h3",{className:"card-title",children:"Basic Information"})}),T.jsxs("div",{className:"card-content",children:[T.jsxs("div",{className:"detail-group",children:[T.jsx("span",{className:"detail-label",children:"Sign Name:"}),T.jsx("span",{className:"detail-value",children:n.name})]}),T.jsxs("div",{className:"detail-group",children:[T.jsx("span",{className:"detail-label",children:"Category:"}),T.jsx("span",{className:"detail-value category-badge",children:n.category})]}),T.jsxs("div",{className:"detail-group full-width",children:[T.jsx("span",{className:"detail-label",children:"Purpose:"}),T.jsx("p",{className:"detail-value purpose-text",children:n.purpose})]})]})]}),n.precautions&&n.precautions.length>0&&n.precautions[0].precaution!==""&&T.jsxs("div",{className:"details-card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h3",{className:"card-title",children:"Safety Precautions"})}),T.jsx("div",{className:"card-content",children:T.jsx("ul",{className:"precautions-list",children:n.precautions.map((p,g)=>T.jsxs("li",{className:"precaution-item",children:[T.jsx("span",{className:"precaution-number",children:g+1}),T.jsx("span",{className:"precaution-text",children:typeof p=="string"?p:p.precaution})]},g))})})]}),n.violation&&(n.violation.description||n.violation.fine>0)&&T.jsxs("div",{className:"details-card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h3",{className:"card-title",children:"Violation Information"})}),T.jsxs("div",{className:"card-content",children:[n.violation.description&&T.jsxs("div",{className:"detail-group full-width",children:[T.jsx("span",{className:"detail-label",children:"Description:"}),T.jsx("p",{className:"detail-value",children:n.violation.description})]}),n.violation.fine>0&&T.jsxs("div",{className:"detail-group",children:[T.jsx("span",{className:"detail-label",children:"Fine Amount:"}),T.jsxs("span",{className:"detail-value fine-amount-text",children:["$",n.violation.fine]})]})]})]})]})]})]}):null}const WM=iR([{path:"/SignseSense-Collection/",element:T.jsx(CO,{}),errorElement:T.jsx(DO,{})},{path:"/SignseSense-Collection/home",element:T.jsx(xO,{})},{path:"/SignseSense-Collection/addsign",element:T.jsx(KM,{})},{path:"/SignseSense-Collection/sign/:signId",element:T.jsx($M,{})},{path:"/SignseSense-Collection/edit/:signId",element:T.jsx(XM,{})}]);H1.createRoot(document.getElementById("root")).render(T.jsx(J.StrictMode,{children:T.jsx(fR,{router:WM})}));
